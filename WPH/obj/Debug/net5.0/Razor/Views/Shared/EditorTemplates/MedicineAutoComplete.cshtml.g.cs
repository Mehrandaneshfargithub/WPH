#pragma checksum "H:\Projects\WAS\WPH\Views\Shared\EditorTemplates\MedicineAutoComplete.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "168ff909548a649d94e57be1e5622c5d010bdb31"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(WPH.Pages.Shared.EditorTemplates.Views_Shared_EditorTemplates_MedicineAutoComplete), @"mvc.1.0.view", @"/Views/Shared/EditorTemplates/MedicineAutoComplete.cshtml")]
namespace WPH.Pages.Shared.EditorTemplates
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using WPH;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "H:\Projects\WAS\WPH\Views\Shared\EditorTemplates\MedicineAutoComplete.cshtml"
using WPH.Models.CustomDataModels.Medicine;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"168ff909548a649d94e57be1e5622c5d010bdb31", @"/Views/Shared/EditorTemplates/MedicineAutoComplete.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5221a2d8e2059d2e61789d73e7efe285a53b8943", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Shared_EditorTemplates_MedicineAutoComplete : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<string>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n\r\n");
#nullable restore
#line 5 "H:\Projects\WAS\WPH\Views\Shared\EditorTemplates\MedicineAutoComplete.cshtml"
Write(Html.Kendo().AutoCompleteFor(m => m)
                          .Name("MedicineJoineryName")
                          .DataTextField("JoineryName")
                          .ValuePrimitive(true)
                          //.Suggest(true)
                          //.Events(events => events.Select("OnMedcineSelect"))
                          .Filter(FilterType.Contains)
                          .MinLength(1)
                          .ClearButton(false)
                          .HighlightFirst(true)
                          //.BindTo(ViewBag.AllMedicinesList as IEnumerable<MedicineViewModel>)
                          //.BindTo(medicines)
                          .HtmlAttributes(new { style = "width:100%" })
//.DataSource(source =>
//{
//    source

//    .Read(read =>
//     {
//         read.Action("GetAllMedicine", "Medicine");
//     });

//})

);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"


<script>

    
    
    var curCell;
    $(document).ready(function () {

        autocomplete = $(""#MedicineJoineryName"").data(""kendoAutoComplete"");
        autocomplete.bind(""select"", OnMedicineSelect);

        autocomplete.setDataSource(medicines);

    })


    $(""#MedicineJoineryName"").on('focus', function (e) {
            
            //let value = autocomplete.value();
            //autocomplete.search(value);
    });


    function OnMedicineSelect(e) {
        
        
        var DataItem = this.dataItem(e.item.index());
        
         

        curCell = $(""#PrescriptionDetailGrid"").find("".k-edit-cell"");

        $(curCell).text(DataItem.JoineryName);

        var prevCellText = $(curCell).prev().text();

        

        




        if (prevCellText != ""0"") {
            
                grid.editCell(curCell.next());
             updateMode = true;
        }

        else {

            $("".loader"").removeClass(""hidden"");
          ");
            WriteLiteral(@"      var visitId = $(""#data"").attr(""data-visitId"");
                    $.ajax({
                        url: '/Visit/AddMedicineToVisit',
                        type: ""Post"",
                        dataType: ""JSON"",
                        data: { visitId: visitId, medicineId: DataItem.Guid },
                        success: function (eventList) {
                            grid.bind(""dataBound"", grid_dataBound);
                            $(""#PrescriptionDetailGrid"").find("".k-i-refresh"").click();
                
               
                            $("".loader"").fadeIn(""slow"");
                            $("".loader"").addClass(""hidden"");
                        }

                     });

        }

        //$(curCell).text(DataItem.JoineryName);

        //grid.editCell(curCell.next());

        //$(curCell).next().find(""input"").val(DataItem.Guid);

        //grid.editCell(curCell.next().next());

        //curCell = $(""#PrescriptionDetailGrid"").find("".k-edit-cell""");
            WriteLiteral(@");

        //$(curCell).html(""<span class='k-dirty'></span>"" + DataItem.JoineryName);

        //curCell.next().next().find(""input"").val(DataItem.JoineryName);

        //grid.editCell(curCell.next().next().next());
        //$(curCell).next().next().removeClass(""k-edit-cell"");

        //grid.closeCell();
        //grid.table.focus();

        //$(curCell).next().html(""<span class='k-dirty'></span>"" + DataItem.Guid);

        //$(curCell).next().next().addClass(""k-dirty-cell"")

        //$(curCell).next().next().html(""<span class='k-dirty'></span>"");
        //$(curCell).next().next().text(DataItem.JoineryName);
        //grid.editCell(curCell.next().next());

    }

    function grid_dataBound() {

        
        grid.editCell(""#PrescriptionDetailGrid td:eq(2)"");
        grid.unbind(""dataBound"", grid_dataBound);

    }

    
    

</script>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<string> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
