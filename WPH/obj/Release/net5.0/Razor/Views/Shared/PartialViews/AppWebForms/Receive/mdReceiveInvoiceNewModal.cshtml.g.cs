#pragma checksum "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e24ac568a6ca864c80f93bc7c9ea182fc1652fd7"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(WPH.Pages.Shared.PartialViews.AppWebForms.Receive.Views_Shared_PartialViews_AppWebForms_Receive_mdReceiveInvoiceNewModal), @"mvc.1.0.view", @"/Views/Shared/PartialViews/AppWebForms/Receive/mdReceiveInvoiceNewModal.cshtml")]
namespace WPH.Pages.Shared.PartialViews.AppWebForms.Receive
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using WPH;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
using System.Globalization;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"e24ac568a6ca864c80f93bc7c9ea182fc1652fd7", @"/Views/Shared/PartialViews/AppWebForms/Receive/mdReceiveInvoiceNewModal.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5221a2d8e2059d2e61789d73e7efe285a53b8943", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Shared_PartialViews_AppWebForms_Receive_mdReceiveInvoiceNewModal : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<WPH.Models.Receive.ReceiveViewModel>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 7 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
  
    string font = "", pull = "", row_reverse = "", dir = "";

    if (HttpContextAccessor.HttpContext.Session.GetString("culture") == "en")
    {
        font = " MyFont-Roboto-grid ";
        pull = " pull-left ";
        row_reverse = "row";
        dir = " ";

    }
    else
    {
        font = " MyFont-Sarchia-grid ";
        pull = " pull-right ";
        row_reverse = "row-reverse";
        dir = " direction:rtl; ";

#line default
#line hidden
#nullable disable
            WriteLiteral("        <h3 id=\"newReceiveText\" class=\"hidden\">");
#nullable restore
#line 24 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                                          Write(Localizer["Receive"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 24 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                                                                Write(Localizer["New"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h3>\r\n");
#nullable restore
#line 25 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
    }


#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<script>\r\n\r\n    $(\'#AddReceiveInvoiceModal-Customer\').text(\'");
#nullable restore
#line 31 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                                           Write(Model.CustomerName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\');\r\n\r\n    function GetCustomerAndCurrency() {\r\n\r\n        return {\r\n            customerId: $(\"#CustomerIdFilter\").val()\r\n        };\r\n    }\r\n\r\n</script>\r\n\r\n");
#nullable restore
#line 42 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
Write(Html.AntiForgeryToken());

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 43 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
Write(Html.HiddenFor(m => m.Guid));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 44 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
Write(Html.HiddenFor(m => m.CustomerId));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 45 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
Write(Html.HiddenFor(m => m.ReceiveType));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n\r\n");
#nullable restore
#line 48 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
 if (Model?.ReceiveAmounts != null)
{
    CultureInfo cultures = new CultureInfo("en-US");
    foreach (var item in Model.ReceiveAmounts)
    {
        int? cur = item.BaseCurrencyId;
        string _amount = $"UAmount_{cur}";
        string _baseCurrencyName = $"UBaseCurrencyName_{cur}";
        string _baseAmount = $"UBaseAmount_{cur}";
        string _destAmount = $"UDestAmount_{cur}";
        string _discount = $"UDiscount_{cur}";
        string _currencyId = $"UCurrencyId_{cur}";
        string _currencyName = $"UCurrencyName_{cur}";

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div>\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 1739, "\"", 1752, 1);
#nullable restore
#line 62 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 1744, _amount, 1744, 8, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 1753, "\"", 1813, 1);
#nullable restore
#line 62 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 1761, $"{item.Amount.Value.ToString("#.##", cultures)}", 1761, 52, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("/>\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 1850, "\"", 1873, 1);
#nullable restore
#line 63 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 1855, _baseCurrencyName, 1855, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 1874, "\"", 1904, 1);
#nullable restore
#line 63 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 1882, item.BaseCurrencyName, 1882, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("/>\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 1941, "\"", 1958, 1);
#nullable restore
#line 64 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 1946, _baseAmount, 1946, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 1959, "\"", 2023, 1);
#nullable restore
#line 64 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 1967, $"{item.BaseAmount.Value.ToString("#.##", cultures)}", 1967, 56, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("/>\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 2060, "\"", 2077, 1);
#nullable restore
#line 65 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 2065, _destAmount, 2065, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 2078, "\"", 2142, 1);
#nullable restore
#line 65 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 2086, $"{item.DestAmount.Value.ToString("#.##", cultures)}", 2086, 56, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("/>\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 2179, "\"", 2194, 1);
#nullable restore
#line 66 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 2184, _discount, 2184, 10, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 2195, "\"", 2257, 1);
#nullable restore
#line 66 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 2203, $"{item.Discount.Value.ToString("#.##", cultures)}", 2203, 54, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("/>\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 2294, "\"", 2311, 1);
#nullable restore
#line 67 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 2299, _currencyId, 2299, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 2312, "\"", 2336, 1);
#nullable restore
#line 67 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 2320, item.CurrencyId, 2320, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("/>\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 2373, "\"", 2392, 1);
#nullable restore
#line 68 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 2378, _currencyName, 2378, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 2393, "\"", 2419, 1);
#nullable restore
#line 68 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 2401, item.CurrencyName, 2401, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("/>\r\n        </div>\r\n");
#nullable restore
#line 70 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
    }
}

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

<div style=""clear:both;overflow:hidden;"">

    <div style=""width:100%;direction:ltr;"">

        <div style=""width:98%;margin: 0px auto;"">
            <div style=""width:100%;display:flex;margin:10px 0px;"">
                <div style=""width:46%;"">
                    <h1");
            BeginWriteAttribute("class", " class=\"", 2730, "\"", 2754, 3);
#nullable restore
#line 81 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 2738, font, 2738, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 2743, "blue", 2744, 5, true);
#nullable restore
#line 81 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 2748, pull, 2749, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 82 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                   Write(Localizer["ReceiveSaleInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n                <div style=\"width: 8%;\">\r\n\r\n                </div>\r\n                <div style=\"width: 46%;\">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 3039, "\"", 3063, 3);
#nullable restore
#line 89 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 3047, font, 3047, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 3052, "blue", 3053, 5, true);
#nullable restore
#line 89 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 3057, pull, 3058, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 90 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                   Write(Localizer["NotReceiveSaleInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n            <div style=\"width:100%;display:flex;\">\r\n\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 3311, "\"", 3338, 2);
            WriteAttributeValue(" ", 3319, "Grid-Content", 3320, 13, true);
#nullable restore
#line 96 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 3332, font, 3333, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width:46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 97 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Receive/dgReceiveInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div style=\"width: 8%;height:200px;display:flex;flex-direction:column;align-items:center;justify-content: center;\">\r\n                    ");
#nullable restore
#line 100 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_select_receive")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-success" })
                        .Content(Localizer["<"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 104 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_notSelect_receive")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-danger " })
                        .Content(Localizer[">"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 4325, "\"", 4352, 2);
            WriteAttributeValue(" ", 4333, "Grid-Content", 4334, 13, true);
#nullable restore
#line 109 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 4346, font, 4347, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width: 46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n\r\n                    ");
#nullable restore
#line 111 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Receive/dgTotalInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div style=\"width:98%;margin: 0px auto;\">\r\n            <div style=\"width:100%;display:flex;margin:10px 0px;\">\r\n                <div style=\"width:46%;\">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 4798, "\"", 4822, 3);
#nullable restore
#line 120 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 4806, font, 4806, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 4811, "blue", 4812, 5, true);
#nullable restore
#line 120 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 4816, pull, 4817, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 121 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                   Write(Localizer["ReceiveReturnSaleInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n                <div style=\"width: 8%;\">\r\n\r\n                </div>\r\n                <div style=\"width: 46%;\">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 5113, "\"", 5137, 3);
#nullable restore
#line 128 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue("", 5121, font, 5121, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 5126, "blue", 5127, 5, true);
#nullable restore
#line 128 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 5131, pull, 5132, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 129 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                   Write(Localizer["NotReceiveReturnSaleInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n            <div style=\"width:100%;display:flex;\">\r\n\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 5391, "\"", 5418, 2);
            WriteAttributeValue(" ", 5399, "Grid-Content", 5400, 13, true);
#nullable restore
#line 135 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 5412, font, 5413, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width:46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 136 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Receive/dgReceiveReturnInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div style=\"width: 8%;height:200px;display:flex;flex-direction:column;align-items:center;justify-content: center;\">\r\n                    ");
#nullable restore
#line 139 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_select_return")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-success" })
                        .Content(Localizer["<"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 143 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_notSelect_return")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-danger " })
                        .Content(Localizer[">"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 6409, "\"", 6436, 2);
            WriteAttributeValue(" ", 6417, "Grid-Content", 6418, 13, true);
#nullable restore
#line 148 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 6430, font, 6431, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width: 46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 149 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Receive/dgTotalReturnInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                </div>
            </div>
        </div>

    </div>

    <div class=""row page-header "">

    </div>

    <div class=""col-sm-12"" style=""padding:0px;"">

        <div class=""col-sm-2"">
            <label class=""block clearfix"">
                <label for=""form-field-8"">");
#nullable restore
#line 164 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                                     Write(Localizer["Date"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                <span class=\"block input-icon input-icon-right\">\r\n                    ");
#nullable restore
#line 166 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                Write(Html.Kendo().DatePicker()
                        .Name("ReceiveDateTxt")
                        .Format("dd/MM/yyyy")
                        .Value(Model.ReceiveDate ?? DateTime.Now)
                        .Enable((bool)(ViewBag.AccessEditDate ?? false))
                        .HtmlAttributes(new { style = "width: 100%;", @data_checkEmpty = "ReceiveDateTxt-box" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </span>\r\n                <span id=\"ReceiveDateTxt-box\" class=\"emptybox hidden\" data-isEssential=\"true\" style=\"color:red;\">\r\n                    ");
#nullable restore
#line 175 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
               Write(Localizer["ThisFieldIsEmptyPleaseFillIt"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </span>\r\n                <span id=\"Date-valid\" class=\"emptybox hidden\" style=\"color:red;\">\r\n                    ");
#nullable restore
#line 178 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
               Write(Localizer["DateNotValid"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </span>\r\n            </label>\r\n        </div>\r\n\r\n        <div class=\"col-sm-3\">\r\n            <label class=\"block clearfix\">\r\n                <label for=\"form-field-8\">");
#nullable restore
#line 185 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                                     Write(Localizer["InvoiceNum"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                <span class=\"block input-icon input-icon-right\">\r\n                    ");
#nullable restore
#line 187 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                Write(Html.Kendo().TextBox()
                    .Name("InvoiceNum")
                    .Enable(false)
                    .Value(Model.InvoiceNum)
                    .HtmlAttributes(new { style = "width: 100%" })
                    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </span>\r\n            </label>\r\n        </div>\r\n\r\n        <div class=\"col-sm-7\">\r\n            <label class=\"block clearfix\">\r\n                <label for=\"form-field-8\">");
#nullable restore
#line 199 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                                     Write(Localizer["Description"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                <span class=\"block input-icon input-icon-right\">\r\n                    ");
#nullable restore
#line 201 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                Write(Html.Kendo().TextArea()
                        .Name("Description")
                        .Value(Model.Description)
                        .HtmlAttributes(new { style = "width:100%" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                </span>
            </label>
        </div>

    </div>
    <div id=""amount_container"" class=""col-sm-12"" style=""padding:0px;"">

    </div>

    <div id=""total_amount_container"" class=""col-sm-12"" style=""padding:0px;"">

    </div>

</div>

<script>
    let currency_dataSource;

    $(document).ready(function () {

        $.ajax({
            type: ""Get"",
            url: ""/BaseInfo/GetAllCurrencies"",
            success: function (response) {

                currency_dataSource = response;
                RefreshGrids();
            }
        });

        setTimeout(function () {

            $('#ReceiveDateTxt').focus();
        }, 500);
    });


    $('#ReceiveDateTxt').on('keypress', function (e) {
        if (e.which === 13) {
            $(""#Description"").focus();
        }
    });


    $('#Description').keypress(function (e) {
        if (e.which === 13 || e.which === 9) {

            let dis = $(`#DetailDiscount_0`).data(""kendoNumericT");
            WriteLiteral(@"extBox"");
            if (dis) {
                dis.focus();

            } else {

                $(""#btn-AddReceiveInvoiceModal-accept"").focus();
            }

        }
    });


    function CalculateTotal() {
        let last = '';

        let receiveInvoice_dataSource = $(""#receiveInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        receiveInvoice_dataSource.filter(function (item) {

            if (item.TotalPrice != null) {

                let res = item.TotalPrice.toString().split(""_"");

                for (let i = 0; i < res.length; i++) {
                    let money = res[i].split("" "");

                    if (money.length > 1) {

                        if (last.includes(money[0])) {
                            let last_res = last.toString().split(""_"");
                            let new_last = '';
                            for (let j = 0; j < last_res.length; j++) {
                                if (last_res[j].includes(money[0])) {
      ");
            WriteLiteral(@"                              let last_money = last_res[j].split("" "");

                                    let sum = Number(GetFirstNumber(money[1]));
                                    let last_sum = Number(GetFirstNumber(last_money[1]));


                                    sum += last_sum;
                                    new_last += `${money[0]} ${parseFloat(sum).toLocaleString('en')}_`;
                                } else {
                                    if (last_res[j] != '')
                                        new_last += `${last_res[j]}_`;
                                }
                            }
                            last = new_last;
                        } else {

                            last += `${money[0]} ${money[1]}_`;
                        }

                    }
                }

                var last_rem = last.split(""_"");
                var rem = last;
                for (var i = 0; i < last_rem.length; i++) {
            ");
            WriteLiteral(@"        let money = last_rem[i].split("" "");
                    if (!rem.includes(money[0]) && money.length > 1) {
                        last += `${money[0]} ${money[1]}_`;
                    }
                }
            }

            return false;
        });


        let receiveReturn_dataSource = $(""#receiveReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        receiveReturn_dataSource.filter(function (item) {

            if (item.TotalPrice != null) {

                let res = item.TotalPrice.toString().split(""_"");

                for (let i = 0; i < res.length; i++) {
                    let money = res[i].split("" "");

                    if (money.length > 1) {

                        if (last.includes(money[0])) {
                            let last_res = last.toString().split(""_"");
                            let new_last = '';
                            for (let j = 0; j < last_res.length; j++) {
                                if (last_res[j].i");
            WriteLiteral(@"ncludes(money[0])) {
                                    let last_money = last_res[j].split("" "");

                                    let sum = Number(GetFirstNumber(money[1]));
                                    let last_sum = Number(GetFirstNumber(last_money[1]));

                                    sum = -sum;

                                    //if (last_money[1].includes(""-""))
                                    //    last_sum = -last_sum;

                                    sum += last_sum;
                                    new_last += `${money[0]} ${parseFloat(sum).toLocaleString('en')}_`;
                                } else {
                                    if (last_res[j] != '')
                                        new_last += `${last_res[j]}_`;
                                }
                            }
                            last = new_last;
                        } else {

                            last += `${money[0]} -${money[1]}_`;
           ");
            WriteLiteral(@"             }

                    }
                }

                var last_rem = last.split(""_"");
                var rem = last;
                for (var i = 0; i < last_rem.length; i++) {
                    let money = last_rem[i].split("" "");
                    if (!rem.includes(money[0]) && money.length > 1) {
                        last += `${money[0]} ${money[1]}_`;
                    }
                }
            }

            return false;
        });



        let elements = '';
        let amount_txt = '");
#nullable restore
#line 381 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                     Write(Localizer["Amount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n        let receive_txt = \'");
#nullable restore
#line 382 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                      Write(Localizer["Receive"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n        let currency_txt = \'");
#nullable restore
#line 383 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                       Write(Localizer["Currency"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n        let detailDiscount_txt = \'% ");
#nullable restore
#line 384 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                               Write(Localizer["Discount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n        let discount_txt = \'# ");
#nullable restore
#line 385 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                         Write(Localizer["Discount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"';

        let item = last.split(""_"");
        for (var i = 0; i < item.length; i++) {
            if (item[i] != '') {
                let money = item[i].split("" "");

                let main_currency_id = GetCurrencyIdByName(money[0]);
                let currency_id = main_currency_id;
                let update_currency = $(`#UCurrencyId_${currency_id}`).val();
                if (update_currency)
                    currency_id = update_currency;

                let discount_val = 0;
                let update_discount = $(`#UDiscount_${main_currency_id}`).val();
                if (update_discount)
                    discount_val = update_discount;

                let baseAmount_val = 1;
                let update_baseAmount = $(`#UBaseAmount_${main_currency_id}`).val();
                if (update_baseAmount)
                    baseAmount_val = update_baseAmount;

                let destAmount_val = 1;
                let update_destAmount = $(`#UDestAmount_${main_currency");
            WriteLiteral(@"_id}`).val();
                if (update_destAmount)
                    destAmount_val = update_destAmount;

                let lblDestAmount_val = '';
                let update_lblDestAmount = $(`#UCurrencyName_${main_currency_id}`).val();
                if (update_lblDestAmount)
                    lblDestAmount_val = update_lblDestAmount;

                let hid = '';
                if (main_currency_id == currency_id)
                    hid = "" hidden "";

                let visible = '';
                //if (money[1].includes('-')) {
                //    visible = ' visibility: hidden; ';
                //} else {
                //    visible = ' visibility: visible; ';
                //}
                elements += `
                        <div class=""col-sm-12 ReceiveLine"" data-line=""${i}"" style=""padding:0px;"">

                            <div class=""col-sm-2"">
                                <label class=""block clearfix"">
                                    <label");
            WriteLiteral(@" for=""form-field-8"">${amount_txt} : </label>
                                    <span class=""block input-icon input-icon-right"">
                                        <input id=""Amount_${i}"" value=""${money[1]}"" class=""receiveAmountTxt"" style=""width:85%;"" />
                                        <label id=""BaseCurrency_${i}"">${money[0]}</label>
                                    </span>
                                </label>
                            </div>

                            <div class=""col-sm-3"" style=""padding:0px;${visible}"">
                                <div class=""col-sm-6"">
                                    <label class=""block clearfix"">
                                        <label for=""form-field-8"">${detailDiscount_txt} : </label>
                                        <span class=""block input-icon input-icon-right"">

                                            <input type=""number"" value=""0"" min=""0"" max=""100"" id=""DetailDiscount_${i}"" onfocusout=""DetailDiscountF");
            WriteLiteral(@"ocusOut(this)"" onkeypress=""DetailDiscountKeyPress(this)"" class=""receiveAmountDiscount"" style=""width:100%;"" />

                                        </span>
                                    </label>
                                </div>

                                <div class=""col-sm-6"">
                                    <label class=""block clearfix"">
                                        <label for=""form-field-8"">${discount_txt} : </label>
                                        <span class=""block input-icon input-icon-right"">

                                            <input type=""number"" value=""${discount_val}"" min=""0"" id=""Discount_${i}"" onfocusout=""DiscountFocusOut(this)"" onkeypress=""DiscountKeyPress(this)"" class=""receiveAmountDiscount "" style=""width:100%;"" />

                                        </span>
                                        <label id=""lblDiscountChangeAmount_${i}"" class=""hidden"" style=""font-size: 12px;color: grey;""></label>
                           ");
            WriteLiteral(@"         </label>
                                </div>
                            </div>

                            <div class=""col-sm-2"">
                                <label class=""block clearfix"">
                                    <label for=""form-field-8"">${receive_txt} : </label>
                                    <span class=""block input-icon input-icon-right"">
                                        <input id=""Receive_${i}"" value=""${money[1]}"" class=""receiveAmountTxt"" style=""width:100%;"" />
                                    </span>
                                    <label id=""lblReceiveChangeAmount_${i}"" class=""hidden"" style=""font-size: 12px;color: grey;""></label>
                                </label>
                            </div>

                            <div class=""col-sm-2"">
                                <label class=""block clearfix"">
                                    <label for=""form-field-8"">${currency_txt} : </label>
                                 ");
            WriteLiteral(@"   <span class=""block input-icon input-icon-right"">
                                        <input id=""Currency_${i}"" value=""${currency_id}"" onchange=""CurrencyChange(this)"" class=""receiveAmountCurrency"" style=""width:100%;"" />
                                    </span>
                                    <label id=""lblChangeAmount_${i}"" class=""hidden"" style=""font-size: 12px;color: grey;""></label>
                                </label>
                            </div>

                            <div id=""convert_container_${i}"" class=""col-sm-3 ${hid}"" style=""padding:0px;"">
                                <div class=""col-sm-6"">
                                    <label class=""block clearfix "">
                                        <label id=""lblBaseAmount_${i}"" for=""form-field-8"">${money[0]}</label>
                                        <span class=""block input-icon input-icon-right"">

                                            <input type=""number"" value=""${baseAmount_val}"" min=""1"" id=""B");
            WriteLiteral(@"aseAmount_${i}"" onfocusout=""ChangeAmountFocusOut(this)"" onkeypress=""BaseAmountKeyPress(this)"" class=""receiveAmountNum"" style=""width:100%;"" />

                                        </span>
                                    </label>
                                </div>

                                <div class=""col-sm-6"">
                                    <label class=""block clearfix "">
                                        <label id=""lblDestAmount_${i}"" for=""form-field-8"">${lblDestAmount_val}</label>
                                        <span class=""block input-icon input-icon-right"">

                                            <input type=""number"" value=""${destAmount_val}"" min=""1"" id=""DestAmount_${i}"" onfocusout=""ChangeAmountFocusOut(this)"" onkeypress=""DestAmountKeyPress(this)"" class=""receiveAmountNum "" style=""width:100%;"" />

                                        </span>
                                    </label>
                                </div>
                    ");
            WriteLiteral(@"        </div>

                        </div>`
                    ;
            }
        }


        $('#amount_container').empty();
        $('#total_amount_container').empty();
        var div = document.getElementById(""amount_container"");
        div.insertAdjacentHTML('afterbegin', elements);

        SetTelerikItems(currency_dataSource);
    }


    function SetTelerikItems(dataSource) {

        $("".receiveAmountDiscount"").kendoNumericTextBox({
            culture: ""en-US"",
            min: 0,
            format: ""#,#.##""
        });

        $("".receiveAmountNum"").kendoNumericTextBox({
            culture: ""en-US"",
            decimals: 0,
            min: 1,
            format: ""#,#.##"",
        });

        $("".receiveAmountTxt"").kendoTextBox({
            enable: false
        });

        $("".receiveAmountCurrency"").kendoDropDownList({
            dataTextField: ""Name"",
            dataValueField: ""Id"",
            dataSource: dataSource
        });

   ");
            WriteLiteral(@"     $("".receiveAmountCurrency"").parent().on(""keypress"", function (e) {

            if (e.which === 13) {

                let input = $(this).find('input.receiveAmountCurrency')[0];
                let id = input.id;
                let count = id.split(""_"");

                if ($(`#convert_container_${count[1]}`).hasClass(""hidden"")) {
                    let next = Number(count[1]) + 1;

                    let dis = $(`#DetailDiscount_${next}`).data(""kendoNumericTextBox"");
                    if (dis) {
                        dis.focus();

                    } else {

                        $(""#btn-AddReceiveInvoiceModal-accept"").focus();
                    }

                } else {

                    $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"").focus();
                }
            }
        });

        $("".receiveAmountCurrency"").each(function () {
            $(this).trigger(""change"");
        });

        $('#AddReceiveInvoiceModal .ReceiveLine').e");
            WriteLiteral(@"ach(function () {
            let line = $(this).attr(""data-line"");
            if (line) {

                $(`#DestAmount_${line}`).data(""kendoNumericTextBox"").focus();

                $('#ReceiveDateTxt').focus();
            }
        });
    }

    function DetailDiscountKeyPress(e) {

        if (event.keyCode === 13) {
            let id = $(e).attr(""id"");
            let count = id.split(""_"");

            $(`#Discount_${count[1]}`).data(""kendoNumericTextBox"").focus();
        }
    }

    function DiscountKeyPress(e) {

        if (event.keyCode === 13) {
            let id = $(e).attr(""id"");
            let count = id.split(""_"");

            let drop = $(`#Currency_${count[1]}`).data(""kendoDropDownList"");
            drop.focus();
            drop.open();
        }
    }

    function BaseAmountKeyPress(e) {

        if (event.keyCode === 13) {
            let id = $(e).attr(""id"");
            let count = id.split(""_"");

            $(`#DestAmount_${count[1]}");
            WriteLiteral(@"`).data(""kendoNumericTextBox"").focus();
        }
    }

    function DestAmountKeyPress(e) {

        if (event.keyCode === 13) {
            let id = $(e).attr(""id"");
            let count = id.split(""_"");
            let next = Number(count[1]) + 1;

            let dis = $(`#DetailDiscount_${next}`).data(""kendoNumericTextBox"");
            if (dis) {
                dis.focus();

            } else {

                $(""#btn-AddReceiveInvoiceModal-accept"").focus();
            }
        }
    }

    function CurrencyChange(e) {

        let id = $(e).attr(""id"");
        let count = id.split(""_"");

        var currency = $(`#${id}`).data(""kendoDropDownList"");
        var currency_txt = currency.text();
        var baseCurrency_txt = $(`#BaseCurrency_${count[1]}`).text();

        var BaseAmount = $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"");
        if (BaseAmount.value() == '')
            BaseAmount.value(1);

        var DestAmount = $(`#DestAmount_${count[");
            WriteLiteral(@"1]}`).data(""kendoNumericTextBox"");
        if (DestAmount.value() == '')
            DestAmount.value(1);

        if (baseCurrency_txt == currency_txt) {

            $(`#convert_container_${count[1]}`).addClass(""hidden"");
            $(`#lblChangeAmount_${count[1]}`).addClass(""hidden"");
            $(`#lblReceiveChangeAmount_${count[1]}`).addClass(""hidden"");
            $(`#lblDiscountChangeAmount_${count[1]}`).addClass(""hidden"");

            CalculateDiscount(count[1]);

        } else {

            $(`#convert_container_${count[1]}`).removeClass(""hidden"");
            $(`#lblReceiveChangeAmount_${count[1]}`).removeClass(""hidden"");
            $(`#lblDiscountChangeAmount_${count[1]}`).removeClass(""hidden"");
            $(`#lblChangeAmount_${count[1]}`).removeClass(""hidden"");
            $(`#lblChangeAmount_${count[1]}`).text($(`#Amount_${count[1]}`).val());
            $(`#lblDestAmount_${count[1]}`).text(currency_txt);

            $("".loader"").removeClass(""hidden"");
            $");
            WriteLiteral(@".ajax({
                type: ""Get"",
                url: ""/MoneyConvert/GetMoneyConvertBaseCurrencyName"",
                data: {
                    baseCurrencyName: baseCurrency_txt,
                    destCurrencyName: currency_txt
                },
                success: function (response) {

                    if (response == null || response === 0) {

                        $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"").value(1);
                        $(`#DestAmount_${count[1]}`).data(""kendoNumericTextBox"").value(1);

                    } else {
                        let base_currency = response.BaseCurrencyName;
                        let dest_currency = response.DestCurrencyName;

                        if (base_currency == baseCurrency_txt) {

                            $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"").value(response.BaseAmount);
                            $(`#DestAmount_${count[1]}`).data(""kendoNumericTextBox"").value(response.D");
            WriteLiteral(@"estAmount);

                        } else {

                            $(`#DestAmount_${count[1]}`).data(""kendoNumericTextBox"").value(response.BaseAmount);
                            $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"").value(response.DestAmount);

                        }

                    }

                    SetChangeAmount(count[1]);
                    CalculateDiscount(count[1]);

                    $("".loader"").fadeIn(""slow"");
                    $("".loader"").addClass(""hidden"");
                }
            });

        }

    }

    function DetailDiscountFocusOut(e) {

        let id = $(e).attr(""id"");
        let count = id.split(""_"");

        CalculateDetailDiscount(count[1]);
    }

    function CalculateDetailDiscount(line) {

        var currency = $(`#Currency_${line}`).data(""kendoDropDownList"");
        var currency_txt = currency.text();
        //var baseCurrency_txt = $(`#BaseCurrency_${line}`).text();

        let amoun");
            WriteLiteral(@"t_txt = $(`#Amount_${line}`).val();
        let txt_res = Number(GetFirstNumber(amount_txt));
        let amount = Math.abs(txt_res);

        let dis_val = $(`#DetailDiscount_${line}`).data(""kendoNumericTextBox"").value();

        let dis = (dis_val * amount) / 100;
        $(`#Discount_${line}`).data(""kendoNumericTextBox"").value(dis);


        let txt_dis = amount - dis;
        if (txt_res < 0)
            txt_dis = -txt_dis;

        $(`#Receive_${line}`).val(parseFloat(txt_dis).toLocaleString('en'));


        let baseAmount_txt = $(`#AddPayInvoiceModal #BaseAmount_${line}`).val();
        let baseAmount = Number(GetFirstNumber(baseAmount_txt));

        let destAmount_tx = $(`#AddPayInvoiceModal #DestAmount_${line}`).val();
        let destAmount = Number(GetFirstNumber(destAmount_tx));

        let res = amount * destAmount / baseAmount;

        let lbl_dis = (dis_val * res) / 100;
        $(`#lblDiscountChangeAmount_${line}`).text(`${currency_txt} ${parseFloat(lbl_dis).toLo");
            WriteLiteral(@"caleString('en')}`);

        let total = res - lbl_dis;
        if (txt_res < 0)
            total = -total;
        $(`#lblReceiveChangeAmount_${line}`).text(`${currency_txt} ${parseFloat(total).toLocaleString('en')}`);

        CalculateTotalReceiveAfterDiscount();
    }

    function DiscountFocusOut(e) {

        let id = $(e).attr(""id"");
        let count = id.split(""_"");

        CalculateDiscount(count[1]);
    }

    function CalculateDiscount(line) {

        var currency = $(`#Currency_${line}`).data(""kendoDropDownList"");
        var currency_txt = currency.text();
        //var baseCurrency_txt = $(`#BaseCurrency_${line}`).text();

        let amount_txt = $(`#Amount_${line}`).val();
        let txt_res = Number(GetFirstNumber(amount_txt));
        let amount = Math.abs(txt_res);

        let dis_val = $(`#Discount_${line}`).data(""kendoNumericTextBox"").value();

        let dis = (100 * dis_val) / amount;
        $(`#DetailDiscount_${line}`).data(""kendoNumericTextBox");
            WriteLiteral(@""").value(dis);


        let txt_dis = amount - dis_val;
        if (txt_res < 0)
            txt_dis = -txt_dis;

        $(`#Receive_${line}`).val(parseFloat(txt_dis).toLocaleString('en'));


        let baseAmount_txt = $(`#AddReceiveInvoiceModal #BaseAmount_${line}`).val();
        let baseAmount = Number(GetFirstNumber(baseAmount_txt));

        let destAmount_tx = $(`#AddReceiveInvoiceModal #DestAmount_${line}`).val();
        let destAmount = Number(GetFirstNumber(destAmount_tx));

        let res = amount * destAmount / baseAmount;

        let lbl_dis = (dis * res) / 100;
        $(`#lblDiscountChangeAmount_${line}`).text(`${currency_txt} ${parseFloat(lbl_dis).toLocaleString('en')}`);

        let total = res - lbl_dis;
        if (txt_res < 0)
            total = -total;
        $(`#lblReceiveChangeAmount_${line}`).text(`${currency_txt} ${parseFloat(total).toLocaleString('en')}`);

        CalculateTotalReceiveAfterDiscount();
    }

    function ChangeAmountFocusOut(e) ");
            WriteLiteral(@"{

        let id = $(e).attr(""id"");
        let count = id.split(""_"");

        SetChangeAmount(count[1]);
    }

    function SetChangeAmount(cooount) {

        let amount_txt = $(`#Amount_${cooount}`).val();
        let amount = Number(GetFirstNumber(amount_txt));

        let base_txt = $(`#BaseAmount_${cooount}`).val();
        let base = Number(GetFirstNumber(base_txt));

        let dest_txt = $(`#DestAmount_${cooount}`).val();
        let dest = Number(GetFirstNumber(dest_txt));

        let sum = amount * dest / base;

        var currency = $(`#Currency_${cooount}`).data(""kendoDropDownList"");
        var currency_txt = currency.text();

        let result = `total ${currency_txt} : ${parseFloat(sum).toLocaleString('en')}`;
        $(`#lblChangeAmount_${cooount}`).text(result);

        CalculateDiscount(cooount);
    }

    function GetReceiveSaleInvoice(receiveId) {
        return $.ajax({
            type: ""Get"",
            url: ""/SaleInvoice/GetReceiveSaleInvoic");
            WriteLiteral(@"e"",
            data: { ReceiveId: receiveId },
        });
    }

    function GetReceiveReturnSaleInvoice(receiveId) {
        return $.ajax({
            type: ""Get"",
            url: ""/ReturnSaleInvoice/GetReceiveReturnSaleInvoice"",
            data: { receiveId: receiveId },
        });
    }


    function RefreshGrids() {
        var guid = $(""#Guid"").val();
        var customerId = $(""#CustomerIdFilter"").val();

        $.ajax({
            type: ""Get"",
            url: ""/SaleInvoice/GetNotReceiveSaleInvoice"",
            data: { customerId: customerId },
            success: function (response) {

                $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(response);
            }
        });

        $.ajax({
            type: ""Get"",
            url: ""/ReturnSaleInvoice/GetNotReceiveReturnSaleInvoice"",
            data: { customerId: customerId },
            success: function (response) {

                $(""#totalReturnInvoiceKendoGrid"").data(""kend");
            WriteLiteral(@"oGrid"").setDataSource(response);
            }
        });

        $.when(GetReceiveSaleInvoice(guid), GetReceiveReturnSaleInvoice(guid)).done(function (sale_receive, return_receive) {

            $(""#receiveInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(sale_receive[0]);

            $(""#receiveReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(return_receive[0]);

            CalculateTotal();
        });

    }


    $('#btn_select_receive').on(""click"", function () {
        $(this).attr(""disabled"", true);

        let totalInvoice_dataSource = $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let receiveInvoice_dataSource = $(""#receiveInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_totalInvoice"").find("":checkbox:checked"").each(function () {

            let description = $(this).parent().attr(""data-desctiption"");
            if (description == null || description == 'null')
                description = '';

       ");
            WriteLiteral(@"     var elem = {
                ClinicSectionId: null,
                CreatedUserId: null,
                Description: description,
                Guid: $(this).parent().attr(""data-id""),
                Id: 0,
                Index: 0,
                InvoiceDate: """",
                InvoiceDateTxt: $(this).parent().attr(""data-date""),
                InvoiceNum: $(this).parent().attr(""data-invoice""),
                ModifiedUserId: null,
                SaleInvoiceDetails: null,
                CustomerId: null,
                CustomerName: null,
                TotalPrice: $(this).parent().attr(""data-price"")
            };

            receiveInvoice_dataSource.push(elem);

            totalInvoice_dataSource = RemoveFromListByGuid(totalInvoice_dataSource, $(this).parent().attr(""data-id""));

        });

        $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(totalInvoice_dataSource);
        $(""#receiveInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexLis");
            WriteLiteral(@"t(receiveInvoice_dataSource));


        CalculateTotal();

        $('#btn_select_receive').removeAttr(""disabled"");
    });

    $('#btn_notSelect_receive').on(""click"", function () {
        $(this).attr(""disabled"", true);

        let receiveInvoice_dataSource = $(""#receiveInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let totalInvoice_dataSource = $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_receiveInvoice"").find("":checkbox:checked"").each(function () {

            let description = $(this).parent().attr(""data-desctiption"");
            if (description == null || description == 'null')
                description = '';

            var elem = {
                ClinicSectionId: null,
                CreatedUserId: null,
                Description: description,
                Guid: $(this).parent().attr(""data-id""),
                Id: 0,
                Index: 0,
                InvoiceDate: """",
                InvoiceDate");
            WriteLiteral(@"Txt: $(this).parent().attr(""data-date""),
                InvoiceNum: $(this).parent().attr(""data-invoice""),
                ModifiedUserId: null,
                SaleInvoiceDetails: null,
                CustomerId: null,
                CustomerName: null,
                TotalPrice: $(this).parent().attr(""data-price"")
            };

            totalInvoice_dataSource.push(elem);

            receiveInvoice_dataSource = RemoveFromListByGuid(receiveInvoice_dataSource, $(this).parent().attr(""data-id""));

        });

        $(""#receiveInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(receiveInvoice_dataSource);
        $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(totalInvoice_dataSource));


        CalculateTotal();

        $('#btn_notSelect_receive').removeAttr(""disabled"");
    });

    $('#btn_select_return').on(""click"", function () {

        $(this).attr(""disabled"", true);

        let totalReturn_dataSource = $(""#totalReturnInvoiceKendoGrid"")");
            WriteLiteral(@".data(""kendoGrid"").dataSource.data();
        let receiveReturn_dataSource = $(""#receiveReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_return_totalInvoice"").find("":checkbox:checked"").each(function () {

            let description = $(this).parent().attr(""data-desctiption"");
            if (description == null || description == 'null')
                description = '';

            var elem = {
                Index: 0,
                Guid: $(this).parent().attr(""data-id""),
                Id: 0,
                InvoiceNum: $(this).parent().attr(""data-invoice""),
                InvoiceDate: """",
                InvoiceDateTxt: $(this).parent().attr(""data-date""),
                CustomerId: null,
                CustomerName: null,
                Description: description,
                CreatedUserId: null,
                ModifiedUserId: null,
                ClinicSectionId: null,
                TotalPrice: $(this).parent().attr(""data-price"")
     ");
            WriteLiteral(@"       };

            receiveReturn_dataSource.push(elem);

            totalReturn_dataSource = RemoveFromListByGuid(totalReturn_dataSource, $(this).parent().attr(""data-id""));

        });

        $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(totalReturn_dataSource);
        $(""#receiveReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(receiveReturn_dataSource));


        CalculateTotal();

        $('#btn_select_return').removeAttr(""disabled"");
    });

    $('#btn_notSelect_return').on(""click"", function () {
        $(this).attr(""disabled"", true);

        let receiveReturn_dataSource = $(""#receiveReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let totalReturn_dataSource = $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_return_receiveInvoice"").find("":checkbox:checked"").each(function () {

            let description = $(this).parent().attr(""data-desctiption"");
            i");
            WriteLiteral(@"f (description == null || description == 'null')
                description = '';

            var elem = {
                Index: 0,
                Guid: $(this).parent().attr(""data-id""),
                Id: 0,
                InvoiceNum: $(this).parent().attr(""data-invoice""),
                InvoiceDate: """",
                InvoiceDateTxt: $(this).parent().attr(""data-date""),
                CustomerId: null,
                CustomerName: null,
                Description: description,
                CreatedUserId: null,
                ModifiedUserId: null,
                ClinicSectionId: null,
                TotalPrice: $(this).parent().attr(""data-price"")
            };

            totalReturn_dataSource.push(elem);

            receiveReturn_dataSource = RemoveFromListByGuid(receiveReturn_dataSource, $(this).parent().attr(""data-id""));

        });

        $(""#receiveReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(receiveReturn_dataSource);
        $(""#totalReturnI");
            WriteLiteral(@"nvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(totalReturn_dataSource));


        CalculateTotal();

        $('#btn_notSelect_return').removeAttr(""disabled"");
    });

    function GetCurrencyIdByName(currency) {
        let currency_id = '';
        currency_dataSource.filter(function (item) {

            if (item.Name == currency) {
                currency_id = item.Id;
            }

            return false;
        });
        return currency_id;
    }

    function CalculateTotalReceiveAfterDiscount() {
        $(""#AddReceiveInvoiceModal #DiscountIsGreaterThanTheAmount"").addClass(""hidden"");
        $('#total_amount_container').empty();

        let last = '';
        $('#AddReceiveInvoiceModal .ReceiveLine').each(function () {

            let line = $(this).attr(""data-line"");
            if (line) {
                var currency = $(`#Currency_${line}`).data(""kendoDropDownList"");
                var currency_txt = currency.text();
                var");
            WriteLiteral(@" baseCurrency_txt = $(`#BaseCurrency_${line}`).text();

                let amount_txt = $(`#Amount_${line}`).val();
                let amount = Number(GetFirstNumber(amount_txt));
                let poss_amount = Math.abs(amount);

                let discount_txt = $(`#AddReceiveInvoiceModal #Discount_${line}`).val();
                let discount = Number(GetFirstNumber(discount_txt));

                let baseAmount_txt = $(`#AddReceiveInvoiceModal #BaseAmount_${line}`).val();
                let baseAmount = Number(GetFirstNumber(baseAmount_txt));

                let destAmount_tx = $(`#AddReceiveInvoiceModal #DestAmount_${line}`).val();
                let destAmount = Number(GetFirstNumber(destAmount_tx));

                if (baseCurrency_txt == currency_txt) {
                    baseAmount = destAmount = 1;
                }

                if (discount > poss_amount)
                    $(""#AddReceiveInvoiceModal #DiscountIsGreaterThanTheAmount"").removeClass(""hidden"");

   ");
            WriteLiteral(@"             if (amount < 0) {
                    amount = -poss_amount;
                    discount = -discount;
                }

                let total = (amount - discount) * destAmount / baseAmount;
                if (last.includes(currency_txt)) {
                    let res = last.split(""_"");
                    let new_last = '';
                    for (let i = 0; i < res.length; i++) {

                        if (res[i].includes(currency_txt)) {
                            let money = res[i].split("" "");

                            let last_sum = Number(GetFirstNumber(money[1]));


                            last_sum += total;
                            new_last += `${currency_txt} ${last_sum}_`;
                        } else {
                            if (res[i] != '')
                                new_last += `${res[i]}_`;
                        }
                    }

                    last = new_last;

                } else {
                    l");
            WriteLiteral(@"ast += `${currency_txt} ${total}_`;
                }

            }
        });

        let elements = '';
        let totals = last.split(""_"");
        for (let row = 0; row < totals.length; row++) {
            if (totals[row] != '') {
                let money = totals[row].split("" "");

                let result = Number(GetFirstNumber(money[1]));

                let result_txt = `");
#nullable restore
#line 1168 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Receive\mdReceiveInvoiceNewModal.cshtml"
                             Write(Localizer["TotalAfterDiscount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@" : ${money[0]} ${parseFloat(result).toLocaleString('en')}`;
                elements += `
                        <div class=""col-sm-12 ""  style=""padding:0px;"">

                            <div class=""col-sm-2"">
                            </div>

                            <div class=""col-sm-3"" style=""padding:0px;"">
                            </div>

                            <div class=""col-sm-4"">
                                <label class=""block clearfix"">
                                    <label >${result_txt}</label>
                                </label>
                            </div>

                            <div class=""col-sm-3 "" style=""padding:0px;"">

                            </div>

                        </div>`
            }
        }

        var div = document.getElementById(""total_amount_container"");
        div.insertAdjacentHTML('afterbegin', elements);
    }

</script>
");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public WPH.Resources.SharedViewLocalizer Localizer { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IHttpContextAccessor HttpContextAccessor { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<WPH.Models.Receive.ReceiveViewModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
