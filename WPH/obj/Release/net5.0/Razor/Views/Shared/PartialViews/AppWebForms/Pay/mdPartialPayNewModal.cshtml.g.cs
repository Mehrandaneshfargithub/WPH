#pragma checksum "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "cd3c4353984bf85d9eb69ea1a2312a22c122fd91"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(WPH.Pages.Shared.PartialViews.AppWebForms.Pay.Views_Shared_PartialViews_AppWebForms_Pay_mdPartialPayNewModal), @"mvc.1.0.view", @"/Views/Shared/PartialViews/AppWebForms/Pay/mdPartialPayNewModal.cshtml")]
namespace WPH.Pages.Shared.PartialViews.AppWebForms.Pay
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using WPH;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"cd3c4353984bf85d9eb69ea1a2312a22c122fd91", @"/Views/Shared/PartialViews/AppWebForms/Pay/mdPartialPayNewModal.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5221a2d8e2059d2e61789d73e7efe285a53b8943", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Shared_PartialViews_AppWebForms_Pay_mdPartialPayNewModal : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<WPH.Models.Pay.PayViewModel>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 6 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
  
    string font = "", pull = "", row_reverse = "", dir = "";

    if (HttpContextAccessor.HttpContext.Session.GetString("culture") == "en")
    {
        font = " MyFont-Roboto-grid ";
        pull = " pull-left ";
        row_reverse = "row";
        dir = " ";

    }
    else
    {
        font = " MyFont-Sarchia-grid ";
        pull = " pull-right ";
        row_reverse = "row-reverse";
        dir = " direction:rtl; ";

#line default
#line hidden
#nullable disable
            WriteLiteral("        <h3 id=\"newPayText\" class=\"hidden\">");
#nullable restore
#line 23 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                      Write(Localizer["Pay"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 23 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                                        Write(Localizer["New"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h3>\r\n");
#nullable restore
#line 24 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
    }


#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<script>\r\n\r\n    $(\'#AddPartialPayModal-supplier\').text(\'");
#nullable restore
#line 30 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                       Write(Model.SupplierName);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"');

    function ChangeBaseCurrency(e) {
        var dataItem = this.dataItem(e.item);

        var currencyId = $(""#CurrencyId"").data(""kendoDropDownList"");
        currencyId.value(dataItem.Id);

        $(""#BaseAmount"").data(""kendoNumericTextBox"").value(1);
        $(""#DestAmount"").data(""kendoNumericTextBox"").value(1);
        $(""#lblBaseAmount"").text("" "");
        $(""#lblDestAmount"").text("" "");
        $(""#convert_container"").addClass(""hidden"");

        RefreshGrids();
    }

    function DataBoundBaseCurrency() {
        var baseCurrencyId = $(""#BaseCurrencyId"").data(""kendoDropDownList"");

        var currencyId = $(""#CurrencyId"").data(""kendoDropDownList"");
        currencyId.dataSource.data(baseCurrencyId.dataSource.data());
        //currencyId.value(Model.CurrencyId);

        RefreshGrids();
    }

    function GetSupplierAndCurrency() {

        return {
            supplierId: $(""#SupplierIdFilter"").val(),
            currencyId: $(""#BaseCurrencyId"").val()
        }");
            WriteLiteral(";\r\n    }\r\n\r\n</script>\r\n\r\n");
#nullable restore
#line 67 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
Write(Html.AntiForgeryToken());

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 68 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
Write(Html.HiddenFor(m => m.Guid));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 69 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
Write(Html.HiddenFor(m => m.SupplierId));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 70 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
Write(Html.HiddenFor(m => m.PayType));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n<div style=\"clear:both;overflow:hidden;\">\r\n\r\n");
            WriteLiteral("\r\n    <div class=\"col-sm-12\" style=\"padding:0px;\">\r\n\r\n        <div class=\"col-sm-12\" style=\"padding:0px;\">\r\n\r\n            <div class=\"col-sm-2\">\r\n                <label class=\"block clearfix\">\r\n                    <label for=\"form-field-8\">");
#nullable restore
#line 82 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                         Write(Localizer["BaseCurrency"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                    <span class=\"block input-icon input-icon-right\">\r\n                        ");
#nullable restore
#line 84 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                    Write(Html.Kendo().DropDownList()
                        .Name("BaseCurrencyId")
                        .DataTextField("Name")
                        .DataValueField("Id")
                        .Events(e => e.Change("ChangeBaseCurrency").DataBound("DataBoundBaseCurrency"))
                        .DataSource(source =>
                        {
                            source.Read(read =>
                            {
                                read.Action("GetAllCurrencies", "BaseInfo");
                            })
                            .ServerFiltering(false);
                        })
                        //.Value(Model.BaseCurrencyId?.ToString())
                        .HtmlAttributes(new { style = "width: 100%;" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </span>\r\n                </label>\r\n            </div>\r\n\r\n            <div class=\"col-sm-2\">\r\n                <label class=\"block clearfix\">\r\n                    <label for=\"form-field-8\">");
#nullable restore
#line 106 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                         Write(Localizer["Date"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                    <span class=\"block input-icon input-icon-right\">\r\n                        ");
#nullable restore
#line 108 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                    Write(Html.Kendo().DatePicker()
                        .Name("PayDateTxt")
                        .Format("dd/MM/yyyy")
                        .Value(Model.PayDate ?? DateTime.Now)
                        .Enable((bool)(ViewBag.AccessEditDate ?? false))
                        .HtmlAttributes(new { style = "width: 100%;", @data_checkEmpty = "PayDateTxt-box" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </span>\r\n                    <span id=\"PayDateTxt-box\" class=\"emptybox hidden\" data-isEssential=\"true\" style=\"color:red;\">\r\n                        ");
#nullable restore
#line 117 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                   Write(Localizer["ThisFieldIsEmptyPleaseFillIt"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </span>\r\n                    <span id=\"Date-valid\" class=\"emptybox hidden\" style=\"color:red;\">\r\n                        ");
#nullable restore
#line 120 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                   Write(Localizer["DateNotValid"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </span>\r\n                </label>\r\n            </div>\r\n\r\n            <div class=\"col-sm-2\">\r\n                <label class=\"block clearfix\">\r\n                    <label for=\"form-field-8\">");
#nullable restore
#line 127 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                         Write(Localizer["Amount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                    <span class=\"block input-icon input-icon-right\">\r\n                        ");
#nullable restore
#line 129 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                    Write(Html.Kendo().NumericTextBox<decimal>()
                        .Name("Amount")
                        .Format("#.##")
                        .Min(0)
                        //.Value(Model.Amount ?? 0)
                        .HtmlAttributes(new { style = "width: 100%", @data_checkEmpty = "Amount-box" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </span>\r\n                    <span id=\"Amount-box\" class=\"emptybox hidden\" data-isEssential=\"true\" style=\"color:red;\">\r\n                        ");
#nullable restore
#line 138 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                   Write(Localizer["ThisFieldIsEmptyPleaseFillIt"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </span>\r\n                </label>\r\n            </div>\r\n\r\n            <div class=\"col-sm-2\">\r\n                <label class=\"block clearfix\">\r\n                    <label for=\"form-field-8\">");
#nullable restore
#line 145 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                         Write(Localizer["Currency"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                    <span class=\"block input-icon input-icon-right\">\r\n                        ");
#nullable restore
#line 147 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                    Write(Html.Kendo().DropDownList()
                        .Name("CurrencyId")
                        .DataTextField("Name")
                        .DataValueField("Id")
                        //.DataSource(source =>
                        //{
                        //    source.Read(read =>
                        //    {
                        //        read.Action("GetAllCurrencies", "BaseInfo");
                        //    })
                        //    .ServerFiltering(false);
                        //})
                        //.Value(Model.BaseCurrencyId?.ToString())
                        .HtmlAttributes(new { style = "width: 100%;", onchange = "changeCurrency()" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                    </span>
                </label>
            </div>

            <div id=""convert_container"" class=""col-sm-2 hidden"" style=""padding:0px;"">
                <div class=""col-sm-6"">
                    <label class=""block clearfix "">
                        <label id=""lblBaseAmount"" for=""form-field-8""></label>
                        <span class=""block input-icon input-icon-right"">
                            ");
#nullable restore
#line 171 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                        Write(Html.Kendo().NumericTextBox<decimal>()
                        .Name("BaseAmount")
                        .Decimals(0)
                        .Min(1)
                        //.Value(Model.BaseAmount ?? 1)
                        .HtmlAttributes(new { style = "width: 100%" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        </span>
                    </label>
                </div>

                <div class=""col-sm-6"">
                    <label class=""block clearfix "">
                        <label id=""lblDestAmount"" for=""form-field-8""></label>
                        <span class=""block input-icon input-icon-right"">
                            ");
#nullable restore
#line 186 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                        Write(Html.Kendo().NumericTextBox<decimal>()
                        .Name("DestAmount")
                        .Decimals(0)
                        .Min(1)
                        //.Value(Model.DestAmount ?? 1)
                        .HtmlAttributes(new { style = "width: 100%"})
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        </span>
                    </label>
                </div>
            </div>

            <div class=""col-sm-2"" style=""padding:0px;"">
                <div class=""col-sm-6"">
                    <label class=""block clearfix"">
                        <label for=""form-field-8"">% ");
#nullable restore
#line 201 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                               Write(Localizer["Discount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(": </label>\r\n                        <span class=\"block input-icon input-icon-right\">\r\n                            ");
#nullable restore
#line 203 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                        Write(Html.Kendo().NumericTextBox<decimal>()
                        .Name("DetailDiscount")
                        .Culture("en-US")
                        .Format("#.##")
                        .Min(0)
                        .Max(100)
                        .SelectOnFocus(true)
                        .Value(0)
                        .HtmlAttributes(new { style = "width: 100%" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n\r\n                <div class=\"col-sm-6\">\r\n                    <label class=\"block clearfix\">\r\n                        <label for=\"form-field-8\"># ");
#nullable restore
#line 219 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                               Write(Localizer["Discount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(": </label>\r\n                        <span class=\"block input-icon input-icon-right\">\r\n                            ");
#nullable restore
#line 221 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                        Write(Html.Kendo().NumericTextBox<decimal>()
                        .Name("Discount")
                        .Culture("en-US")
                        .Format("#.##")
                        .Min(0)
                        .SelectOnFocus(true)
                        //.Value(Model.Discount ?? 0)
                        .HtmlAttributes(new { style = "width: 100%" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        </span>
                    </label>
                </div>
            </div>


        </div>


        <div class=""col-sm-12"" style=""padding:0px;"">

            <div class=""col-sm-2"">
                <label class=""block clearfix"">
                    <label for=""form-field-8"">");
#nullable restore
#line 243 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                         Write(Localizer["Total"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                    <span class=\"block input-icon input-icon-right\">\r\n                        ");
#nullable restore
#line 245 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                    Write(Html.Kendo().TextBox()
                        .Name("TotalAmount")
                        .Enable(false)
                        .HtmlAttributes(new { style = "width: 100%" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </span>\r\n                </label>\r\n            </div>\r\n\r\n            <div class=\"col-sm-2\">\r\n                <label class=\"block clearfix\">\r\n                    <label for=\"form-field-8\">");
#nullable restore
#line 256 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                         Write(Localizer["Payed"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                    <span class=\"block input-icon input-icon-right\">\r\n                        ");
#nullable restore
#line 258 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                    Write(Html.Kendo().TextBox()
                        .Name("PayedAmount")
                        .Enable(false)
                        .HtmlAttributes(new { style = "width: 100%" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </span>\r\n                </label>\r\n            </div>\r\n\r\n            <div class=\"col-sm-2\">\r\n                <label class=\"block clearfix\">\r\n                    <label for=\"form-field-8\">");
#nullable restore
#line 269 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                         Write(Localizer["Rem"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                    <span class=\"block input-icon input-icon-right\">\r\n                        ");
#nullable restore
#line 271 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                    Write(Html.Kendo().TextBox()
                        .Name("RemAmount")
                        .Enable(false)
                        .HtmlAttributes(new { style = "width: 100%" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                    </span>
                </label>
            </div>

            <div class=""col-sm-2"">

            </div>

            <div class=""col-sm-2"" style=""padding:0px;"">

            </div>


        </div>
    </div>

    <div class=""row page-header "">

    </div>

    <div style=""width:100%"">

        <div style=""width:98%;margin: 0px auto;"">
            <div style=""width:100%;display:flex;margin:10px 0px;"">
                <div style=""width:46%;"">
                    <h1");
            BeginWriteAttribute("class", " class=\"", 11621, "\"", 11639, 2);
#nullable restore
#line 301 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue("", 11629, font, 11629, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 11634, "blue", 11635, 5, true);
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 302 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                   Write(Localizer["PayPurchaseInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n                <div style=\"width: 8%;\">\r\n\r\n                </div>\r\n                <div style=\"width: 46%;\">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 11924, "\"", 11942, 2);
#nullable restore
#line 309 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue("", 11932, font, 11932, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 11937, "blue", 11938, 5, true);
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 310 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                   Write(Localizer["NotPayPurchaseInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n            <div style=\"width:100%;display:flex;\">\r\n\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 12190, "\"", 12217, 2);
            WriteAttributeValue(" ", 12198, "Grid-Content", 12199, 13, true);
#nullable restore
#line 316 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue(" ", 12211, font, 12212, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width:46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 317 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Pay/dgPayInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div style=\"width: 8%;height:200px;display:flex;flex-direction:column;align-items:center;justify-content: center;\">\r\n                    ");
#nullable restore
#line 320 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_select_pay")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-success" })
                        .Content(Localizer["<"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 324 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_notSelect_pay")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-danger " })
                        .Content(Localizer[">"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 13188, "\"", 13215, 2);
            WriteAttributeValue(" ", 13196, "Grid-Content", 13197, 13, true);
#nullable restore
#line 329 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue(" ", 13209, font, 13210, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width: 46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n\r\n                    ");
#nullable restore
#line 331 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Pay/dgTotalInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div style=\"width:98%;margin: 0px auto;\">\r\n            <div style=\"width:100%;display:flex;margin:10px 0px;\">\r\n                <div style=\"width:46%;\">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 13657, "\"", 13675, 2);
#nullable restore
#line 340 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue("", 13665, font, 13665, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 13670, "blue", 13671, 5, true);
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 341 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                   Write(Localizer["PayReturnPurchaseInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n                <div style=\"width: 8%;\">\r\n\r\n                </div>\r\n                <div style=\"width: 46%;\">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 13966, "\"", 13984, 2);
#nullable restore
#line 348 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue("", 13974, font, 13974, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 13979, "blue", 13980, 5, true);
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 349 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                   Write(Localizer["NotPayReturnPurchaseInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n            <div style=\"width:100%;display:flex;\">\r\n\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 14238, "\"", 14265, 2);
            WriteAttributeValue(" ", 14246, "Grid-Content", 14247, 13, true);
#nullable restore
#line 355 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue(" ", 14259, font, 14260, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width:46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 356 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Pay/dgPayReturnInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div style=\"width: 8%;height:200px;display:flex;flex-direction:column;align-items:center;justify-content: center;\">\r\n                    ");
#nullable restore
#line 359 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_select_return")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-success" })
                        .Content(Localizer["<"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 363 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_notSelect_return")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-danger " })
                        .Content(Localizer[">"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 15248, "\"", 15275, 2);
            WriteAttributeValue(" ", 15256, "Grid-Content", 15257, 13, true);
#nullable restore
#line 368 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue(" ", 15269, font, 15270, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width: 46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 369 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Pay/dgTotalReturnInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                </div>
            </div>
        </div>

    </div>

    <div class=""row page-header "">

    </div>


    <div style=""width:100%"">

        <div style=""width:98%;margin: 0px auto;"">
            <div style=""width:100%;margin:10px 0px;"">
                <div");
            BeginWriteAttribute("style", " style=\"", 15761, "\"", 15769, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 15796, "\"", 15814, 2);
#nullable restore
#line 386 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue("", 15804, font, 15804, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 15809, "blue", 15810, 5, true);
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 387 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                   Write(Localizer["PayHistory"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n\r\n            </div>\r\n            <div style=\"width:100%;\">\r\n\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 16040, "\"", 16067, 2);
            WriteAttributeValue(" ", 16048, "Grid-Content", 16049, 13, true);
#nullable restore
#line 394 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
WriteAttributeValue(" ", 16061, font, 16062, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 395 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Pay/dgPartialPayHistoryGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n");
            WriteLiteral("    <div class=\"col-sm-12\">\r\n        <label class=\"block clearfix\">\r\n            <label for=\"form-field-8\">");
#nullable restore
#line 406 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                 Write(Localizer["Description"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n            <span class=\"block input-icon input-icon-right\">\r\n                ");
#nullable restore
#line 408 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
            Write(Html.Kendo().TextArea()
                    .Name("Description")
                    .Rows(3)
                    .Value(Model.Description)
                    .HtmlAttributes(new { style = "font-size:1.5rem;width:100%" })
                    );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
            </span>
        </label>
    </div>
</div>
<script>

    SetDiscount();
    $(document).ready(function () {

        setTimeout(function () {
            $(""#BaseCurrencyId"").data(""kendoDropDownList"").focus();
        }, 500);
    });

    function RefreshGrids() {
        var guid = $(""#Guid"").val();
        var supplierId = $(""#SupplierIdFilter"").val();
        var currencyId = $(""#BaseCurrencyId"").val();

        $.ajax({
            type: ""Get"",
            url: ""/PurchaseInvoice/GetNotPartialPayPurchaseInvoice"",
            data: { supplierId: supplierId, currencyId: currencyId, payId: guid  },
            success: function (response) {

                $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(response);
            }
        });

        $.ajax({
            type: ""Get"",
            url: ""/PurchaseInvoice/GetPartialPayPurchaseInvoice"",
            data: { payId: guid, currencyId: currencyId  },
            success: function (response) {
");
            WriteLiteral(@"                let list = response.map(a => a.PayIds);
                GetPartialPayHistory(list);

                $(""#TotalAmount"").val(CalculateTotal(response));

                $(""#payInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(response);
            }
        });

        $.ajax({
            type: ""Get"",
            url: ""/ReturnPurchaseInvoice/GetNotPartialPayReturnPurchaseInvoice"",
            data: { supplierId: supplierId, currencyId: currencyId },
            success: function (response) {

                $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(response);
            }
        });

        $.ajax({
            type: ""Get"",
            url: ""/ReturnPurchaseInvoice/GetPartialPayReturnPurchaseInvoice"",
            data: { payId: guid, currencyId: currencyId  },
            success: function (response) {

                $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(response);
            }
        });
    }

    $('#Ba");
            WriteLiteral(@"seCurrencyId').parent().keypress(function (e) {
        if (e.which === 13 || e.which === 9) {
            $('#PayDateTxt').focus();
        }
    });

    $('#PayDateTxt').on('keypress', function (e) {
        if (e.which === 13) {
            $(""#CurrencyId"").data(""kendoDropDownList"").focus();
        }
    });

    $('#CurrencyId').parent().keypress(function (e) {
        if (e.which === 13 || e.which === 9) {
            let currency = $(""#CurrencyId"").val();
            let base = $(""#BaseCurrencyId"").val();

            if (currency !== base) {
                $('#BaseAmount').data(""kendoNumericTextBox"").focus();

            } else {

                $('#DetailDiscount').data(""kendoNumericTextBox"").focus();
            }
        }
    });

    $(""#BaseAmount"").on(""keypress"", function (e) {
        if (e.which === 13) {
            $(""#DestAmount"").data(""kendoNumericTextBox"").focus();
        }
    });

    $(""#DestAmount"").on(""keypress"", function (e) {
        if (e.wh");
            WriteLiteral(@"ich === 13) {
            $('#DetailDiscount').data(""kendoNumericTextBox"").focus();
        }
    });

    $(""#DetailDiscount"").on(""focus"", function (e) {
        $('#DetailDiscount').select();
    });

    $(""#DetailDiscount"").focusout(function () {

        let wholepur = $('#Amount').val();
        if (wholepur > 0) {
            let dis = $('#DetailDiscount').data(""kendoNumericTextBox"").value();
            let amount = (dis * wholepur) / 100;
            $('#Discount').data(""kendoNumericTextBox"").value(amount);
        }

    });

    $(""#DetailDiscount"").on(""keypress"", function (e) {
        if (e.which === 13) {
            $('#Discount').data(""kendoNumericTextBox"").focus();
        }
    });


    $(""#Discount"").on(""keypress"", function (e) {
        if (e.which === 13) {
            $('#Description').focus();
        }
    });

    $(""#Discount"").on(""focus"", function (e) {
        $('#Discount').select();
    });

    $(""#Discount"").focusout(function () {
        ");
            WriteLiteral(@"SetDiscount();
    });

    function SetDiscount() {
        let wholepur = $('#Amount').val();
        if (wholepur > 0) {
            let dis = $('#Discount').data(""kendoNumericTextBox"").value();
            let amount = (100 * dis) / wholepur;
            $('#DetailDiscount').data(""kendoNumericTextBox"").value(amount);
        }
    }

    function changeCurrency() {
        let currency = $(""#CurrencyId"").val();
        let base = $(""#BaseCurrencyId"").val();

        if (currency !== base) {
            $(""#convert_container"").removeClass('hidden');

            $(""#lblBaseAmount"").text($(""#BaseCurrencyId"").data(""kendoDropDownList"").text());
            $(""#lblDestAmount"").text($(""#CurrencyId"").data(""kendoDropDownList"").text());

        } else {

            $(""#BaseAmount"").data(""kendoNumericTextBox"").value(1);
            $(""#DestAmount"").data(""kendoNumericTextBox"").value(1);
            $(""#lblBaseAmount"").text("" "");
            $(""#lblDestAmount"").text("" "");
            $(""");
            WriteLiteral(@"#convert_container"").addClass(""hidden"");
        }
    }


    $('#btn_select_pay').on(""click"", function () {
        $(this).attr(""disabled"", true);

        let totalInvoice_dataSource = $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let payInvoice_dataSource = $(""#payInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        let selected_list = [];
        $("".select_totalInvoice"").find("":checkbox:checked"").each(function () {

            selected_list.push($(this).parent().attr(""data-payids""));
        });

        $("".select_payInvoice"").find("":checkbox"").each(function () {

            selected_list.push($(this).parent().attr(""data-payids""));
        });

        $("".select_return_payInvoice"").find("":checkbox"").each(function () {

            selected_list.push($(this).parent().attr(""data-payids""));
        });

        if (CheckConflict(selected_list)) {
            bootbox.alert({
                message: ""<h5 class='MyFont-Roboto-header red");
            WriteLiteral("\'>");
#nullable restore
#line 607 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPartialPayNewModal.cshtml"
                                                          Write(Localizer["ErrorInSelectInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</h5>"",
                className: 'bootbox-class MyFont-Roboto-header',
                size: 'small',

            });
            $('#btn_select_pay').removeAttr(""disabled"");
            return;
        }

        let unique_list = RemoveNullAndDuplicates(selected_list);

        $("".select_totalInvoice"").find("":checkbox"").each(function () {

            if ($(this).is(':checked') || unique_list.includes($(this).parent().attr(""data-payids""))) {
                let description = $(this).parent().attr(""data-desctiption"");
                if (description == null || description == 'null')
                    description = '';

                var elem = {
                    ClinicSectionId: null,
                    CreatedUserId: null,
                    Description: description,
                    Guid: $(this).parent().attr(""data-id""),
                    Id: 0,
                    Index: 0,
                    InvoiceDate: """",
                    InvoiceDateTxt: $(this).parent(");
            WriteLiteral(@").attr(""data-date""),
                    InvoiceNum: $(this).parent().attr(""data-invoice""),
                    MainInvoiceNum: $(this).parent().attr(""data-mainInvoice""),
                    ModifiedUserId: null,
                    PurchaseInvoiceDetails: null,
                    SupplierId: null,
                    SupplierName: null,
                    TotalPrice: $(this).parent().attr(""data-price""),
                    PayIds: $(this).parent().attr(""data-payids"")
                };

                payInvoice_dataSource.push(elem);

                totalInvoice_dataSource = RemoveFromListByGuid(totalInvoice_dataSource, $(this).parent().attr(""data-id""));
            }
        });


        let totalReturn_dataSource = $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let payReturn_dataSource = $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_return_totalInvoice"").find("":checkbox"").each(function () {

            ");
            WriteLiteral(@"if (unique_list.includes($(this).parent().attr(""data-payids""))) {
                let description = $(this).parent().attr(""data-desctiption"");
                if (description == null || description == 'null')
                    description = '';

                var elem = {
                    ClinicSectionId: null,
                    CreatedUserId: null,
                    Description: description,
                    Guid: $(this).parent().attr(""data-id""),
                    Id: 0,
                    Index: 0,
                    InvoiceDate: """",
                    InvoiceDateTxt: $(this).parent().attr(""data-date""),
                    InvoiceNum: $(this).parent().attr(""data-invoice""),
                    MainInvoiceNum: $(this).parent().attr(""data-mainInvoice""),
                    ModifiedUserId: null,
                    PurchaseInvoiceDetails: null,
                    SupplierId: null,
                    SupplierName: null,
                    TotalPrice: $(this).parent().at");
            WriteLiteral(@"tr(""data-price""),
                    PayIds: $(this).parent().attr(""data-payids"")
                };

                payReturn_dataSource.push(elem);

                totalReturn_dataSource = RemoveFromListByGuid(totalReturn_dataSource, $(this).parent().attr(""data-id""));
            }
        });

        $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(totalReturn_dataSource);
        $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(payReturn_dataSource));

        $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(totalInvoice_dataSource);
        $(""#payInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(payInvoice_dataSource));

        let sum = CalculateTotal(payInvoice_dataSource);
        let ret_dataSource = $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let ret = CalculateTotal(ret_dataSource);

        sum = sum - ret;
        $(""#TotalAmount"").val(sum);

        GetPartialPa");
            WriteLiteral(@"yHistory(unique_list);

        $('#btn_select_pay').removeAttr(""disabled"");
    });

    $('#btn_notSelect_pay').on(""click"", function () {
        $(this).attr(""disabled"", true);

        let payInvoice_dataSource = $(""#payInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let totalInvoice_dataSource = $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        let selected_list = [];
        let not_selected_list = [];
        $("".select_payInvoice"").find("":checkbox:checked"").each(function () {

            selected_list.push($(this).parent().attr(""data-payids""));
        });

        let unique_list = RemoveNullAndDuplicates(selected_list);

        $("".select_payInvoice"").find("":checkbox"").each(function () {

            if ($(this).is(':checked') || unique_list.includes($(this).parent().attr(""data-payids""))) {

                let description = $(this).parent().attr(""data-desctiption"");
                if (description == null || description == 'null')
");
            WriteLiteral(@"                    description = '';

                var elem = {
                    ClinicSectionId: null,
                    CreatedUserId: null,
                    Description: description,
                    Guid: $(this).parent().attr(""data-id""),
                    Id: 0,
                    Index: 0,
                    InvoiceDate: """",
                    InvoiceDateTxt: $(this).parent().attr(""data-date""),
                    InvoiceNum: $(this).parent().attr(""data-invoice""),
                    MainInvoiceNum: $(this).parent().attr(""data-mainInvoice""),
                    ModifiedUserId: null,
                    PurchaseInvoiceDetails: null,
                    SupplierId: null,
                    SupplierName: null,
                    TotalPrice: $(this).parent().attr(""data-price""),
                    PayIds: $(this).parent().attr(""data-payids"")
                };

                totalInvoice_dataSource.push(elem);

                payInvoice_dataSource = RemoveFrom");
            WriteLiteral(@"ListByGuid(payInvoice_dataSource, $(this).parent().attr(""data-id""));
            } else {

                not_selected_list.push($(this).parent().attr(""data-payids""));
            }
        });


        let payReturn_dataSource = $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let totalReturn_dataSource = $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_return_payInvoice"").find("":checkbox"").each(function () {

            if (unique_list.includes($(this).parent().attr(""data-payids""))) {
                let description = $(this).parent().attr(""data-desctiption"");
                if (description == null || description == 'null')
                    description = '';

                var elem = {
                    ClinicSectionId: null,
                    CreatedUserId: null,
                    Description: description,
                    Guid: $(this).parent().attr(""data-id""),
                    Id: 0,
       ");
            WriteLiteral(@"             Index: 0,
                    InvoiceDate: """",
                    InvoiceDateTxt: $(this).parent().attr(""data-date""),
                    InvoiceNum: $(this).parent().attr(""data-invoice""),
                    MainInvoiceNum: $(this).parent().attr(""data-mainInvoice""),
                    ModifiedUserId: null,
                    PurchaseInvoiceDetails: null,
                    SupplierId: null,
                    SupplierName: null,
                    TotalPrice: $(this).parent().attr(""data-price""),
                    PayIds: $(this).parent().attr(""data-payids"")
                };

                totalReturn_dataSource.push(elem);

                payReturn_dataSource = RemoveFromListByGuid(payReturn_dataSource, $(this).parent().attr(""data-id""));
            }
        });

        $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(payReturn_dataSource));
        $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(totalReturn_dataS");
            WriteLiteral(@"ource);


        $(""#payInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(payInvoice_dataSource);
        $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(totalInvoice_dataSource));


        let sum = CalculateTotal(payInvoice_dataSource);
        let ret_dataSource = $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let ret = CalculateTotal(ret_dataSource);

        sum = sum - ret;
        $(""#TotalAmount"").val(sum);

        GetPartialPayHistory(not_selected_list);

        $('#btn_notSelect_pay').removeAttr(""disabled"");
    });

    $('#btn_select_return').on(""click"", function () {
        $(this).attr(""disabled"", true);

");
            WriteLiteral(@"













        //$("".select_return_totalInvoice"").find("":checkbox"").each(function () {

        //    if ($(this).is(':checked') || unique_list.includes($(this).parent().attr(""data-payids""))) {
        //        let description = $(this).parent().attr(""data-desctiption"");
        //        if (description == null || description == 'null')
        //            description = '';

        //        var elem = {
        //            ClinicSectionId: null,
        //            CreatedUserId: null,
        //            Description: description,
        //            Guid: $(this).parent().attr(""data-id""),
        //            Id: 0,
        //            Index: 0,
        //            InvoiceDate: """",
        //            InvoiceDateTxt: $(this).parent().attr(""data-date""),
        //            InvoiceNum: $(this).parent().attr(""data-invoice""),
        //            MainInvoiceNum: $(this).parent().attr(""data-mainInvoice""),
        //            ModifiedUserId: null,
 ");
            WriteLiteral(@"       //            PurchaseInvoiceDetails: null,
        //            SupplierId: null,
        //            SupplierName: null,
        //            TotalPrice: $(this).parent().attr(""data-price""),
        //            PayIds: $(this).parent().attr(""data-payids"")
        //        };

        //        payInvoice_dataSource.push(elem);

        //        totalInvoice_dataSource = RemoveFromListByGuid(totalInvoice_dataSource, $(this).parent().attr(""data-id""));
        //    }
        //});



        //$(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(totalInvoice_dataSource);
        //$(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(payInvoice_dataSource));

        //let ret = CalculateTotal(payInvoice_dataSource);
        //let sum_dataSource = $(""#payInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        //let sum = CalculateTotal(sum_dataSource);

        //sum = sum - ret;
        //$(""#TotalAmount"").val(sum);

      ");
            WriteLiteral(@"  //GetPartialPayHistory(unique_list);

        $('#btn_select_return').removeAttr(""disabled"");
    });

    $('#btn_notSelect_return').on(""click"", function () {
        $(this).attr(""disabled"", true);


        $('#btn_notSelect_return').removeAttr(""disabled"");
    });

    function CalculateTotal(main_list) {
        let baseCurrencyId = $(""#BaseCurrencyId"").data(""kendoDropDownList"");
        let currency = baseCurrencyId.text();
        let sum = 0;

         main_list.filter(function (item) {

            if (item.TotalPrice != null) {

                let res = item.TotalPrice.toString().split(""_"");
                for (let i = 0; i < res.length; i++) {
                    if (res[i].includes(currency)) {

                        sum += Number(GetFirstNumber(res[i]));
                    }
                }
            }

            return false;
        });

        return sum;
    }

    function CheckConflict(check_list) {

        var count = 0;
        let lis");
            WriteLiteral(@"t_withOutNull = check_list.filter(function (item) {

            if (item == null || item == '' || item == 'null') {
                count++;
                return false;
            }

            return true;
        });

        if (list_withOutNull.length == 0)
            return false;

        let equ = list_withOutNull.every((val, i, arr) => val === arr[0]);
        if (!equ)
            return true;

        let check_add_count = 1;
        let guid = $(""#Guid"").val();
        if (guid == null || guid == '' || guid == 'null' || guid == '00000000-0000-0000-0000-000000000000')
            check_add_count = 0;

        let pay_ids = list_withOutNull[0].split("" "");
        if (pay_ids.length > check_add_count && count > 0)
            return true;

        return false;
    }


    function GetPartialPayHistory(unique_list) {
        $.ajax({
            type: ""Post"",
            url: ""/Pay/GetPartialPayHistory"",
            data: { payIds: unique_list },
            su");
            WriteLiteral(@"ccess: function (response) {

                let sum = 0;
                response.filter(function (item) {

                    if (item.Amount) {
                        sum += item.Amount;
                    }

                    return true;
                });
                $(""#PayedAmount"").val(sum);

                let total = $(""#TotalAmount"").val();
                let rem = total - sum;
                $(""#RemAmount"").val(rem);

                $(""#partialPayHistoryKendoGrid"").data(""kendoGrid"").setDataSource(response);
            }
        });
    }

</script>
");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public WPH.Resources.SharedViewLocalizer Localizer { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IHttpContextAccessor HttpContextAccessor { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<WPH.Models.Pay.PayViewModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
