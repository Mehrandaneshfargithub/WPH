@model WPH.Models.CustomDataModels.UserManagment.UserInformationViewModel
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@inject WPH.Resources.SharedViewLocalizer Localizer

<div id="signup-box" class="signup-box no-border">
    <div class="widget-body">
        <div class="widget-main">
            <form id="EditCurrentUserForm" autocomplete="off">

                <fieldset>

                    @Html.AntiForgeryToken()
                    @Html.HiddenFor(x => x.Guid)
                    @Html.HiddenFor(x => x.UserNameHolder)



                    <label class="block clearfix">
                        <label for="form-field-8">@Localizer["UserName"] : </label>
                        <span class="block input-icon input-icon-right">
                            @(Html.Kendo().TextBox()
                                .Name("UserName")
                                .Value(Model.UserName)
                                .HtmlAttributes(new { style = "width: 100%", @data_checkEmpty = "UserName-box" })
                            )
                        </span>
                        <span id="UserName-box" class="emptybox hidden" data-isEssential="true" style="color:red;">
                            @Localizer["ThisFieldIsEmptyPleaseFillIt"]
                        </span>
                        <span id="UserName-Exist" class="emptybox hidden" style="color:red;">
                            TheNameIsDuplicatedPleaseTryAnotherName
                        </span>
                    </label>

                    <label class="block clearfix">
                        <label for="form-field-8">@Localizer["OldPass"] : </label>
                        <span class="block input-icon input-icon-right">
                            @(Html.Kendo().TextBox()
                                .Name("Pass2")
                                .HtmlAttributes(new { style = "width: 100%", type = "password", @data_checkEmpty = "Pass2-box" })
                            )
                        </span>
                        <span id="Pass2-box" class="emptybox hidden" data-isEssential="true" style="color:red;">
                            @Localizer["ThisFieldIsEmptyPleaseFillIt"]
                        </span>
                        <span id="incorrectPass2" class="emptybox hidden" style="color:red;">
                            Old Pass Not Correct
                        </span>
                    </label>

                    <label class="block clearfix">
                        <label for="form-field-8">@Localizer["Password"] : </label>
                        <span class="block input-icon input-icon-right">
                            @(Html.Kendo().TextBox()
                                .Name("Pass3")
                                .HtmlAttributes(new { style = "width: 100%", type = "password", @data_checkEmpty = "Pass3-box" })
                            )
                        </span>
                        <span id="Pass3-box" class="emptybox hidden" data-isEssential="true" style="color:red;">
                            @Localizer["ThisFieldIsEmptyPleaseFillIt"]
                        </span>
                    </label>

                    <label class="block clearfix">
                        <label for="form-field-8">@Localizer["RepeatPassword"] : </label>
                        <span class="block input-icon input-icon-right">
                            @(Html.Kendo().TextBox()
                                .Name("Pass4")
                                .HtmlAttributes(new { style = "width: 100%", type = "password", @data_checkEmpty = "Pass4-box" })
                            )
                        </span>
                        <span id="Pass4-box" class="emptybox hidden" data-isEssential="true" style="color:red;">
                            @Localizer["ThisFieldIsEmptyPleaseFillIt"]
                        </span>
                        <span id="incorrectPass" class="emptybox hidden" style="color:red;">
                            Passwords didn't match , please try again
                        </span>
                    </label>

                    <div class="space-24"></div>
                </fieldset>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {
        $("#Pass2").attr('readonly', true);
        $("#Pass3").attr('readonly', true);
        $("#Pass4").attr('readonly', true);
        setTimeout(function () {

            $("#Pass2").removeAttr('readonly');
            $("#Pass3").removeAttr('readonly');
            $("#Pass4").removeAttr('readonly');
            $('#UserName').select();
            //$("#Pass2").attr('readonly', false);
        }, 500);

    });

    $('#UserName').focus(function () {
        $("#UserName-Exist").addClass('hidden');
        $("#UserName-box").addClass('hidden');
    });

    $('#UserName').on('keypress', function (e) {
        if (e.which === 13) {
            $('#Pass2').select();
        }
    });

    $('#Pass2').on('keypress', function (e) {
        if (e.which === 13) {
            $('#Pass3').select();
        }
    });

    $('#Pass3').on('keypress', function (e) {
        if (e.which === 13) {
            $('#Pass4').select();
        }
    });

    $('#Pass4').on('keypress', function (e) {
        if (e.which === 13) {
            $('#btn-EditCurrentUserModal-accept').focus();
        }
    });
   

</script>
