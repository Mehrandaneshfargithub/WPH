
@model WPH.Models.CustomDataModels.Visit.VisitViewModel
@using WPH.Models.CustomDataModels.Visit
@using WPH.Models.CustomDataModels.Disease
@using WPH.Models.CustomDataModels.Visit_Patient_Disease
@using System.Globalization;

@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@inject WPH.Resources.SharedViewLocalizer Localizer




<div id="visit-content" class="row" style="direction:ltr">
    <div class="col-sm-2">

    </div>
    <div class="col-sm-12 paging">
        @*<input id="date" type="date" name="date" value=@DateTime.Today.ToString("yyyy-MM-dd") readonly="readonly">*@
        <label id="duplicateMedicine" class="hidden">@ViewBag.ThisMedicineIsSelectedBefore</label>

        <ul>
            @{
                if (ViewBag.ListCount != 0)
                {
                    int currentVisitNum = Convert.ToInt32(@Model.VisitNum);
                    IEnumerable<VisitViewModel> visits = ViewBag.AllVisits;
                    VisitViewModel vis1 = visits.FirstOrDefault(x => x.VisitNum == 1);
                    VisitViewModel vis2 = visits.FirstOrDefault(x => x.VisitNum == 2);
                    VisitViewModel vis3 = visits.FirstOrDefault(x => x.VisitNum == 3);
                    VisitViewModel visCurr = visits.FirstOrDefault(x => x.VisitNum == currentVisitNum);
                    VisitViewModel visCurr1 = visits.FirstOrDefault(x => x.VisitNum == (currentVisitNum + 1));
                    VisitViewModel visCurr0 = visits.FirstOrDefault(x => x.VisitNum == (currentVisitNum - 1));
                    VisitViewModel visLast = visits.FirstOrDefault(x => x.VisitNum == ViewBag.ListCount);
                    if (currentVisitNum - 1 > 0)
                    {

                        <li class="pagee previouss" onclick="changeVisit('Previous')" style="font-size:1.7rem"><a class="page-link" href="#">Previous</a></li>
                        if (vis1.StatusName == "Visiting")
                        {
                            <li class="pagee" onclick="changeVisit(1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@vis1.ReserveDetail.Patient.Name'*@>1</a></li>
                        }
                        else if (vis1.StatusName == "Visited")
                        {
                            <li class="pagee" onclick="changeVisit(1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@vis1.ReserveDetail.Patient.Name'*@>1</a></li>
                        }
                        else
                        {
                            <li class="pagee" onclick="changeVisit(1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@vis1.ReserveDetail.Patient.Name'*@>1</a></li>
                        }

                        if (currentVisitNum >= 3)
                        {

                            if (currentVisitNum == 3)
                            {
                                if (vis2.StatusName == "Visiting")
                                {
                                    <li class="pagee" onclick="changeVisit(2)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@vis2.ReserveDetail.Patient.Name'*@>2</a></li>
                                }
                                else if (vis2.StatusName == "Visited")
                                {
                                    <li class="pagee" onclick="changeVisit(2)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@vis2.ReserveDetail.Patient.Name'*@>2</a></li>
                                }
                                else
                                {
                                    <li class="pagee" onclick="changeVisit(2)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@vis2.ReserveDetail.Patient.Name'*@>2</a></li>
                                }
                                if (vis3.StatusName == "Visiting")
                                {
                                    <li class="pagee disabled" onclick="changeVisit(3)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@vis3.ReserveDetail.Patient.Name'*@>3</a></li>
                                }
                                else if (vis3.StatusName == "Visited")
                                {
                                    <li class="pagee disabled" onclick="changeVisit(3)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@vis3.ReserveDetail.Patient.Name'*@>3</a></li>
                                }
                                else
                                {
                                    <li class="pagee disabled" onclick="changeVisit(3)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@vis3.ReserveDetail.Patient.Name'*@>3</a></li>
                                }


                                if (currentVisitNum + 1 <= ViewBag.ListCount)
                                {
                                    if (visCurr1.StatusName == "Visiting")
                                    {
                                        <li class="pagee " onclick="changeVisit(@currentVisitNum + 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr1.ReserveDetail.Patient.Name'*@>@(currentVisitNum + 1)</a></li>
                                    }
                                    else if (visCurr1.StatusName == "Visited")
                                    {
                                        <li class="pagee " onclick="changeVisit(@currentVisitNum + 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr1.ReserveDetail.Patient.Name'*@>@(currentVisitNum + 1)</a></li>
                                    }
                                    else
                                    {
                                        <li class="pagee " onclick="changeVisit(@currentVisitNum + 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr1.ReserveDetail.Patient.Name'*@>@(currentVisitNum + 1)</a></li>
                                    }
                                }
                                if (currentVisitNum + 3 <= ViewBag.ListCount)
                                {
                                    <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#">...</a></li>
                                }
                                if (currentVisitNum + 2 <= ViewBag.ListCount)
                                {

                                    if (visLast.StatusName == "Visiting")
                                    {
                                        <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                                    }
                                    else if (visLast.StatusName == "Visited")
                                    {
                                        <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                                    }
                                    else
                                    {
                                        <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                                    }


                                }
                            }
                            if (currentVisitNum > 3)
                            {
                                <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#">...</a></li>
                                if (visCurr0.StatusName == "Visiting")
                                {
                                    <li class="pagee " onclick="changeVisit(@currentVisitNum - 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr0.ReserveDetail.Patient.Name'*@>@(currentVisitNum - 1)</a></li>
                                }
                                else if (visCurr0.StatusName == "Visited")
                                {
                                    <li class="pagee " onclick="changeVisit(@currentVisitNum - 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr0.ReserveDetail.Patient.Name'*@>@(currentVisitNum - 1)</a></li>
                                }
                                else
                                {
                                    <li class="pagee " onclick="changeVisit(@currentVisitNum - 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr0.ReserveDetail.Patient.Name'*@>@(currentVisitNum - 1)</a></li>
                                }
                                if (visCurr.StatusName == "Visiting")
                                {
                                    <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr.ReserveDetail.Patient.Name'*@>@currentVisitNum</a></li>
                                }
                                else if (visCurr.StatusName == "Visited")
                                {
                                    <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr.ReserveDetail.Patient.Name'*@>@currentVisitNum</a></li>
                                }
                                else
                                {
                                    <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr.ReserveDetail.Patient.Name'*@>@currentVisitNum</a></li>
                                }

                                if (currentVisitNum + 1 <= ViewBag.ListCount)
                                {
                                    if (visCurr1.StatusName == "Visiting")
                                    {
                                        <li class="pagee " onclick="changeVisit(@currentVisitNum + 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr1.ReserveDetail.Patient.Name'*@>@(currentVisitNum + 1)</a></li>
                                    }
                                    else if (visCurr1.StatusName == "Visited")
                                    {
                                        <li class="pagee " onclick="changeVisit(@currentVisitNum + 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr1.ReserveDetail.Patient.Name'*@>@(currentVisitNum + 1)</a></li>
                                    }
                                    else
                                    {
                                        <li class="pagee " onclick="changeVisit(@currentVisitNum + 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr1.ReserveDetail.Patient.Name'*@>@(currentVisitNum + 1)</a></li>
                                    }
                                }
                                if (currentVisitNum + 3 <= ViewBag.ListCount)
                                {
                                    <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#">...</a></li>
                                }
                                if (currentVisitNum + 2 <= ViewBag.ListCount)
                                {
                                    if (visLast.StatusName == "Visiting")
                                    {
                                        <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                                    }
                                    else if (visLast.StatusName == "Visited")
                                    {
                                        <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                                    }
                                    else
                                    {
                                        <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                                    }
                                }
                            }
                            <li class="pagee nextt" onclick="changeVisit('Next')" style="font-size:1.7rem"><a class="page-link" href="#">Next</a></li>
                        }
                        else
                        {
                            if (vis2.StatusName == "Visiting")
                            {
                                <li class="pagee disabled" onclick="changeVisit(2)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@vis2.ReserveDetail.Patient.Name'*@>2</a></li>
                            }
                            else if (vis2.StatusName == "Visited")
                            {
                                <li class="pagee disabled" onclick="changeVisit(2)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@vis2.ReserveDetail.Patient.Name'*@>2</a></li>
                            }
                            else
                            {
                                <li class="pagee disabled" onclick="changeVisit(2)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@vis2.ReserveDetail.Patient.Name'*@>2</a></li>
                            }
                            if (currentVisitNum + 1 <= ViewBag.ListCount)
                            {
                                if (visCurr1.StatusName == "Visiting")
                                {
                                    <li class="pagee " onclick="changeVisit(@currentVisitNum + 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr1.ReserveDetail.Patient.Name'*@>@(currentVisitNum + 1)</a></li>
                                }
                                else if (visCurr1.StatusName == "Visited")
                                {
                                    <li class="pagee " onclick="changeVisit(@currentVisitNum + 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr1.ReserveDetail.Patient.Name'*@>@(currentVisitNum + 1)</a></li>
                                }
                                else
                                {
                                    <li class="pagee " onclick="changeVisit(@currentVisitNum + 1)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@visCurr1.ReserveDetail.Patient.Name'*@>@(currentVisitNum + 1)</a></li>
                                }
                            }
                            if (currentVisitNum + 3 <= ViewBag.ListCount)
                            {
                                <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#">...</a></li>
                            }
                            if (currentVisitNum + 2 <= ViewBag.ListCount)
                            {
                                if (visLast.StatusName == "Visiting")
                                {
                                    <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                                }
                                else if (visLast.StatusName == "Visited")
                                {
                                    <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                                }
                                else
                                {
                                    <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                                }
                            }
                            <li class="pagee nextt" onclick="changeVisit('Next')" style="font-size:1.7rem"><a class="page-link" href="#">Next</a></li>
                        }
                    }
                    else
                    {
                        <li class="pagee previouss" onclick="changeVisit('Previous')" style="font-size:1.7rem"><a class="page-link" href="#">Previous</a></li>
                        if (vis1.StatusName == "Visiting")
                        {
                            <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@vis1.ReserveDetail.Patient.Name'*@>1</a></li>
                        }
                        else if (vis1.StatusName == "Visited")
                        {
                            <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@vis1.ReserveDetail.Patient.Name'*@>1</a></li>
                        }
                        else
                        {
                            <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@vis1.ReserveDetail.Patient.Name'*@>1</a></li>
                        }
                        if (currentVisitNum + 1 <= ViewBag.ListCount)
                        {
                            if (vis2.StatusName == "Visiting")
                            {
                                <li class="pagee" onclick="changeVisit(2)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@vis2.ReserveDetail.Patient.Name'*@>2</a></li>
                            }
                            else if (vis2.StatusName == "Visited")
                            {
                                <li class="pagee" onclick="changeVisit(2)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@vis2.ReserveDetail.Patient.Name'*@>2</a></li>
                            }
                            else
                            {
                                <li class="pagee" onclick="changeVisit(2)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@vis2.ReserveDetail.Patient.Name'*@>2</a></li>
                            }
                        }
                        if (currentVisitNum + 3 <= ViewBag.ListCount)
                        {
                            <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#">...</a></li>
                        }
                        if (currentVisitNum + 2 <= ViewBag.ListCount)
                        {
                            if (visLast.StatusName == "Visiting")
                            {
                                <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:orange" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                            }
                            else if (visLast.StatusName == "Visited")
                            {
                                <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:green" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                            }
                            else
                            {
                                <li class="pagee " onclick="changeVisit(@ViewBag.ListCount)" style="font-size:1.7rem"><a class="page-link" href="#" style="color:red" data-toggle="tooltip" data-placement="bottom" @*title='@visLast.ReserveDetail.Patient.Name'*@>@ViewBag.ListCount</a></li>
                            }
                        }
                        <li class="pagee nextt" onclick="changeVisit('Next')" style="font-size:1.7rem"><a class="page-link" href="#">Next</a></li>
                    }
                }
                else
                {
                    <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#">Previous</a></li>
                    <li class="pagee disabled" style="font-size:1.7rem"><a class="page-link" href="#">Next</a></li>
                }
                <li class="pagee disabled" style="font-size:1.7rem;padding:0;margin-left:0.5rem"><input id="customVisitInput" type="number" style="margin:0;width:6rem" /> </li>
                <li class="pagee disabled btn-success" style="font-size:1.7rem;margin-left:0.5rem" onclick="customVisitGo()">GO </li>
                <li class="pagee disabled btn-success" style="font-size:1.7rem;margin-left:0.5rem" onclick="visitRefresh()"><i class="fa fa-refresh"></i> </li>
                <li class="pagee disabled btn-success" style="font-size:1.7rem;margin-left:0.5rem" onclick="changeVisit('Visited')">Visited And Next </li>
                <li class="pagee disabled btn-success" style="font-size:1.7rem;margin-left:0.5rem" onclick="ShowVisitList()">Visit List</li>
            }


        </ul>



    </div>

    <div class="col-sm-12" style="margin-bottom:3rem">

        @{

            if (Model != null)
            {
                <label id="data" class="hidden" data-visitId=@Model.Guid data-currentVisit=@Model.VisitNum data-visitCounts=@ViewBag.ListCount data-Guid=@Model.ReserveDetail.Patient.Guid></label>
            }
            else
            {
                <label id="data" class="hidden" data-currentVisit=0 data-visitCounts=@ViewBag.ListCount></label>
            }

        }


        <div class="col-sm-12 shadow-border" style="text-align:left">





            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">
                <div>
                    <label class="visit-left-labels">Visit Uniq Number:</label>

                    @{

                        if (Model != null)
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem">@Model.UniqueVisitNum</label>
                        }
                        else
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem">_</label>
                        }

                    }

                </div>
            </div>

            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">
                <div>
                    <label class="visit-left-labels">Phone Number:</label>

                    @{

                        if (Model != null)
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem">@Model.ReserveDetail.Patient.PhoneNumber</label>
                        }
                        else
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem">_</label>
                        }

                    }

                </div>
            </div>


            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">
                <div>
                    <label class="visit-left-labels">Name:</label>

                    @{

                        if (Model != null)
                        {
                            <label id="PatientName" class="visit-right-labels" style="font-size:1.8rem">@Model.ReserveDetail.Patient.Name</label>
                        }
                        else
                        {
                            <label id="PatientName" class="visit-right-labels" style="font-size:1.8rem">_</label>
                        }

                    }

                </div>
            </div>


            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">
                <div>
                    <label class="visit-left-labels">Visit Number:</label>

                    @{

                        if (Model != null)
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem;color:brown">@Model.VisitNum.ToString()</label>
                        }
                        else
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem;color:red">0</label>
                        }

                    }

                </div>
            </div>



            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">

                <div class="col-xs-2">

                    <a href="\\#" class="k-link k-button k-button-icon pull-left" onclick="AddJob()" style="padding:0.2rem 0.1rem"><span class="fa fa-plus" style="margin:0.1rem"></span></a>

                </div>

                <div class="col-sm-10" style="padding:0">
                    <label class="visit-left-labels">Father Job:</label>
                    @{

                        if (Model != null)
                        {

                            @(Html.Kendo().AutoCompleteFor(m => m.ReserveDetail.Patient.FatherJobName)
                              .Name("ReserveDetail.Patient.FatherJobName")
                              .DataTextField("Name")
                              //.BindTo(Model.ReserveDetail.Patient.FatherJobName)
                              .Events(events => events.Select("VisitVariableJobChange"))
                              .Filter(FilterType.Contains)
                              .MinLength(1)
                              .ClearButton(false)
                              .HtmlAttributes(new { style = "font-size:1.5rem;width:50%", @data_property = "FatherJob" })
                              .DataSource(source =>
                              {
                                  source.Read(read =>
                                  {
                                      read.Action("GetAllJobs", "BaseInfo");
                                  })
                                  .ServerFiltering(false);
                              })
                              .Value(Model.ReserveDetail.Patient.FatherJobName)
                            )






                            @*@(Html.Kendo().DropDownListFor(x => x.ReserveDetail.Patient.FatherJobId)
                                  .Name("ReserveDetail.Patient.FatherJobId")
                                  .DataTextField("Name")
                                  .DataValueField("Id")
                                  .OptionLabel(" ")
                                  .Events(e =>
                                  {
                                      e.Change("VisitVariableChange");
                                  })
                                  .DataSource(source =>
                                  {
                                      source.Read(read =>
                                      {
                                          read.Action("GetAllJobs", "BaseInfo");
                                      })
                                    .ServerFiltering(false);
                                  })
                                  .HtmlAttributes(new { @id = "FatherJobId", style = "font-size:1.5rem", @data_property = "FatherJob" })
                                )*@

                        }
                        else
                        {
                            <label style="font-size:1.8rem;width:50%">_</label>
                        }

                    }
                </div>
            </div>




            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">
                <div @*class="col-sm-12" style="padding:0"*@>
                    <label class="visit-left-labels">Date Of Birth:</label>


                    <input id="BirthDayDateHelper" class="hidden" title="datepicker" style="width: 100%;font-size:1.5rem" type="date" />
                    @{

                        if (Model != null)
                        {

                            @(Html.Kendo().DatePickerFor(m => m.ReserveDetail.Patient.DateOfBirth)
                            .Name("ReserveDetail.Patient.DateOfBirth")
                            .Value(Model.ReserveDetail.Patient.DateOfBirth)
                            .Format("dd/MM/yyyy")
                            .Events(e =>
                            {
                                e.Change("VisitVariableChange");
                            })
                            .HtmlAttributes(new { style = "font-size:1.5rem", @id = "DateOfBirth", @data_property = "BirthDayDate" })
                            )


                        }
                        else
                        {

                            <label style="font-size:1.8rem;width:50%">_</label>


                        }


                    }
                </div>
            </div>


            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">
                <div>
                    <label class="visit-left-labels">Visit Date:</label>

                    @{
                        CultureInfo cultures = new CultureInfo("en-US");

                        if (Model != null)
                        {

                            <label class="visit-right-labels" style="font-size:1.8rem">@Model.VisitDate.Value.ToString("dd/MM/yyyy", cultures)</label>
                        }
                        else
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem">@DateTime.Today.ToString("dd/MM/yyyy", cultures)</label>
                        }


                    }
                </div>
            </div>


            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">

                <div class="col-xs-2">

                    <a href="\\#" class="k-link k-button k-button-icon pull-left" onclick="AddJob()" style="padding:0.2rem 0.1rem"><span class="fa fa-plus" style="margin:0.1rem"></span></a>

                </div>

                <div class="col-sm-10" style="padding:0">
                    <label class="visit-left-labels">Mother Job:</label>
                    @{

                        if (Model != null)
                        {


                            @(Html.Kendo().AutoCompleteFor(m => m.ReserveDetail.Patient.MotherJobName)
                              .Name("ReserveDetail.Patient.MotherJobName")
                              .DataTextField("Name")
                              .BindTo(Model.ReserveDetail.Patient.MotherJobName)
                              .Events(events => events.Select("VisitVariableJobChange"))
                              .Filter(FilterType.Contains)
                              .MinLength(1)
                              .ClearButton(false)
                              .HtmlAttributes(new { style = "font-size:1.5rem;width:50%", @data_property = "MotherJob" })
                              .DataSource(source =>
                              {
                                  source.Read(read =>
                                  {
                                      read.Action("GetAllJobs", "BaseInfo");
                                  })
                                  .ServerFiltering(false);
                              })
                              .Value(Model.ReserveDetail.Patient.MotherJobName)
                            )






                            @*@(Html.Kendo().DropDownListFor(x => x.ReserveDetail.Patient.MotherJobId)
                                  .Name("ReserveDetail.Patient.MotherJobId")
                                  .DataTextField("Name")
                                  .DataValueField("Id")
                                  .OptionLabel(" ")
                                  .Events(e =>
                                  {
                                      e.Change("VisitVariableChange");
                                  })
                                  .DataSource(source =>
                                  {
                                      source.Read(read =>
                                      {
                                          read.Action("GetAllJobs", "BaseInfo");
                                      })
                                    .ServerFiltering(false);
                                  })
                                  .HtmlAttributes(new { @id = "MotherJobId", style = "font-size:1.5rem", @data_property = "MotherJob" })
                                )*@

                        }
                        else
                        {
                            <label style="font-size:1.8rem;width:50%">_</label>
                        }

                    }
                </div>
            </div>


            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">



                <div class="col-xs-6" style="padding:0;margin:0">
                    <label class="visit-left-labels">Month:</label>

                    @{
                        if (Model != null)
                        {
                            @(Html.Kendo().TextBoxFor(m => m.ReserveDetail.Patient.Month)
                                .Name("Month")
                                .Events(e =>
                                {
                                    e.Change("VisitVariableChange");
                                })
                                .Placeholder(@ViewBag.MonthTranslated)
                                .HtmlAttributes(new { style = "font-size:1.5rem;width:50%"/*, onchange = "ReserveInsertAge(this)"*/, id = "Month", @data_property = "BirthDay" })
                            )


                        }
                        else
                        {
                            <label style="font-size:1.8rem;width:50%">_</label>
                        }

                    }

                </div>


                <div class="col-xs-6" style="padding:0;margin:0">
                    <label class="visit-left-labels">Year:</label>

                    @{
                        if (Model != null)
                        {
                            @(Html.Kendo().TextBoxFor(m => m.ReserveDetail.Patient.Year)
                                .Name("Year")
                                .Events(e =>
                                {
                                    e.Change("VisitVariableChange");
                                })
                                .Placeholder(@ViewBag.YearTranslated)
                                .HtmlAttributes(new { style = "font-size:1.5rem;width:50%"/*, onchange = "ReserveInsertAge(this)"*/, id = "Year", @data_property = "BirthDay" })
                            )


                        }
                        else
                        {
                            <label style="font-size:1.8rem;width:50%">_</label>
                        }
                    }

                </div>


            </div>


            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">
                <div>
                    <label class="visit-left-labels">Visit Time:</label>

                    @{

                        if (Model != null && Model.VisitTime != null)
                        {


                            <label class="visit-right-labels" style="font-size:1.8rem"> @Model.VisitTime.Value.ToString("hh':'mm") </label>
                        }
                        else
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem">@DateTime.Now.ToString("HH:mm")</label>
                        }

                    }

                </div>
            </div>

            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">

                @{

                    <div>
                        <label class="visit-left-labels">Status:</label>

                        @{if (Model != null)
                            {
                                if (@Model.StatusName == "InQueue")
                                {
                                    <label class="visit-right-labels" style="font-size:1.8rem;color:red">In Queue</label>
                                }

                                else if (@Model.StatusName == "Visiting")
                                {
                                    <label class="visit-right-labels" style="font-size:1.8rem;color:orange">Visiting</label>
                                }
                                else
                                {
                                    <label class="visit-right-labels" style="font-size:1.8rem;color:green">Visited</label>
                                }
                            }
                            else
                            {
                                <label class="visit-right-labels" style="font-size:1.8rem;color:red">No One Reserved</label>
                            }
                        }

                    </div>

                }


            </div>

            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">

                @{

                    @*<div class="col-sm-12" style="text-align:center">
                            <h3>Gender</h3>
                        </div>*@

                    <div>
                        <label class="visit-left-labels">Gender:</label>
                        @{

                            if (Model != null)
                            {

                                @(Html.Kendo().DropDownListFor(x => x.ReserveDetail.Patient.GenderId)
                                  .Name("ReserveDetail.Patient.GenderId")
                                  .DataTextField("Name")
                                  .DataValueField("Id")
                                  .Events(e =>
                                  {
                                      e.Change("VisitVariableChange");
                                  })
                                  .DataSource(source =>
                                  {
                                      source.Read(read =>
                                      {
                                          read.Action("GetAllGenders", "BaseInfo");
                                      })
                                    .ServerFiltering(false);
                                  })
                                  .HtmlAttributes(new { @id = "GenderId", style = "font-size:1.5rem;margin-right:1rem", @data_property = "Gender" })
                                )

                            }
                            else
                            {
                                <label style="font-size:1.8rem;width:50%">_</label>
                            }

                            if (Model != null)
                            {
                                if (Model.ReserveDetail.Patient.UserGenderName == "Man")
                                {
                                    <span id="male" class=" fa fa-mars bigger-140"></span>
                                    <span id="female" class="hidden fa fa-venus bigger-140"></span>
                                }
                                else
                                {
                                    <span id="male" class="hidden fa fa-mars bigger-140"></span>
                                    <span id="female" class=" fa fa-venus bigger-140"></span>
                                }
                            }



                        }

                    </div>

                }

            </div>


            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">

                <div>
                    <label class="visit-left-labels ">Reserve Time:</label>

                    @{

                        DateTime dd = DateTime.Now;
                        if (Model != null)
                        {

                            dd = DateTime.Parse(Model.ReserveDetail.ReserveStartTime);
                        }

                    }
                    <label style="font-size:1.8rem"> @dd.ToString("HH:mm")</label>
                </div>

            </div>


            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">

                <div>
                    <label class="visit-left-labels">Address:</label>

                    @{

                        if (Model != null && Model.VisitTime != null)
                        {


                            <label class="visit-right-labels" style="font-size:1.8rem"> @Model.ReserveDetail.Patient.AddressName </label>
                        }
                        else
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem">_</label>
                        }

                    }

                </div>

            </div>



            <div class="col-lg-4 col-sm-6" style="margin:0.5rem 0">

                <div>
                    <label class="visit-left-labels ">File Number:</label>

                    @{


                        if (Model != null)
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem">@Model.ReserveDetail.Patient.FileNum</label>
                        }
                        else
                        {
                            <label class="visit-right-labels" style="font-size:1.8rem">_</label>
                        }

                    }

                </div>

            </div>

            @{
                if (Model != null && (Model.ReserveDetail.OldVisit ?? false))
                {
                    <div class="col-sm-12" style="text-align:center">
                        <h2 class="red">Test Result</h2>
                    </div>
                }

            }


        </div>



    </div>



    <div class="col-sm-12 ">

        <div class="col-sm-3">

            <div id="var" class="col-sm-12 shadow-border" style="margin-bottom:1rem">


                @{

                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        foreach (var value in Model.AllClinicSectionChoosenValues.OrderBy(x => x.PatientVariable.Abbreviation))
                        {
                            if (value.PatientVariable.Abbreviation == "CS" || value.PatientVariable.Abbreviation == "NVD" || value.PatientVariable.Abbreviation == "DDH"
                                || value.PatientVariable.Abbreviation == "Term" || value.PatientVariable.Abbreviation == "Premature")
                            {
                                <div class="col-xs-12 col-lg-6" style="padding:0;display:flex;margin:0.5rem 0">



                                    @{
                                        if (value.PatientVariableVariableType == "Text")
                                        {
                                            <label style="font-size:1.5rem">@value.PatientVariable.Abbreviation:</label>
                                            @(Html.Kendo().TextBox()
                                                .Name(value.VariableNameForView)
                                                .Events(e =>
                                                {
                                                    e.Change("VisitVariableChange");
                                                })
                                                .Value(value.Value)
                                                .HtmlAttributes(new { style = "font-size:1.5rem;width:50%", @data_property = value.PatientVariableId, @data_patientvariablevalueGuid = value.PatientVariableValueGuid })
                                            )
                                        }

                                        else if (value.PatientVariableVariableType == "Bool")
                                        {
                                            if (value.Value == "true")
                                            {
                                                @(Html.Kendo().CheckBox()
                                                .Name(value.VariableNameForView)
                                                .Label(value.PatientVariable.Abbreviation)
                                                .Checked(true)
                                                .HtmlAttributes(new
                                                        {
                                                            @class = "kendoCheckbox visit-checkboxes",
                                                            style = "font-size:5rem;direction:ltr",
                                                            onchange = "VisitCheckboxVariableChange(this)",
                                                            @data_property = value.PatientVariableId,
                                                            @data_patientvariablevalueGuid = value.PatientVariableValueGuid,
                                                            dir = "auto"
                                                        }))
                                            }
                                            else
                                            {
                                                @(Html.Kendo().CheckBox()
                                                .Name(value.VariableNameForView)
                                                .Label(value.PatientVariable.Abbreviation)
                                                .HtmlAttributes(new
                                                        {
                                                            @class = "kendoCheckbox visit-checkboxes",
                                                            style = "font-size:5rem;direction:ltr",
                                                            onchange = "VisitCheckboxVariableChange(this)",
                                                            @data_property = value.PatientVariableId,
                                                            @data_patientvariablevalueGuid = value.PatientVariableValueGuid,
                                                            dir = "auto"
                                                        }))
                                            }

                                        }


                                    }



                                </div>
                            }

                        }
                    }

                }


            </div>


            <div class="col-sm-12 shadow-border" style="margin-bottom:1rem">


                @{

                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        foreach (var value in Model.AllClinicSectionChoosenValues.OrderBy(x => x.PatientVariable.Abbreviation))
                        {
                            if (value.PatientVariable.Abbreviation == "Pregnancy" || value.PatientVariable.Abbreviation == "Drugs" || value.PatientVariable.Abbreviation == "Disease"
                                || value.PatientVariable.Abbreviation == "Post Partum")
                            {
                                <div class="col-sm-12" style="padding:0;margin:0.5rem 0">



                                    @{
                                        if (value.PatientVariableVariableType == "Text")
                                        {
                                            <label style="font-size:1.5rem">@value.PatientVariable.Abbreviation:</label>
                                            @(Html.Kendo().TextBox()
                                                .Name(value.VariableNameForView)
                                                .Events(e =>
                                                {
                                                    e.Change("VisitVariableChange");
                                                })
                                                .Value(value.Value)
                                                .HtmlAttributes(new { style = "font-size:1.5rem;width:50%", @data_property = value.PatientVariableId, @data_patientvariablevalueGuid = value.PatientVariableValueGuid })
                                            )
                                        }

                                        else if (value.PatientVariableVariableType == "Bool")
                                        {
                                            if (value.Value == "true")
                                            {
                                                @(Html.Kendo().CheckBox()
                                                .Name(value.VariableNameForView)
                                                .Label(value.PatientVariable.Abbreviation)
                                                .Checked(true)
                                                .HtmlAttributes(new
                                                        {
                                                            @class = "kendoCheckbox",
                                                            style = "font-size:5rem",
                                                            onchange = "VisitCheckboxVariableChange(this)",
                                                            @data_property = value.PatientVariableId,
                                                            @data_patientvariablevalueGuid = value.PatientVariableValueGuid
                                                        }))
                                            }
                                            else
                                            {
                                                @(Html.Kendo().CheckBox()
                                                .Name(value.VariableNameForView)
                                                .Label(value.PatientVariable.Abbreviation)
                                                .HtmlAttributes(new
                                                        {
                                                            @class = "kendoCheckbox",
                                                            style = "font-size:5rem",
                                                            onchange = "VisitCheckboxVariableChange(this)",
                                                            @data_property = value.PatientVariableId,
                                                            @data_patientvariablevalueGuid = value.PatientVariableValueGuid
                                                        }))
                                            }

                                        }


                                    }



                                </div>
                            }

                        }
                    }

                }


            </div>


            <div class="col-sm-12 shadow-border" style="margin-bottom:1rem">
                <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                    <h3>Feeding</h3>
                </div>

                @{

                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        foreach (var value in Model.AllClinicSectionChoosenValues.OrderBy(x => x.PatientVariable.Abbreviation))
                        {
                            if (value.PatientVariable.Abbreviation == "Breast" || value.PatientVariable.Abbreviation == "Bottle"
                                || value.PatientVariable.Abbreviation == "Mix" || value.PatientVariable.Abbreviation == "Weaning")
                            {
                                <div class="col-sm-12" style="padding:0;margin:0.5rem 0">



                                    @{
                                        if (value.PatientVariableVariableType == "Text")
                                        {
                                            <label style="font-size:1.5rem">@value.PatientVariable.Abbreviation:</label>
                                            @(Html.Kendo().TextBox()
                                                .Name(value.VariableNameForView)
                                                .Events(e =>
                                                {
                                                    e.Change("VisitVariableChange");
                                                })
                                                .Value(value.Value)
                                                .HtmlAttributes(new { style = "font-size:1.5rem;width:50%", @data_property = value.PatientVariableId, @data_patientvariablevalueGuid = value.PatientVariableValueGuid })
                                            )
                                        }

                                        else if (value.PatientVariableVariableType == "Bool")
                                        {
                                            if (value.Value == "true")
                                            {
                                                @(Html.Kendo().CheckBox()
                                                .Name(value.VariableNameForView)
                                                .Label(value.PatientVariable.Abbreviation)
                                                .Checked(true)
                                                .HtmlAttributes(new
                                                        {
                                                            @class = "kendoCheckbox",
                                                            style = "font-size:5rem",
                                                            onchange = "VisitCheckboxVariableChange(this)",
                                                            @data_property = value.PatientVariableId,
                                                            @data_patientvariablevalueGuid = value.PatientVariableValueGuid
                                                        }))
                                            }
                                            else
                                            {
                                                @(Html.Kendo().CheckBox()
                                                .Name(value.VariableNameForView)
                                                .Label(value.PatientVariable.Abbreviation)
                                                .HtmlAttributes(new
                                                        {
                                                            @class = "kendoCheckbox",
                                                            style = "font-size:5rem",
                                                            onchange = "VisitCheckboxVariableChange(this)",
                                                            @data_property = value.PatientVariableId,
                                                            @data_patientvariablevalueGuid = value.PatientVariableValueGuid
                                                        }))
                                            }

                                        }


                                    }



                                </div>
                            }

                        }
                    }

                }


            </div>


        </div>

        <div class="col-sm-9 shadow-border">

            <table class="table-without-border">

                <thead>

                    <tr>

                        <th class="table-without-border-td" style="text-align:center;width:8%;font-size:1.7rem">

                            #

                        </th>


                        <th class="table-without-border-td" style="text-align:center;width:23%;font-size:1.7rem">

                            Date

                        </th>

                        <th class="table-without-border-td" style="text-align:center;width:23%;font-size:1.7rem">

                            HT(cm)

                        </th>

                        <th class="table-without-border-td" style="text-align:center;width:23%;font-size:1.7rem">

                            Wt(kg)

                        </th>

                        <th class="table-without-border-td" style="text-align:center;width:23%;font-size:1.7rem">

                            HC(cm)

                        </th>


                    </tr>

                </thead>

                <tbody>



                    @{



                        int i = 1;
                        if (Model != null && Model.AllPreviousValues != null)
                        {
                            var AtBirth = Model.AllClinicSectionChoosenValues.FirstOrDefault(x => x.PatientVariableVariableName == "Weight At Birth");
                            foreach (var list in Model.AllPreviousValues)
                            {
                                var height1 = list.FirstOrDefault(x => x.PatientVariableVariableName == "Height");
                                var weight1 = list.FirstOrDefault(x => x.PatientVariableVariableName == "Weight");
                                var head1 = list.FirstOrDefault(x => x.PatientVariableVariableName == "head circumference");

                                if (i == 1 && AtBirth.Value != "0")
                                {
                                    <tr>
                                        <td style="font-size:1.7rem">@i</td>

                                        <td style="font-size:1.7rem">
                                            At Birth
                                        </td>

                                        <td></td>

                                        <td style="font-size:1.7rem">
                                            @AtBirth.Value
                                        </td>

                                        <td></td>

                                    </tr>
                                }
                                else
                                {



                                    <tr>
                                        <td style="font-size:1.7rem">@i</td>

                                        @{

                                            <td style="font-size:1.7rem">
                                                @list.FirstOrDefault().VariableInsertedDate.Value.ToString("dd/MM/yyyy", cultures)

                                                year:@list.FirstOrDefault().Year , month: @list.FirstOrDefault().Month

                                            </td>

                                        }



                                        @{
                                            if (height1 == null)
                                            {
                                                <td class="nearHt" style="font-size:1.7rem">0</td>
                                            }
                                            else
                                            {
                                                <td class="nearHt" style="font-size:1.7rem">@height1.Value</td>
                                            }
                                            if (weight1 == null)
                                            {
                                                <td class="nearHt" style="font-size:1.7rem">0</td>
                                            }
                                            else
                                            {
                                                <td class="nearHt" style="font-size:1.7rem">@weight1.Value</td>
                                            }
                                            if (head1 == null)
                                            {
                                                <td class="nearHt" style="font-size:1.7rem">0</td>
                                            }
                                            else
                                            {
                                                <td class="nearHt" style="font-size:1.7rem">@head1.Value</td>
                                            }
                                        }


                                        @*<td class="nearWt" style="font-size:1.7rem">@list.FirstOrDefault(x => x.PatientVariableVariableName == "Weight").Value</td>*@

                                        @*<td class="nearHc" style="font-size:1.7rem">@list.FirstOrDefault(x => x.PatientVariableVariableName == "head circumference").Value</td>*@

                                    </tr>
                                }
                                i++;

                            }
                        }

                    }





                    @{

                        if (Model != null && Model.AllClinicSectionChoosenValues != null)
                        {
                            var AtBirth = Model.AllClinicSectionChoosenValues.FirstOrDefault(x => x.PatientVariableVariableName == "Weight At Birth");


                            if (i == 1 && AtBirth.Value != "0")
                            {
                                <tr>
                                    <td style="font-size:1.7rem">@i</td>

                                    <td style="font-size:1.7rem">
                                        At Birth
                                    </td>

                                    <td></td>

                                    <td style="font-size:1.7rem">
                                        @AtBirth.Value
                                    </td>

                                    <td></td>

                                </tr>
                                i++;
                            }


                            <tr>

                                <td style="font-size:1.7rem">@i</td>
                                @*if (i == 1 && AtBirth.Value == "true")
                                    {
                                        <td style="font-size:1.7rem">

                                            At Birth

                                        </td>
                                    }
                                    else
                                    {*@
                                <td style="font-size:1.7rem">

                                    @{

                                        @(Html.Kendo().DatePicker()
                                            .Name("newDate")
                                            .Value(DateTime.Now)
                                            .Format("dd/MM/yyyy")
                                            .Events(e =>
                                            {
                                                e.Change("changeBirthOfDatePatientDatetimePickerNew");
                                            })
                                            .HtmlAttributes(new { @id = "insertDate", style = "width: 100%;font-size:1.7rem" })
                                        )


                                        @(Html.Kendo().TextBox()
                                            .Name("Year1")
                                            .Value(Model.ReserveDetail.Patient.Year.ToString())
                                            .Readonly(true)
                                            .Placeholder(@ViewBag.YearTranslated)
                                            .HtmlAttributes(new { style = "font-size:1.5rem;width:50%", id = "Year1", @data_property = "BirthDay" })
                                        )

                                        @(Html.Kendo().TextBox()
                                            .Name("Month1")
                                            .Readonly(true)
                                            .Value(Model.ReserveDetail.Patient.Month.ToString())
                                            .Placeholder(@ViewBag.YearTranslated)
                                            .HtmlAttributes(new { style = "font-size:1.5rem;width:50%", id = "Month1", @data_property = "BirthDay" })
                                        )

                                    }

                                </td>



                                @{var HT = Model.AllClinicSectionChoosenValues.FirstOrDefault(x => x.PatientVariableVariableName == "Height");}
                                <td style="font-size:1.7rem">

                                    @{
                                        int htval;
                                        if (HT != null)
                                        {
                                            if (HT.Value == "")
                                            {
                                                htval = 0;
                                            }
                                            else
                                            {
                                                htval = Convert.ToInt32(Convert.ToDecimal(HT.Value));
                                            }
                                            @(Html.Kendo().NumericTextBox<int>()
                                                .Name("ht")
                                                .Min(0)
                                                .Max(200)
                                                .Format("# cm")
                                                .Events(e =>
                                                {
                                                    e.Change("VisitVariableChange");
                                                })
                                                .Value(htval)
                                                .HtmlAttributes(new { @id = "HT", @class = "HT", style = "width: 100%", title = "custom", @data_property = HT.PatientVariableId, @data_patientvariablevalueGuid = HT.PatientVariableValueGuid, autocomplete = "off" })
                                            )
                                        }




                                    }

                                </td>


                                @{var WT = Model.AllClinicSectionChoosenValues.FirstOrDefault(x => x.PatientVariableVariableName == "Weight");}
                                <td style="font-size:1.7rem">

                                    @{
                                        if (WT != null)
                                        {
                                            if (WT.Value == "")
                                            {
                                                WT.Value = "0";
                                            }
                                            @(Html.Kendo().NumericTextBox<decimal>()
                                                .Name("wt")
                                                .Max(200)
                                                .Min(0)
                                                .Format("#.0 kg")
                                                .Step(Convert.ToDecimal(0.1))
                                                .Events(e =>
                                                          {
                                                              e.Change("VisitVariableChange");
                                                          })
                                                .Value(Convert.ToDecimal(WT.Value))
                                                .HtmlAttributes(new { @id = "WT", @class = "WT", style = "width: 100%", title = "custom", @data_property = WT.PatientVariableId, @data_patientvariablevalueGuid = WT.PatientVariableValueGuid, autocomplete = "off" })
                                            )
                                        }




                                    }

                                </td>

                                @{var HC = Model.AllClinicSectionChoosenValues.FirstOrDefault(x => x.PatientVariableVariableName == "head circumference");}
                                <td style="font-size:1.7rem">

                                    @{
                                        int hcval;
                                        if (HC != null)
                                        {
                                            if (HC.Value == "")
                                            {
                                                hcval = 0;
                                            }
                                            else
                                            {
                                                hcval = Convert.ToInt32(Convert.ToDecimal(HC.Value));
                                            }
                                            @(Html.Kendo().NumericTextBox<int>()
                                                .Name("hc")
                                                .Max(200)
                                                .Min(0)
                                                .Format("# cm")
                                                .Events(e =>
                                                          {
                                                              e.Change("VisitVariableChange");
                                                          })
                                                .Value(hcval)
                                                .HtmlAttributes(new { @id = "HC", @class = "HC", style = "width: 100%", title = "custom", @data_property = HC.PatientVariableId, @data_patientvariablevalueGuid = HC.PatientVariableValueGuid, autocomplete = "off" })
                                            )
                                        }




                                    }

                                </td>


                            </tr>




                        }

                    }



                </tbody>

            </table>

            <div class="col-sm-12" style="margin:2rem 0;padding-right:4rem">

                <div class="col-xs-4">

                    <a href="\\#" class="k-link k-button k-button-icon pull-right" onclick="showChart()" style="padding:0.2rem 0.1rem;width:10rem"><span class="fa fa-plus" style="margin:0.1rem"></span>show Chart</a>

                </div>

            </div>

        </div>

    </div>




    <div class="col-sm-12 shadow-border">


        <table class="table-without-border">

            <thead>

                <tr>

                    <th class="table-without-border-td" style="text-align:center">

                        Past Med-Surg

                    </th>

                    <th class="table-without-border-td" style="text-align:center">

                        Investigation

                    </th>

                    <th class="table-without-border-td" style="text-align:center">

                        Drug Hx / Family Hx

                    </th>

                    <th class="table-without-border-td" style="text-align:center">

                        Allergy

                    </th>


                </tr>

            </thead>

            <tbody>

                <tr>

                    @{

                        if (Model != null && Model.AllClinicSectionChoosenValues != null)
                        {
                            foreach (var value in Model.AllClinicSectionChoosenValues.OrderByDescending(x => x.PatientVariable.Abbreviation))
                            {
                                if (value.PatientVariable.Abbreviation == "Allergy" || value.PatientVariable.Abbreviation == "DrugHx-FamilyHx" || value.PatientVariable.Abbreviation == "Investigation"
                                    || value.PatientVariable.Abbreviation == "Past Med-Surg")
                                {

                                    <td class="table-without-border-td">

                                        @{

                                            @(Html.Kendo().TextBox()
                                                .Name(value.VariableNameForView)
                                                .Events(e =>
                                                {
                                                    e.Change("VisitVariableChange");
                                                })
                                                .Value(value.Value)
                                                .HtmlAttributes(new { style = "font-size:1.5rem;width:100%", @data_property = value.PatientVariableId, @data_patientvariablevalueGuid = value.PatientVariableValueGuid })
                                            )

                                        }

                                    </td>


                                }

                            }
                        }

                    }

                </tr>

                <tr>

                    @{

                        if (Model != null && Model.AllClinicSectionChoosenValues != null)
                        {
                            foreach (var value in Model.AllClinicSectionChoosenValues.OrderByDescending(x => x.PatientVariable.Abbreviation))
                            {
                                if (value.PatientVariable.Abbreviation == "Allergy1" || value.PatientVariable.Abbreviation == "DrugHx-FamilyHx1" || value.PatientVariable.Abbreviation == "Investigation1"
                                    || value.PatientVariable.Abbreviation == "Past Med-Surg1")
                                {

                                    <td class="table-without-border-td">

                                        @{

                                            @(Html.Kendo().TextBox()
                                                .Name(value.VariableNameForView)
                                                .Events(e =>
                                                {
                                                    e.Change("VisitVariableChange");
                                                })
                                                .Value(value.Value)
                                                .HtmlAttributes(new { style = "font-size:1.5rem;width:100%", @data_property = value.PatientVariableId, @data_patientvariablevalueGuid = value.PatientVariableValueGuid })
                                            )

                                        }

                                    </td>


                                }

                            }
                        }

                    }

                </tr>

            </tbody>

        </table>


    </div>



    <div class="row" style="border-bottom:1px solid #d4d4d4; padding-bottom:2rem">



        <div class="col-sm-3" style="margin:1rem 0">



            <div class="col-sm-12 shadow-border" style="margin:0.5rem 0">

                <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                    <h3>Ass.Symptoms</h3>
                </div>

                @{

                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        var Stool = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Stool");
                        var Stool1 = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Stool1");
                        var Urine = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Urine");
                        var Urine1 = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Urine1");
                        var Sleep = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Sleep");
                        var Sleep1 = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Sleep1");
                        var Activity = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Activity");
                        var Activity1 = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Activity1");
                        var Appetide = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Appetide");
                        var Appetide1 = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Appetide1");
                        var Fever = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Fever");
                        var Fever1 = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Fever1");
                        var Vomitting = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Vomitting");
                        var Vomitting1 = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Vomitting1");


                        <div class="col-md-6" style="padding:0;margin:0.5rem 0">


                            <div class="col-xs-4">
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Appetide.Value == "true")
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Appetide.VariableNameForView)
                                            .Checked(true)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Appetide.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Appetide.PatientVariableValueGuid
                                                    }))
                                        }
                                        else
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Appetide.VariableNameForView)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Appetide.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Appetide.PatientVariableValueGuid
                                                    }))
                                        }
                                    }

                                </div>
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Appetide1 != null && Appetide1.Value == "true")
                                        {
                                            <span class="fa-stack red closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Appetide1.PatientVariableId' data-patientvariablevalueGuid='@Appetide1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red hidden closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Appetide1.PatientVariableId' data-patientvariablevalueGuid='@Appetide1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                        else
                                        {
                                            <span class="fa-stack red hidden closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Appetide1.PatientVariableId' data-patientvariablevalueGuid='@Appetide1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Appetide1.PatientVariableId' data-patientvariablevalueGuid='@Appetide1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                    }
                                </div>
                            </div>

                            <div class="col-xs-8">
                                <label style="font-size:1.5rem;transform:translateY(30%)">@Appetide.PatientVariable.Abbreviation:</label>
                            </div>
                        </div>
                        <div class="col-md-6" style="padding:0;margin:0.5rem 0">


                            <div class="col-xs-4">
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Stool.Value == "true")
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Stool.VariableNameForView)
                                            .Checked(true)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Stool.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Stool.PatientVariableValueGuid
                                                    }))
                                        }
                                        else
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Stool.VariableNameForView)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Stool.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Stool.PatientVariableValueGuid
                                                    }))
                                        }
                                    }

                                </div>
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Stool1.Value == "true")
                                        {
                                            <span class="fa-stack red closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Stool1.PatientVariableId' data-patientvariablevalueGuid='@Stool1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red hidden closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Stool1.PatientVariableId' data-patientvariablevalueGuid='@Stool1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                        else
                                        {
                                            <span class="fa-stack red hidden closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Stool1.PatientVariableId' data-patientvariablevalueGuid='@Stool1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Stool1.PatientVariableId' data-patientvariablevalueGuid='@Stool1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                    }
                                </div>
                            </div>

                            <div class="col-xs-8">
                                <label style="font-size:1.5rem;transform:translateY(30%)">@Stool.PatientVariable.Abbreviation:</label>
                            </div>
                        </div>
                        <div class="col-md-6" style="padding:0;margin:0.5rem 0">


                            <div class="col-xs-4">
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Fever.Value == "true")
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Fever.VariableNameForView)
                                            .Checked(true)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Fever.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Fever.PatientVariableValueGuid
                                                    }))
                                        }
                                        else
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Fever.VariableNameForView)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Fever.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Fever.PatientVariableValueGuid
                                                    }))
                                        }
                                    }

                                </div>
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Fever1.Value == "true")
                                        {
                                            <span class="fa-stack red closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Fever1.PatientVariableId' data-patientvariablevalueGuid='@Fever1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red hidden closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Fever1.PatientVariableId' data-patientvariablevalueGuid='@Fever1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                        else
                                        {
                                            <span class="fa-stack red hidden closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Fever1.PatientVariableId' data-patientvariablevalueGuid='@Fever1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Fever1.PatientVariableId' data-patientvariablevalueGuid='@Fever1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                    }
                                </div>
                            </div>

                            <div class="col-xs-8">
                                <label style="font-size:1.5rem;transform:translateY(30%)">@Fever.PatientVariable.Abbreviation:</label>
                            </div>
                        </div>
                        <div class="col-md-6" style="padding:0;margin:0.5rem 0">


                            <div class="col-xs-4">
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Urine.Value == "true")
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Stool.VariableNameForView)
                                            .Checked(true)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Urine.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Urine.PatientVariableValueGuid
                                                    }))
                                        }
                                        else
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Urine.VariableNameForView)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Urine.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Urine.PatientVariableValueGuid
                                                    }))
                                        }
                                    }

                                </div>
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Urine1.Value == "true")
                                        {
                                            <span class="fa-stack red closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Urine1.PatientVariableId' data-patientvariablevalueGuid='@Urine1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red hidden closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Urine1.PatientVariableId' data-patientvariablevalueGuid='@Urine1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                        else
                                        {
                                            <span class="fa-stack red hidden closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Urine1.PatientVariableId' data-patientvariablevalueGuid='@Urine1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Urine1.PatientVariableId' data-patientvariablevalueGuid='@Urine1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                    }
                                </div>
                            </div>

                            <div class="col-xs-8">
                                <label style="font-size:1.5rem;transform:translateY(30%)">@Urine.PatientVariable.Abbreviation:</label>
                            </div>
                        </div>
                        <div class="col-md-6" style="padding:0;margin:0.5rem 0">


                            <div class="col-xs-4">
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Vomitting.Value == "true")
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Stool.VariableNameForView)
                                            .Checked(true)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Vomitting.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Vomitting.PatientVariableValueGuid
                                                    }))
                                        }
                                        else
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Vomitting.VariableNameForView)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Vomitting.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Vomitting.PatientVariableValueGuid
                                                    }))
                                        }
                                    }

                                </div>
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Vomitting1.Value == "true")
                                        {
                                            <span class="fa-stack red closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Vomitting1.PatientVariableId' data-patientvariablevalueGuid='@Vomitting1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red hidden closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Vomitting1.PatientVariableId' data-patientvariablevalueGuid='@Vomitting1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                        else
                                        {
                                            <span class="fa-stack red hidden closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Vomitting1.PatientVariableId' data-patientvariablevalueGuid='@Vomitting1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Vomitting1.PatientVariableId' data-patientvariablevalueGuid='@Vomitting1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                    }
                                </div>
                            </div>

                            <div class="col-xs-8">
                                <label style="font-size:1.5rem;transform:translateY(30%)">@Vomitting.PatientVariable.Abbreviation:</label>
                            </div>
                        </div>
                        <div class="col-md-6" style="padding:0;margin:0.5rem 0">


                            <div class="col-xs-4">
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Sleep.Value == "true")
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Sleep.VariableNameForView)
                                            .Checked(true)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Sleep.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Sleep.PatientVariableValueGuid
                                                    }))
                                        }
                                        else
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Sleep.VariableNameForView)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Sleep.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Sleep.PatientVariableValueGuid
                                                    }))
                                        }
                                    }

                                </div>
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Sleep1.Value == "true")
                                        {
                                            <span class="fa-stack red closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Sleep1.PatientVariableId' data-patientvariablevalueGuid='@Sleep1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red hidden closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Sleep1.PatientVariableId' data-patientvariablevalueGuid='@Sleep1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                        else
                                        {
                                            <span class="fa-stack red hidden closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Sleep1.PatientVariableId' data-patientvariablevalueGuid='@Sleep1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Sleep1.PatientVariableId' data-patientvariablevalueGuid='@Sleep1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                    }
                                </div>
                            </div>

                            <div class="col-xs-8">
                                <label style="font-size:1.5rem;transform:translateY(30%)">@Sleep.PatientVariable.Abbreviation:</label>
                            </div>
                        </div>
                        <div class="col-md-6" style="padding:0;margin:0.5rem 0">


                            <div class="col-xs-4">
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Activity.Value == "true")
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Stool.VariableNameForView)
                                            .Checked(true)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Activity.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Activity.PatientVariableValueGuid
                                                    }))
                                        }
                                        else
                                        {
                                            @(Html.Kendo().CheckBox()
                                            .Name(Activity.VariableNameForView)
                                            .HtmlAttributes(new
                                                    {
                                                        @class = "kendoCheckbox pull-left",
                                                        style = "font-size:5rem;text-align:center",
                                                        onchange = "VisitCheckboxVariableChange(this)",
                                                        @data_property = Activity.PatientVariableId,
                                                        @data_patientvariablevalueGuid = Activity.PatientVariableValueGuid
                                                    }))
                                        }
                                    }

                                </div>
                                <div class="col-xs-12" style="text-align:center">
                                    @{
                                        if (Activity1.Value == "true")
                                        {
                                            <span class="fa-stack red closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Activity1.PatientVariableId' data-patientvariablevalueGuid='@Activity1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red hidden closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Activity1.PatientVariableId' data-patientvariablevalueGuid='@Activity1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                        else
                                        {
                                            <span class="fa-stack red hidden closeCheckbox pull-left" style="transform:translate(-20%,-10%);padding:0;margin:0" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Activity1.PatientVariableId' data-patientvariablevalueGuid='@Activity1.PatientVariableValueGuid'>
                                                <i class="fa fa-square-o  fa-stack-1x red" style="font-size:2rem;padding:0;margin:0"></i>
                                                <i class="fa fa-close fa-stack-1x red" style="font-size:1.5rem;padding:0;margin:0"></i>
                                            </span>
                                            <span class="fa fa-square-o red closeCheckbox pull-left" style="font-size:2rem" onclick="closeCheckboxVariableChange(this)"
                                                  data-property='@Activity1.PatientVariableId' data-patientvariablevalueGuid='@Activity1.PatientVariableValueGuid'>

                                            </span>
                                        }
                                    }
                                </div>
                            </div>

                            <div class="col-xs-8">
                                <label style="font-size:1.5rem;transform:translateY(30%)">@Activity.PatientVariable.Abbreviation:</label>
                            </div>
                        </div>

                        @*foreach (var value in Model.AllClinicSectionChoosenValues.OrderBy(x => x.PatientVariable.Abbreviation))
                                        {
                                            if (value.PatientVariable.Abbreviation == "Stool" || value.PatientVariable.Abbreviation == "Urine" || value.PatientVariable.Abbreviation == "Sleep"
                                                || value.PatientVariable.Abbreviation == "Activity" || value.PatientVariable.Abbreviation == "Appetide" || value.PatientVariable.Abbreviation == "Fever"
                                                || value.PatientVariable.Abbreviation == "Vomitting")
                                            {
                                    <div class="col-md-6" style="padding:0;margin:0.5rem 0">



                                        @{
                                            if (value.PatientVariableVariableType == "Text")
                                            {
                                                <label style="font-size:1.5rem">@value.PatientVariable.Abbreviation:</label>
                                                @(Html.Kendo().TextBox()
                                                    .Name(value.VariableNameForView)
                                                    .Events(e =>
                                                    {
                                    e.Change("VisitVariableChange");
                                })
                                                    .Value(value.Value)
                                                    .HtmlAttributes(new { style = "font-size:1.5rem;width:50%", @data_property = value.PatientVariableId, @data_patientvariablevalueGuid = value.PatientVariableValueGuid })
                                                )
                                            }

                                            else if (value.PatientVariableVariableType == "Bool")
                                            {
                                                if (value.Value == "true")
                                                {
                                                    @(Html.Kendo().CheckBox()
                                                    .Name(value.VariableNameForView)
                                                    .Label(value.PatientVariable.Abbreviation)
                                                    .Checked(true)
                                                    .HtmlAttributes(new
                                                            {
                                                                @class = "kendoCheckbox",
                                                                style = "font-size:5rem",
                                                                onchange = "VisitCheckboxVariableChange(this)",
                                                                @data_property = value.PatientVariableId,
                                                                @data_patientvariablevalueGuid = value.PatientVariableValueGuid
                                                            }))
                                                }
                                                else
                                                {
                                                    @(Html.Kendo().CheckBox()
                                                    .Name(value.VariableNameForView)
                                                    .Label(value.PatientVariable.Abbreviation)
                                                    .HtmlAttributes(new
                                                            {
                                                                @class = "kendoCheckbox",
                                                                style = "font-size:5rem",
                                                                onchange = "VisitCheckboxVariableChange(this)",
                                                                @data_property = value.PatientVariableId,
                                                                @data_patientvariablevalueGuid = value.PatientVariableValueGuid
                                                            }))
                                                }

                                            }


                                        }



                                    </div>
                                }

                            }*@
                    }

                }




            </div>

            <div class="col-sm-12 shadow-border" style="margin:0.5rem 0">

                <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                    <h3>Drug Hx</h3>
                </div>


                @{

                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        foreach (var value in Model.AllClinicSectionChoosenValues.OrderBy(x => x.PatientVariable.Abbreviation))
                        {
                            if (value.PatientVariable.Abbreviation == "Drug Hx")
                            {
                                <div class="col-md-12" style="padding:0;margin:0.5rem 0">

                                    @{
                                        if (value.PatientVariableVariableType == "Text")
                                        {


                                            @(Html.Kendo().TextArea()
                                                .Name(value.VariableNameForView)
                                                .Events(e =>
                                                {
                                                    e.Change("VisitVariableChange");
                                                })
                                                .Rows(5)
                                                .Value(value.Value)
                                                .HtmlAttributes(new { style = "font-size:1.5rem;width:100%", @data_property = value.PatientVariableId, @data_patientvariablevalueGuid = value.PatientVariableValueGuid })
                                            )


                                        }

                                    }



                                </div>
                            }

                        }
                    }

                }




            </div>


            <div class="col-sm-12 shadow-border" style="margin:0.5rem 0">

                <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                    <h3>Invest</h3>
                </div>


                @{

                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        foreach (var value in Model.AllClinicSectionChoosenValues.OrderBy(x => x.PatientVariable.Abbreviation))
                        {
                            if (value.PatientVariable.Abbreviation == "CBC" || value.PatientVariable.Abbreviation == "CRP" || value.PatientVariable.Abbreviation == "Iron"
                                || value.PatientVariable.Abbreviation == "D3" || value.PatientVariable.Abbreviation == "ESR" || value.PatientVariable.Abbreviation == "RBS"
                                || value.PatientVariable.Abbreviation == "GUE" || value.PatientVariable.Abbreviation == "GSE" || value.PatientVariable.Abbreviation == "H.pylori"
                                || value.PatientVariable.Abbreviation == "Occult Blood" || value.PatientVariable.Abbreviation == "D.c" || value.PatientVariable.Abbreviation == "TSH")
                            {
                                <div class="col-md-6" style="padding:0;margin:0.5rem 0;display:flex;margin:0.5rem 0">



                                    @{
                                        if (value.PatientVariableVariableType == "Text")
                                        {
                                            <label style="font-size:1.5rem">@value.PatientVariable.Abbreviation:</label>
                                            @(Html.Kendo().TextBox()
                                                .Name(value.VariableNameForView)
                                                .Events(e =>
                                                {
                                                    e.Change("VisitVariableChange");
                                                })
                                                .Value(value.Value)
                                                .HtmlAttributes(new { style = "font-size:1.5rem;width:50%", @data_property = value.PatientVariableId, @data_patientvariablevalueGuid = value.PatientVariableValueGuid })
                                            )
                                        }

                                        else if (value.PatientVariableVariableType == "Bool")
                                        {
                                            if (value.Value == "true")
                                            {
                                                @(Html.Kendo().CheckBox()
                                                .Name(value.VariableNameForView)
                                                .Label(value.PatientVariable.Abbreviation)
                                                .Checked(true)
                                                .HtmlAttributes(new
                                                        {
                                                            @class = "kendoCheckbox testCheckboxes",
                                                            style = "font-size:5rem",
                                                            onchange = "VisitCheckboxVariableChange(this)",
                                                            @data_property = value.PatientVariableId,
                                                            @data_patientvariablevalueGuid = value.PatientVariableValueGuid
                                                        }))
                                            }
                                            else
                                            {
                                                @(Html.Kendo().CheckBox()
                                                .Name(value.VariableNameForView)
                                                .Label(value.PatientVariable.Abbreviation)
                                                .HtmlAttributes(new
                                                        {
                                                            @class = "kendoCheckbox testCheckboxes",
                                                            style = "font-size:5rem",
                                                            onchange = "VisitCheckboxVariableChange(this)",
                                                            @data_property = value.PatientVariableId,
                                                            @data_patientvariablevalueGuid = value.PatientVariableValueGuid
                                                        }))
                                            }

                                        }


                                    }



                                </div>
                            }

                        }
                    }

                }




            </div>



            <div class="col-sm-12 shadow-border" style="margin:0.5rem 0">

                <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                    <h3>Test Description</h3>
                </div>


                @{

                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        var TestDesc = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "TestReportNote");


                        <div class="col-md-12" style="padding:0;margin:0.5rem 0">

                            @{



                                @(Html.Kendo().TextArea()
                                    .Name(TestDesc.VariableNameForView)
                                    .Events(e =>
                                    {
                                        e.Change("VisitVariableChange");
                                    })
                                    .Rows(5)
                                    .Value(TestDesc.Value)
                                    .HtmlAttributes(new {@id = "TestDescription", style = "font-size:1.5rem;width:100%", @data_property = TestDesc.PatientVariableId, @data_patientvariablevalueGuid = TestDesc.PatientVariableValueGuid })
                                )




                            }



                        </div>



                    }

                }




            </div>



            <div class="col-sm-12" style="margin:0.5rem 0">




                <a href="\\#" class="k-link k-button k-button-icon" onclick="TestReport()" style="padding:0.2rem 0.1rem;width:12rem"><span class="fa fa-plus" style="margin:0.1rem"></span>Test Report</a>



            </div>

        </div>



        <div class="col-sm-9" style="margin:1rem 0">





            <div class="col-sm-12 shadow-border">


                <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:1rem;padding-bottom:0.5rem">
                    <h3>Chief Complain</h3>
                </div>

                <div class="col-sm-12" style="font-size:1.5rem">

                    <div class="col-xs-4">

                        <a href="\\#" class="k-link k-button k-button-icon pull-left" onclick="AddDisease()" style="padding:0.2rem 0.1rem;width:10rem"><span class="fa fa-plus" style="margin:0.1rem"></span>Add Disease</a>

                    </div>

                    <div class="col-xs-8">



                        <select id="optional" multiple="multiple" data-placeholder="Select disease..." onkeypress="addDiseaseOnKeyPress(this,event)">
                            @{
                                bool exist = false;
                                foreach (DiseaseViewModel de in ViewBag.AllDiseaseList)
                                {
                                    exist = false;
                                    foreach (Visit_Patient_DiseaseViewModel vi in ViewBag.AllDiseaseForVisitList)
                                    {
                                        if (vi.DiseaseId == de.Guid)
                                        {
                                            <option value=@de.Guid selected>@de.Name</option>
                                            exist = true;
                                            break;
                                        }

                                    }

                                    if (!exist)
                                    {
                                        <option value=@de.Guid>@de.Name</option>
                                    }



                                }





                            }
                        </select>

                    </div>




                </div>


            </div>



            <div class="col-sm-12 col-lg-6 shadow-border" style="margin:0.5rem 0">


                <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                    <h3>OE</h3>
                </div>


                <div class="col-sm-12">

                    @{

                        if (Model != null && Model.AllClinicSectionChoosenValues != null)
                        {



                            var OE = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "OE");
                            <div class="col-md-12" style="padding:0;margin:0.5rem 0">

                                @{
                                    if (OE != null)
                                    {
                                        @(Html.Kendo().TextArea()
                                        .Name(OE.VariableNameForView)
                                        .Events(e =>
                                        {
                                            e.Change("VisitVariableChange");
                                        })
                                        .Rows(5)
                                        .Value(OE.Value)
                                        .HtmlAttributes(new { style = "font-size:1.5rem;width:100%", @data_property = OE.PatientVariableId, @data_patientvariablevalueGuid = OE.PatientVariableValueGuid })
                                        )
                                    }






                                }



                            </div>



                        }

                    }




                </div>



            </div>


            <div class="col-sm-12 col-lg-6 shadow-border" style="margin:0.5rem 0">

                <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                    <h3>Note</h3>
                </div>


                <div class="col-sm-12">

                    @{

                        if (Model != null && Model.AllClinicSectionChoosenValues != null)
                        {


                            var Note = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Note");

                            <div class="col-md-12" style="padding:0;margin:0.5rem 0">

                                @{


                                    if (Note != null)
                                    {
                                        @(Html.Kendo().TextArea()
                                        .Name(Note.VariableNameForView)
                                        .Events(e =>
                                        {
                                            e.Change("VisitVariableChange");
                                        })
                                        .Rows(5)
                                        .Value(Note.Value)
                                        .HtmlAttributes(new { style = "font-size:1.5rem;width:100%", @data_property = Note.PatientVariableId, @data_patientvariablevalueGuid = Note.PatientVariableValueGuid })
                                        )
                                    }





                                }



                            </div>



                        }

                    }




                </div>


            </div>




            <div class="col-sm-12 shadow-border" style="text-align:left">

                <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                    <h3 style="display:inline-block;margin:0.9rem 0 0 0">Rx</h3>
                </div>

                @{
                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        
                        string remove_title = Localizer["RemovePrescription"];
                        
                        if (Model.StatusName == "Visiting" || Model.StatusName == "Visited")
                        {

                            <div class="col-sm-12 " style="padding:0;direction:ltr">


                                @(Html.Kendo().Grid<WPH.Models.CustomDataModels.PrescrptionDetail.PrescriptionDetailViewModel>()
                                    .Name("PrescriptionDetailGrid")
                                    .Columns(columns =>
                                    {
                                        columns.Bound(x => x.Index).HtmlAttributes(new { @style = "text-align:center;" }).HeaderHtmlAttributes(new { @style = "text-align:center;background-color: rgb(156,213,25);" }).Title("").Width(20);
                                        columns.Bound(x => x.MedicineJoineryName).Title("MedicineName").HtmlAttributes(new { @style = "text-align:center;" }).ClientTemplate("#=MedicineJoineryName#")
                                        .HeaderHtmlAttributes(new { @style = "text-align:center;background-color: rgb(156,213,25);" }).EditorTemplateName("MedicineAutoComplete").Width(350);
                                        columns.Bound(x => x.Num).Title("Number").Width(50).HtmlAttributes(new { @style = "text-align:center;", onkeypress = "NumKeypress(event);" }).HeaderHtmlAttributes(new { @style = "text-align:center;background-color: rgb(156,213,25);" });
                                        columns.Bound(x => x.ConsumptionInstruction).Width(150).Title("ConsumptionInstruction").HtmlAttributes(new { @style = "text-align:center;", onkeypress = "NumKeypress(event);" }).HeaderHtmlAttributes(new { @style = "text-align:center;background-color: rgb(156,213,25);" });
                                        columns.Bound(x => x.Explanation).Width(300).Title("Explanation").HtmlAttributes(new { @style = "text-align:center;", onkeypress = "explainKeypress(event);" }).HeaderHtmlAttributes(new { @style = "text-align:center;background-color: rgb(156,213,25);" });
                                        columns.Bound("").Title(string.Empty).Width(30)
                                        .ClientTemplate(
                                            $@"<a class='tooltip-error grid-btn' onClick='DeletePrescriptionDetail(this);' data-id='#=Guid#' data-rel='tooltip' title='{remove_title}' data-original-title='Delete'>
                                                <span class='red'>
                                                    <i class='ace-icon fa fa-trash-can bigger-120'></i>
                                                </span>
                                            </a>
                                        ");
                                        columns.Bound(x => x.Guid).Hidden();
                                        columns.Bound(x => x.MedicineId).Hidden();
                                        columns.Bound(x => x.VisitId).Hidden();

                                    })
                  //                  .ToolBar(toolbar =>
                  //                  {

                  //                      toolbar.ClientTemplate(
                  //                                  <div class="pull-left">
                  //                                      <a href="\\#" class="k-link k-button k-button-icon" onclick="PrescriptionDetailGridAddRow()" style="padding:0.2rem 0.1rem;width:10rem"><span class="fa fa-plus" style="margin:0.1rem"></span>Add Record</a>
                  //                                  </div>

                  //                                  <div class="pull-left">
                  //                                      <a href="\\#" class="k-link k-button k-button-icon" onclick="PrescriptionDetailGridSave()" style="padding:0.2rem 0.1rem;width:12rem"><span class="fa fa-check" style="margin:0.1rem"></span>Save Changes</a>
                  //                                  </div>

                  //                                  <div class="pull-left">

                  //                                      <a href="\\#" class="k-link k-button k-button-icon" onclick="PrescriptionDetailGridCancelChange()" style="padding:0.2rem 0.1rem;width:12rem"><span class="fa fa-remove" style="margin:0.1rem"></span>Cancel Changes</a>
                  //                                  </div>

                  //                                  <div class="pull-left">
                  //                                      <a href="\\#" class="k-link k-button k-button-icon" onclick="AddMedicineInVisit()" style="padding:0.2rem 0.1rem;width:12rem"><span class="fa fa-plus" style="margin:0.1rem"></span>Add Medicine</a>
                  //                                  </div>
                  //                                  <div class="pull-left">
                  //                                      <a href="\\#" onclick="MedicineReport()" class="k-link k-button k-button-icon" style="padding:0.2rem 0.1rem;width:12rem"><span class="fa fa-print" style="margin:0.1rem"></span>Report</a>

                  //                                  </div>
                  //                                  <div class="pull-left">
                  //                                      <a  href="\\#"  onclick="MedicinePrint()"   class="k-link k-button k-button-icon" style="padding:0.2rem 0.1rem;width:10rem"><span class="fa fa-print" style="margin:0.1rem"></span>Print</a>
                  //                                  </div>

                  //                                  <div class="pull-left">
                  //                                      <a href="\\#" class="k-link k-button k-button-icon" onclick="SendToPharmacy()" style="padding:0.2rem 0.1rem;width:14rem"><span class="fa fa-plus" style="margin:0.1rem"></span>Send To Pharmacy</a>
                  //                                  </div>

                  //                      );


                  //})
                  .Editable(editable => editable.Mode(GridEditMode.InCell))
                  .DataSource(dataSource => dataSource
                  .Ajax()
                  .Batch(true)
                  .Model(model =>
                  {
                      model.Id(p => p.Guid);
                      model.Field(p => p.Index).Editable(false);

                  })
                  .PageSize(5)
                  .Read(read => read.Action("GetAllVisitPrescriptionDetail", "Visit", new { Id = Model.Guid }))
                  .Create("PrescriptionDetail_Create", "Visit")
                  .Update("PrescriptionDetail_Update", "Visit")
                  .Destroy("PrescriptionDetail_Destroy", "Visit")
                  )
                          //.Filterable(ftb => ftb.Mode(GridFilterMode.Row))
                          .Pageable(pageable => pageable
                          .Input(true)
                          .Refresh(true)
                          .PageSizes(true)
                          .ButtonCount(5)
                          .Numeric(true)) // Enable paging
                          .Sortable()
                          .HtmlAttributes(new { @style = "direction: ltr;margin-top:2rem;font-size:1.5rem" })
                                )

                            </div>

                        }

                    }
                }

            </div>


        </div>

    </div>




    <div class="col-sm-12 shadow-border">

        <div class="col-sm-4">

            <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                <h3 style="display:inline-block;margin:0.9rem 0 0 0">Reassessment</h3>
            </div>


            <div class="col-sm-12">

                @{

                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        var reassessmentDate = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Reassessment Date");

                        var reassessmentNote = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Reassessment Note");

                        if (reassessmentDate != null)
                        {
                            <div class="col-md-12" style="padding:0;margin:0.5rem 0;text-align:left">
                                <label style="font-size:1.5rem">@reassessmentDate.PatientVariable.Abbreviation:</label>

                                @{
                                    if (reassessmentDate.Value == null)
                                    {
                                        reassessmentDate.Value = DateTime.Now.ToString();

                                    }

                                    @(Html.Kendo().DatePicker()
                                                            .Name("newDate")
                                                            .Value(DateTime.Parse(reassessmentDate.Value))
                                                            .Format("dd/MM/yyyy")
                                                            .Events(e =>
                                                            {
                                                                e.Change("VisitVariableChange");
                                                            })
                                                            .HtmlAttributes(new
                                                            {
                                                                style = "width: 100%;font-size:1.5rem",
                                                                @data_property = reassessmentDate.PatientVariableId,
                                                                @data_patientvariablevalueGuid = reassessmentDate.PatientVariableValueGuid
                                                            ,
                                                                @data_reassesst = "reassesstDate"
                                                            })
                                    )

                                }










                            </div>
                        }

                        if (reassessmentDate != null)
                        {

                            <div class="col-md-12" style="padding:0;margin:0.5rem 0;text-align:left">
                                <label style="font-size:1.5rem">@reassessmentNote.PatientVariable.Abbreviation:</label>
                                @{

                                    if (reassessmentNote != null)
                                    {
                                        @(Html.Kendo().TextArea()
                                       .Name(reassessmentNote.VariableNameForView)
                                       .Events(e =>
                                       {
                                           e.Change("VisitVariableChange");
                                       })
                                       .Rows(3)
                                       .Value(reassessmentNote.Value)
                                       .HtmlAttributes(new { style = "font-size:1.5rem;width:100%", @data_property = reassessmentNote.PatientVariableId, @data_patientvariablevalueGuid = reassessmentNote.PatientVariableValueGuid })
                                        )
                                    }






                                }



                            </div>
                        }



                    }

                }




            </div>




        </div>






        <div class="col-sm-8">

            <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                <h3 style="display:inline-block;margin:0.9rem 0 0 0">Test Result</h3>
            </div>

            <div class="col-sm-12">

                @{

                    if (Model != null && Model.AllClinicSectionChoosenValues != null)
                    {
                        var testResult = Model.AllClinicSectionChoosenValues.SingleOrDefault(x => x.PatientVariable.Abbreviation == "Test Result");
                        if (testResult != null)
                        {
                            <div class="col-md-12" style="padding:0;margin:0.5rem 0">

                                @{



                                    @(Html.Kendo().TextArea()
                                        .Name(testResult.VariableNameForView)
                                        .Events(e =>
                                        {
                                            e.Change("VisitVariableChange");
                                        })
                                        .Rows(3)
                                        .Value(testResult.Value)
                                        .HtmlAttributes(new { style = "font-size:1.5rem;width:100%", @data_property = testResult.PatientVariableId, @data_patientvariablevalueGuid = testResult.PatientVariableValueGuid })
                                    )




                                }



                            </div>
                        }



                    }

                }




            </div>

            <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                <h3 style="display:inline-block;margin:0.9rem 0 0 0">Test Images</h3>
            </div>




            <div class="col-sm-12" id="VisitImageView" style="margin:2rem 0;padding-right:4rem">



            </div>





            <div class="col-sm-12" style="text-align:left;border-bottom:dotted 1px #d4d4d4;margin-bottom:0.5rem;padding-bottom:0.5rem">
                <h3 style="display:inline-block;margin:0.9rem 0 0 0">Patient Files</h3>
            </div>

            @{
                if (Model != null)
                {
                    <div class="demo-section k-content col-xs-12" style="margin-top:2rem">
                        @(Html.Kendo().Upload()
                            .Name("files")
                            .Multiple(true)

                            .Async(a => a
                                .Save("Async_Save", "Patient", new { patientId = Model.ReserveDetail.PatientId, visitId = Model.Guid })
                                .Remove("Async_Remove", "Patient")

                                .AutoUpload(true)
                            )
                            .ShowFileList(false)

                            .Events(events => events
                                    .Error("onPatientImageError")
                                    .Complete("onVisitImageComplete")

                                )
                        )
                    </div>
                }
            }


            <div class="col-sm-12" id="PatientImageView" style="margin:2rem 0;padding-right:4rem">



            </div>




        </div>

    </div>






    @*//////////////////////////////////////////////////////////////////////////////////////////  Patient History/////////////////*@





</div>

<div id="PatientRecordModal" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" onclick="patientHide()" aria-hidden="true">&times;</button>
                <h3 id="modalform-header" class="smaller lighter blue no-margin"></h3>
                <h4 class="modal-title" id="myModalLabel">@ViewBag.DiseaseRecord</h4>
            </div>

            <div id="PatientRecordModal-body" class="modal-body">

            </div>

            <div class="modal-footer">

                @(Html.Kendo().Button()
                    .Name("btn-acceptPatientDisease")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "k-primary pull-right", onclick = "patientHideAndRedresh()" })
                    .Content(@ViewBag.Ok))

                <button id="exit" class=" pull-right" style="font-size:15px;height:35px;margin:2px;" onclick="patientHide()">

                    @ViewBag.Exit
                </button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div id="my-modalTest-new" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" onclick="closeModalTestInVisit()" aria-hidden="true">&times;</button>
                <h3 id="new-modalTest-header" class="smaller lighter blue no-margin">@ViewBag.NewTest</h3>
            </div>

            <div id="new-modalTest-body" class="modal-body">

            </div>

            <div class="modal-footer">
                @(Html.Kendo().Button()
                    .Name("btn-test-accept")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "k-primary pull-right" })
                    .Content(@ViewBag.Ok))
                @(Html.Kendo().Button()
                    .Name("btn-test-accept-close")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "pull-right", onclick="closeModalTestInVisit()" })
                    .Content(@ViewBag.Exit))

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div id="MedicineDisease-Modal" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" onclick="closeMedicineDiseaseModalInVisit()" aria-hidden="true">&times;</button>
                <h3 id="new-modalTest-header" class="smaller lighter blue no-margin">Medicines For This Disease</h3>
            </div>

            <div id="MedicineDisease-Modal-body" class="modal-body">

            </div>

            <div class="modal-footer">
                @(Html.Kendo().Button()
                    .Name("btn-MedicineDisease-accept")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "k-primary pull-right", @data_diseaseId = "" })
                    .Content(@ViewBag.Ok))
                @(Html.Kendo().Button()
                    .Name("btn-MedicineDisease-close")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "pull-right", onclick="closeMedicineDiseaseModalInVisit()" })
                    .Content(@ViewBag.Exit))

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="VisitList-Modal" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" onclick="closeVisitListModalInVisit()" aria-hidden="true">&times;</button>
                <h3 id="VisitList-header" class="smaller lighter blue no-margin">Today Visits</h3>
            </div>

            <div id="VisitList-Modal-body" class="modal-body">

            </div>

            <div class="modal-footer">
                @*@(Html.Kendo().Button()
                        .Name("btn-VisitList-accept")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "k-primary pull-right", @data_diseaseId = "" })
                        .Content(@ViewBag.Ok))
                    @(Html.Kendo().Button()
                        .Name("btn-VisitList-close")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "pull-right", @data_dismiss = "modal" })
                        .Content(@ViewBag.Exit))*@

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>




<div id="AddDiseaseModal" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" onclick="closeDiseaseModalInVisit()" aria-hidden="true">&times;</button>
                <h3 id="modalform-header" class="smaller lighter blue no-margin"></h3>
                <h4 class="modal-title" id="myModalLabel">Add Disease</h4>
            </div>

            <div id="AddDiseaseModal-body" class="modal-body">

            </div>

            <div class="modal-footer">

                @(Html.Kendo().Button()
                .Name("btn-addDisease-accept")
                .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "k-primary pull-right", onclick = "addNewDisease()" })
                .Content(@ViewBag.Ok))
                @(Html.Kendo().Button()
                    .Name("btn-addDisease-close")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "pull-right", onclick="closeDiseaseModalInVisit()" })
                    .Content(@ViewBag.Exit))


            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>




<div id="AddMedicineInVisitModal" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" onclick="addNewMedicineInVisitHide()" aria-hidden="true">&times;</button>
                <h3 id="modalform-header" class="smaller lighter blue no-margin"></h3>
                <h4 class="modal-title" id="myModalLabel">Add Medicine</h4>
            </div>

            <div id="AddMedicineInVisitModal-body" class="modal-body">

            </div>

            <div class="modal-footer">

                @(Html.Kendo().Button()
                .Name("btn-addMedicineInVisit-accept")
                .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "k-primary pull-right", onclick = "addNewMedicineInVisit()" })
                .Content(@ViewBag.Ok))
                @(Html.Kendo().Button()
                    .Name("btn-addMedicineInVisit-close")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "pull-right", onclick = "addNewMedicineInVisitHide()" })
                    .Content(@ViewBag.Exit))


            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="ChartModal" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="ChartModal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel"></h4>
            </div>

            <div id="ChartModal-body" class="modal-body" data-id="" style="width:80vw">

            </div>

            <div class="modal-footer">

                @*@(Html.Kendo().Button()
                    .Name("btn-addDisease-accept")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "k-primary pull-right", onclick = "addNewDisease()" })
                    .Content(@ViewBag.Ok))*@

                @(Html.Kendo().Button()
                        .Name("btn-chart-close")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "pull-right", @data_dismiss = "modal" })
                        .Content(@ViewBag.Exit))


            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="ReportTestModal" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="ChartModal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel"></h4>
            </div>

            <div id="ReportTestModal-body" class="modal-body" data-id="" style="width:80vw">

            </div>

            <div class="modal-footer">

                @*@(Html.Kendo().Button()
                    .Name("btn-addDisease-accept")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "k-primary pull-right", onclick = "addNewDisease()" })
                    .Content(@ViewBag.Ok))*@

                @(Html.Kendo().Button()
                    .Name("btn-ReportTestModal-close")
                    .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "pull-right", @data_dismiss = "modal" })
                    .Content(@ViewBag.Exit))


            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>




<div>


    @(Html.Kendo().Window()
        .Name("window")
        //.Title("Image Preview")
        .Visible(false)
        .Resizable()
        .Content(@<text>
                    <img id="imagePreview" src="#" alt="Image Preview" height="700" />
        </text>)
.Draggable()
.Actions(actions => actions.Pin().Minimize().Maximize().Close())
    )

</div>

@*<canvas id="reportImage" class="hidden"></canvas>*@
<input class="hidden" type="text" id="Test" data-Value="@ViewBag.TestId" />
<input class="hidden" type="text" id="Job" data-Value="@ViewBag.JobId" />

@await Html.PartialAsync("~/Views/Shared/PartialViews/InterfacePartials/_GridAndModalLinks.cshtml")
@await Html.PartialAsync("~/Views/Shared/PartialViews/InterfacePartials/_Modal.cshtml")
@*@Scripts.Render("~/bundles/Bootbox")
    @Scripts.Render("~/bundles/Duallistbox")
    @Scripts.Render("~/bundles/ChildrenSpeciallityVisit")*@


<script id="noDataTemplate" type="text/x-kendo-tmpl">
    # var value = instance.input.val(); #
    # var id = instance.element[0].id; #
    <div>
        No data found. Do you want to add new item - '#: value #' ?
    </div>
    <br />
    <button class="k-button" onclick="AddNewItemToDisease('#: id #', '#: value #')" >Add new item</button>
</script>



