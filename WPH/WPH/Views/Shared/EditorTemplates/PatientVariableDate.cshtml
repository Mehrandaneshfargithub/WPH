
@model string
@using WPH.Models.CustomDataModels.Medicine

    

        @(Html.Kendo().DatePicker()
                    .Name("VariableDate")
                    .Format("dd/MM/yyyy")
                    .HtmlAttributes(new { style = "width: 100%", onkeypress = "patientVariableDateTimeKeypress(event);", onclick="patientVariableDateTimeclick();" })
        )


   


<script>

    function patientVariableDateTimeKeypress(e) {

        //let curCell = $("#PrescriptionDetailGrid").find(".k-edit-cell");
    
        if (e.which === 13 || e.which === 9) {
            
            setTimeout(function () {

                
                
                var curCell = $("#kendoPatientVariableGrid").find(".k-state-selected");
                var eCell = $("#kendoPatientVariableGrid").find(".k-edit-cell");
                
                var nextCellText = $(eCell).next().text();



                curCell.removeClass("k-state-selected");
                curCell.removeClass("k-state-focused");
                curCell.removeAttr("data-role");
                curCell.prev().addClass("k-state-selected");
                curCell.prev().addClass("k-state-focused");
                try {

                    $('#kendoPatientVariableGrid').data('kendoGrid').closeCell(eCell);

                } catch (ex) {

                }

                $('#kendoPatientVariableGrid').data('kendoGrid').select();

                $('#kendoPatientVariableGrid').data('kendoGrid').editCell(eCell.prev());

                setTimeout(function () {

                    let eCell = $("#kendoPatientVariableGrid").find(".k-edit-cell");
                    

                    
                    if ($(eCell).find('input').val() === "0") {
                        $(eCell).find('input').val('');
                    }

                }, 50);
                                

            }, 50);




            //grid.closeCell(curCell);
                //grid.editCell(curCell.next());
        }

        
    }

    function patientVariableDateTimeclick() {

        if ($("#VariableDate").val() !== null) {

            updateMode = true;
        }
        else {
            updateMode = false;
        }
        
    }

</script>