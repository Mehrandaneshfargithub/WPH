#pragma checksum "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e41d6db25018aea9e246189f185079ab0e9972d0"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(WPH.Pages.Shared.PartialViews.AppWebForms.Pay.Views_Shared_PartialViews_AppWebForms_Pay_mdPayInvoiceNewModal), @"mvc.1.0.view", @"/Views/Shared/PartialViews/AppWebForms/Pay/mdPayInvoiceNewModal.cshtml")]
namespace WPH.Pages.Shared.PartialViews.AppWebForms.Pay
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using WPH;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
using System.Globalization;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"e41d6db25018aea9e246189f185079ab0e9972d0", @"/Views/Shared/PartialViews/AppWebForms/Pay/mdPayInvoiceNewModal.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5221a2d8e2059d2e61789d73e7efe285a53b8943", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Shared_PartialViews_AppWebForms_Pay_mdPayInvoiceNewModal : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<WPH.Models.Pay.PayViewModel>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 7 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
  
    string font = "", pull = "", row_reverse = "", dir = "";

    if (HttpContextAccessor.HttpContext.Session.GetString("culture") == "en")
    {
        font = " MyFont-Roboto-grid ";
        pull = " pull-left ";
        row_reverse = "row";
        dir = " ";

    }
    else
    {
        font = " MyFont-Sarchia-grid ";
        pull = " pull-right ";
        row_reverse = "row-reverse";
        dir = " direction:rtl; ";

#line default
#line hidden
#nullable disable
            WriteLiteral("        <h3 id=\"newPayText\" class=\"hidden\">");
#nullable restore
#line 24 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                                      Write(Localizer["Pay"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 24 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                                                        Write(Localizer["New"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h3>\r\n");
#nullable restore
#line 25 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
    }


#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<script>\r\n\r\n    $(\'#AddPayInvoiceModal-supplier\').text(\'");
#nullable restore
#line 31 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                                       Write(Model.SupplierName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\');\r\n\r\n    function GetSupplierAndCurrency() {\r\n\r\n        return {\r\n            supplierId: $(\"#SupplierIdFilter\").val()\r\n        };\r\n    }\r\n\r\n</script>\r\n\r\n");
#nullable restore
#line 42 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
Write(Html.AntiForgeryToken());

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 43 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
Write(Html.HiddenFor(m => m.Guid));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 44 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
Write(Html.HiddenFor(m => m.SupplierId));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 45 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
Write(Html.HiddenFor(m => m.PayType));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n\r\n");
#nullable restore
#line 48 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
 if (Model?.PayAmounts != null)
{
    CultureInfo cultures = new CultureInfo("en-US");
    foreach (var item in Model.PayAmounts)
    {

        int? cur = item.BaseCurrencyId;
        string _amount = $"UAmount_{cur}";
        string _baseCurrencyName = $"UBaseCurrencyName_{cur}";
        string _baseAmount = $"UBaseAmount_{cur}";
        string _destAmount = $"UDestAmount_{cur}";
        string _discount = $"UDiscount_{cur}";
        string _currencyId = $"UCurrencyId_{cur}";
        string _currencyName = $"UCurrencyName_{cur}";

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div>\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 1709, "\"", 1722, 1);
#nullable restore
#line 63 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 1714, _amount, 1714, 8, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 1723, "\"", 1783, 1);
#nullable restore
#line 63 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 1731, $"{item.Amount.Value.ToString("#.##", cultures)}", 1731, 52, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 1821, "\"", 1844, 1);
#nullable restore
#line 64 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 1826, _baseCurrencyName, 1826, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 1845, "\"", 1875, 1);
#nullable restore
#line 64 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 1853, item.BaseCurrencyName, 1853, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 1913, "\"", 1930, 1);
#nullable restore
#line 65 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 1918, _baseAmount, 1918, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 1931, "\"", 1995, 1);
#nullable restore
#line 65 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 1939, $"{item.BaseAmount.Value.ToString("#.##", cultures)}", 1939, 56, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 2033, "\"", 2050, 1);
#nullable restore
#line 66 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 2038, _destAmount, 2038, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 2051, "\"", 2115, 1);
#nullable restore
#line 66 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 2059, $"{item.DestAmount.Value.ToString("#.##", cultures)}", 2059, 56, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 2153, "\"", 2168, 1);
#nullable restore
#line 67 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 2158, _discount, 2158, 10, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 2169, "\"", 2231, 1);
#nullable restore
#line 67 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 2177, $"{item.Discount.Value.ToString("#.##", cultures)}", 2177, 54, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 2269, "\"", 2286, 1);
#nullable restore
#line 68 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 2274, _currencyId, 2274, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 2287, "\"", 2311, 1);
#nullable restore
#line 68 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 2295, item.CurrencyId, 2295, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n            <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 2349, "\"", 2368, 1);
#nullable restore
#line 69 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 2354, _currencyName, 2354, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 2369, "\"", 2395, 1);
#nullable restore
#line 69 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 2377, item.CurrencyName, 2377, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n        </div>\r\n");
#nullable restore
#line 71 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
    }
}

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

<div style=""clear:both;overflow:hidden;"">

    <div style=""width:100%;direction:ltr;"">

        <div style=""width:98%;margin: 0px auto;"">
            <div style=""width:100%;display:flex;margin:10px 0px;"">
                <div style=""width:46%;"">
                    <h1");
            BeginWriteAttribute("class", " class=\"", 2707, "\"", 2731, 3);
#nullable restore
#line 82 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 2715, font, 2715, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 2720, "blue", 2721, 5, true);
#nullable restore
#line 82 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 2725, pull, 2726, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 83 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                   Write(Localizer["PayPurchaseInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n                <div style=\"width: 8%;\">\r\n\r\n                </div>\r\n                <div style=\"width: 46%;\">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 3016, "\"", 3040, 3);
#nullable restore
#line 90 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 3024, font, 3024, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 3029, "blue", 3030, 5, true);
#nullable restore
#line 90 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 3034, pull, 3035, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 91 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                   Write(Localizer["NotPayPurchaseInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n            <div style=\"width:100%;display:flex;\">\r\n\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 3288, "\"", 3315, 2);
            WriteAttributeValue(" ", 3296, "Grid-Content", 3297, 13, true);
#nullable restore
#line 97 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 3309, font, 3310, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width:46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 98 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Pay/dgPayInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div style=\"width: 8%;height:200px;display:flex;flex-direction:column;align-items:center;justify-content: center;\">\r\n                    ");
#nullable restore
#line 101 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_select_pay")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-success" })
                        .Content(Localizer["<"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 105 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_notSelect_pay")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-danger " })
                        .Content(Localizer[">"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 4286, "\"", 4313, 2);
            WriteAttributeValue(" ", 4294, "Grid-Content", 4295, 13, true);
#nullable restore
#line 110 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 4307, font, 4308, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width: 46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n\r\n                    ");
#nullable restore
#line 112 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Pay/dgTotalInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div style=\"width:98%;margin: 0px auto;\">\r\n            <div style=\"width:100%;display:flex;margin:10px 0px;\">\r\n                <div style=\"width:46%;\">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 4755, "\"", 4779, 3);
#nullable restore
#line 121 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 4763, font, 4763, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 4768, "blue", 4769, 5, true);
#nullable restore
#line 121 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 4773, pull, 4774, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 122 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                   Write(Localizer["PayReturnPurchaseInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n                <div style=\"width: 8%;\">\r\n\r\n                </div>\r\n                <div style=\"width: 46%;\">\r\n                    <h1");
            BeginWriteAttribute("class", " class=\"", 5070, "\"", 5094, 3);
#nullable restore
#line 129 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue("", 5078, font, 5078, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 5083, "blue", 5084, 5, true);
#nullable restore
#line 129 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 5088, pull, 5089, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:1.4rem;margin: 0px;\">\r\n                        ");
#nullable restore
#line 130 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                   Write(Localizer["NotPayReturnPurchaseInvoice"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n            <div style=\"width:100%;display:flex;\">\r\n\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 5348, "\"", 5375, 2);
            WriteAttributeValue(" ", 5356, "Grid-Content", 5357, 13, true);
#nullable restore
#line 136 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 5369, font, 5370, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width:46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 137 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Pay/dgPayReturnInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div style=\"width: 8%;height:200px;display:flex;flex-direction:column;align-items:center;justify-content: center;\">\r\n                    ");
#nullable restore
#line 140 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_select_return")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-success" })
                        .Content(Localizer["<"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 144 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                Write(Html.Kendo().Button()
                        .Name("btn_notSelect_return")
                        .HtmlAttributes(new { style = "font-size:15px;height:35px;margin:2px;", type = "button", @class = "btn btn-danger " })
                        .Content(Localizer[">"]));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div");
            BeginWriteAttribute("class", " class=\"", 6358, "\"", 6385, 2);
            WriteAttributeValue(" ", 6366, "Grid-Content", 6367, 13, true);
#nullable restore
#line 149 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
WriteAttributeValue(" ", 6379, font, 6380, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width: 46%;height:200px;overflow-y: auto;overflow-x: hidden;\">\r\n                    ");
#nullable restore
#line 150 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
               Write(await Html.PartialAsync("~/Views/Shared/PartialViews/AppWebForms/Pay/dgTotalReturnInvoiceGrid.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                </div>
            </div>
        </div>

    </div>

    <div class=""row page-header "">

    </div>

    <div class=""col-sm-12"" style=""padding:0px;"">

        <div class=""col-sm-2"">
            <label class=""block clearfix"">
                <label for=""form-field-8"">");
#nullable restore
#line 165 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                                     Write(Localizer["Date"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                <span class=\"block input-icon input-icon-right\">\r\n                    ");
#nullable restore
#line 167 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                Write(Html.Kendo().DatePicker()
                        .Name("PayDateTxt")
                        .Format("dd/MM/yyyy")
                        .Value(Model.PayDate ?? DateTime.Now)
                        .Enable((bool)(ViewBag.AccessEditDate ?? false))
                        .HtmlAttributes(new { style = "width: 100%;", @data_checkEmpty = "PayDateTxt-box" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </span>\r\n                <span id=\"PayDateTxt-box\" class=\"emptybox hidden\" data-isEssential=\"true\" style=\"color:red;\">\r\n                    ");
#nullable restore
#line 176 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
               Write(Localizer["ThisFieldIsEmptyPleaseFillIt"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </span>\r\n                <span id=\"Date-valid\" class=\"emptybox hidden\" style=\"color:red;\">\r\n                    ");
#nullable restore
#line 179 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
               Write(Localizer["DateNotValid"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </span>\r\n            </label>\r\n        </div>\r\n\r\n        <div class=\"col-sm-3\">\r\n            <label class=\"block clearfix\">\r\n                <label for=\"form-field-8\">");
#nullable restore
#line 186 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                                     Write(Localizer["BillNumber"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                <span class=\"block input-icon input-icon-right\">\r\n                    ");
#nullable restore
#line 188 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                Write(Html.Kendo().TextBox()
                    .Name("MainInvoiceNum")
                    .Value(Model.MainInvoiceNum)
                    .HtmlAttributes(new { style = "width: 100%" })
                    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </span>\r\n            </label>\r\n        </div>\r\n\r\n        <div class=\"col-sm-2\">\r\n            <label class=\"block clearfix\">\r\n                <label for=\"form-field-8\">");
#nullable restore
#line 199 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                                     Write(Localizer["InvoiceNum"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                <span class=\"block input-icon input-icon-right\">\r\n                    ");
#nullable restore
#line 201 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                Write(Html.Kendo().TextBox()
                    .Name("InvoiceNum")
                    .Enable(false)
                    .Value(Model.InvoiceNum)
                    .HtmlAttributes(new { style = "width: 100%" })
                    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </span>\r\n            </label>\r\n        </div>\r\n\r\n        <div class=\"col-sm-5\">\r\n            <label class=\"block clearfix\">\r\n                <label for=\"form-field-8\">");
#nullable restore
#line 213 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                                     Write(Localizer["Description"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" : </label>\r\n                <span class=\"block input-icon input-icon-right\">\r\n                    ");
#nullable restore
#line 215 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                Write(Html.Kendo().TextArea()
                        .Name("Description")
                        .Value(Model.Description)
                        .HtmlAttributes(new { style = "width:100%" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                </span>
            </label>
        </div>

    </div>
    <div id=""amount_container"" class=""col-sm-12"" style=""padding:0px;"">

    </div>

    <div id=""total_amount_container"" class=""col-sm-12"" style=""padding:0px;"">

    </div>

</div>

<script>
    let currency_dataSource;

    $(document).ready(function () {

        $.ajax({
            type: ""Get"",
            url: ""/BaseInfo/GetAllCurrencies"",
            success: function (response) {

                currency_dataSource = response;
                RefreshGrids();
            }
        });

        setTimeout(function () {

            $('#PayDateTxt').focus();
        }, 500);
    });


    $('#PayDateTxt').on('keypress', function (e) {
        if (e.which === 13) {
            $(""#Description"").focus();
        }
    });


    $('#Description').keypress(function (e) {
        if (e.which === 13 || e.which === 9) {

            let dis = $(`#DetailDiscount_0`).data(""kendoNumericTextBox"")");
            WriteLiteral(@";
            if (dis) {
                dis.focus();

            } else {

                $(""#btn-AddPayInvoiceModal-accept"").focus();
            }

        }
    });




    function CalculateTotal() {
        let last = '';

        let payInvoice_dataSource = $(""#payInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        payInvoice_dataSource.filter(function (item) {

            if (item.TotalPrice != null) {

                let res = item.TotalPrice.toString().split(""_"");

                for (let i = 0; i < res.length; i++) {
                    let money = res[i].split("" "");

                    if (money.length > 1) {

                        if (last.includes(money[0])) {
                            let last_res = last.toString().split(""_"");
                            let new_last = '';
                            for (let j = 0; j < last_res.length; j++) {
                                if (last_res[j].includes(money[0])) {
                          ");
            WriteLiteral(@"          let last_money = last_res[j].split("" "");

                                    let sum = Number(GetFirstNumber(money[1]));
                                    let last_sum = Number(GetFirstNumber(last_money[1]));

                                    sum += last_sum;
                                    new_last += `${money[0]} ${parseFloat(sum).toLocaleString('en')}_`;
                                } else {
                                    if (last_res[j] != '')
                                        new_last += `${last_res[j]}_`;
                                }
                            }
                            last = new_last;
                        } else {

                            last += `${money[0]} ${money[1]}_`;
                        }

                    }
                }

                var last_rem = last.split(""_"");
                var rem = last;
                for (var i = 0; i < last_rem.length; i++) {
                    let money = la");
            WriteLiteral(@"st_rem[i].split("" "");
                    if (!rem.includes(money[0]) && money.length > 1) {
                        last += `${money[0]} ${money[1]}_`;
                    }
                }
            }

            return false;
        });


        let payReturn_dataSource = $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        payReturn_dataSource.filter(function (item) {

            if (item.TotalPrice != null) {

                let res = item.TotalPrice.toString().split(""_"");

                for (let i = 0; i < res.length; i++) {
                    let money = res[i].split("" "");

                    if (money.length > 1) {

                        if (last.includes(money[0])) {
                            let last_res = last.toString().split(""_"");
                            let new_last = '';
                            for (let j = 0; j < last_res.length; j++) {
                                if (last_res[j].includes(money[0])) {
            ");
            WriteLiteral(@"                        let last_money = last_res[j].split("" "");

                                    let sum = Number(GetFirstNumber(money[1]));
                                    let last_sum = Number(GetFirstNumber(last_money[1]));

                                    sum = -sum;

                                    //if (last_money[1].includes(""-""))
                                    //    last_sum = -last_sum;

                                    sum += last_sum;
                                    new_last += `${money[0]} ${parseFloat(sum).toLocaleString('en')}_`;
                                } else {
                                    if (last_res[j] != '')
                                        new_last += `${last_res[j]}_`;
                                }
                            }
                            last = new_last;
                        } else {

                            last += `${money[0]} -${money[1]}_`;
                        }

                ");
            WriteLiteral(@"    }
                }

                var last_rem = last.split(""_"");
                var rem = last;
                for (var i = 0; i < last_rem.length; i++) {
                    let money = last_rem[i].split("" "");
                    if (!rem.includes(money[0]) && money.length > 1) {
                        last += `${money[0]} ${money[1]}_`;
                    }
                }
            }

            return false;
        });



        let elements = '';
        let amount_txt = '");
#nullable restore
#line 396 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                     Write(Localizer["Amount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n        let pay_txt = \'");
#nullable restore
#line 397 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                  Write(Localizer["Pay"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n        let currency_txt = \'");
#nullable restore
#line 398 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                       Write(Localizer["Currency"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n        let detailDiscount_txt = \'% ");
#nullable restore
#line 399 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                               Write(Localizer["Discount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n        let discount_txt = \'# ");
#nullable restore
#line 400 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                         Write(Localizer["Discount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"';

        let item = last.split(""_"");
        for (var i = 0; i < item.length; i++) {
            if (item[i] != '') {
                let money = item[i].split("" "");

                let main_currency_id = GetCurrencyIdByName(money[0]);
                let currency_id = main_currency_id;
                let update_currency = $(`#UCurrencyId_${currency_id}`).val();
                if (update_currency)
                    currency_id = update_currency;

                let discount_val = 0;
                let update_discount = $(`#UDiscount_${main_currency_id}`).val();
                if (update_discount)
                    discount_val = update_discount;

                let baseAmount_val = 1;
                let update_baseAmount = $(`#UBaseAmount_${main_currency_id}`).val();
                if (update_baseAmount)
                    baseAmount_val = update_baseAmount;

                let destAmount_val = 1;
                let update_destAmount = $(`#UDestAmount_${main_currency");
            WriteLiteral(@"_id}`).val();
                if (update_destAmount)
                    destAmount_val = update_destAmount;

                let lblDestAmount_val = '';
                let update_lblDestAmount = $(`#UCurrencyName_${main_currency_id}`).val();
                if (update_lblDestAmount)
                    lblDestAmount_val = update_lblDestAmount;

                let hid = '';
                if (main_currency_id == currency_id)
                    hid = "" hidden "";

                let visible = '';
                //if (money[1].includes('-')) {
                //    visible = ' visibility: hidden; ';
                //} else {
                //    visible = ' visibility: visible; ';
                //}
                elements += `
                        <div class=""col-sm-12 PayLine"" data-line=""${i}"" style=""padding:0px;"">

                            <div class=""col-sm-2"">
                                <label class=""block clearfix"">
                                    <label for");
            WriteLiteral(@"=""form-field-8"">${amount_txt} : </label>
                                    <span class=""block input-icon input-icon-right"">
                                        <input id=""Amount_${i}"" value=""${money[1]}"" class=""payAmountTxt"" style=""width:85%;"" />
                                        <label id=""BaseCurrency_${i}"">${money[0]}</label>
                                    </span>
                                </label>
                            </div>

                            <div class=""col-sm-3"" style=""padding:0px;${visible}"">
                                <div class=""col-sm-6"">
                                    <label class=""block clearfix"">
                                        <label for=""form-field-8"">${detailDiscount_txt} : </label>
                                        <span class=""block input-icon input-icon-right"">

                                            <input type=""number"" value=""0"" min=""0"" max=""100"" id=""DetailDiscount_${i}"" onfocusout=""DetailDiscountFocusOut(");
            WriteLiteral(@"this)"" onkeypress=""DetailDiscountKeyPress(this)"" class=""payAmountDiscount"" style=""width:100%;"" />

                                        </span>
                                    </label>
                                </div>

                                <div class=""col-sm-6"">
                                    <label class=""block clearfix"">
                                        <label for=""form-field-8"">${discount_txt} : </label>
                                        <span class=""block input-icon input-icon-right"">

                                            <input type=""number"" value=""${discount_val}"" min=""0"" id=""Discount_${i}"" onfocusout=""DiscountFocusOut(this)"" onkeypress=""DiscountKeyPress(this)"" class=""payAmountDiscount "" style=""width:100%;"" />

                                        </span>
                                        <label id=""lblDiscountChangeAmount_${i}"" class=""hidden"" style=""font-size: 12px;color: grey;""></label>
                                    </label");
            WriteLiteral(@">
                                </div>
                            </div>

                            <div class=""col-sm-2"">
                                <label class=""block clearfix"">
                                    <label for=""form-field-8"">${pay_txt} : </label>
                                    <span class=""block input-icon input-icon-right"">
                                        <input id=""Pay_${i}"" value=""${money[1]}"" class=""payAmountTxt"" style=""width:100%;"" />
                                    </span>
                                    <label id=""lblPayChangeAmount_${i}"" class=""hidden"" style=""font-size: 12px;color: grey;""></label>
                                </label>
                            </div>

                            <div class=""col-sm-2"">
                                <label class=""block clearfix"">
                                    <label for=""form-field-8"">${currency_txt} : </label>
                                    <span class=""block input-icon");
            WriteLiteral(@" input-icon-right"">
                                        <input id=""Currency_${i}"" value=""${currency_id}"" onchange=""CurrencyChange(this)"" class=""payAmountCurrency"" style=""width:100%;"" />
                                    </span>
                                    <label id=""lblChangeAmount_${i}"" class=""hidden"" style=""font-size: 12px;color: grey;""></label>
                                </label>
                            </div>

                            <div id=""convert_container_${i}"" class=""col-sm-3 ${hid}"" style=""padding:0px;"">
                                <div class=""col-sm-6"">
                                    <label class=""block clearfix "">
                                        <label id=""lblBaseAmount_${i}"" for=""form-field-8"">${money[0]}</label>
                                        <span class=""block input-icon input-icon-right"">

                                            <input type=""number"" value=""${baseAmount_val}"" min=""1"" id=""BaseAmount_${i}"" onfocusout=""ChangeAm");
            WriteLiteral(@"ountFocusOut(this)"" onkeypress=""BaseAmountKeyPress(this)"" class=""payAmountNum"" style=""width:100%;"" />

                                        </span>
                                    </label>
                                </div>

                                <div class=""col-sm-6"">
                                    <label class=""block clearfix "">
                                        <label id=""lblDestAmount_${i}"" for=""form-field-8"">${lblDestAmount_val}</label>
                                        <span class=""block input-icon input-icon-right"">

                                            <input type=""number"" value=""${destAmount_val}"" min=""1"" id=""DestAmount_${i}"" onfocusout=""ChangeAmountFocusOut(this)"" onkeypress=""DestAmountKeyPress(this)"" class=""payAmountNum "" style=""width:100%;"" />

                                        </span>
                                    </label>
                                </div>
                            </div>

                        </");
            WriteLiteral(@"div>`
                    ;
            }
        }


        $('#amount_container').empty();
        $('#total_amount_container').empty();
        var div = document.getElementById(""amount_container"");
        div.insertAdjacentHTML('afterbegin', elements);

        SetTelerikItems(currency_dataSource);
    }


    function SetTelerikItems(dataSource) {

        $("".payAmountDiscount"").kendoNumericTextBox({
            culture: ""en-US"",
            min: 0,
            format: ""#,#.##""
        });

        $("".payAmountNum"").kendoNumericTextBox({
            culture: ""en-US"",
            decimals: 0,
            min: 1,
            format: ""#,#.##"",
            selectOnFocus: true
        });

        $("".payAmountTxt"").kendoTextBox({
            enable: false
        });

        $("".payAmountCurrency"").kendoDropDownList({
            dataTextField: ""Name"",
            dataValueField: ""Id"",
            dataSource: dataSource
        });

        $("".payAmountCurrency""");
            WriteLiteral(@").parent().on(""keypress"", function (e) {

            if (e.which === 13) {

                let input = $(this).find('input.payAmountCurrency')[0];
                let id = input.id;
                let count = id.split(""_"");

                if ($(`#convert_container_${count[1]}`).hasClass(""hidden"")) {
                    let next = Number(count[1]) + 1;

                    let dis = $(`#DetailDiscount_${next}`).data(""kendoNumericTextBox"");
                    if (dis) {
                        dis.focus();

                    } else {

                        $(""#btn-AddPayInvoiceModal-accept"").focus();
                    }

                } else {

                    $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"").focus();
                }
            }
        });

        $("".payAmountCurrency"").each(function () {
            $(this).trigger(""change"");
        });

        $('#AddPayInvoiceModal .PayLine').each(function () {
            let line = $(this).a");
            WriteLiteral(@"ttr(""data-line"");
            if (line) {

                $(`#DestAmount_${line}`).data(""kendoNumericTextBox"").focus();

                $('#PayDateTxt').focus();
            }
        });
    }

    function DetailDiscountKeyPress(e) {

        if (event.keyCode === 13) {
            let id = $(e).attr(""id"");
            let count = id.split(""_"");

            $(`#Discount_${count[1]}`).data(""kendoNumericTextBox"").focus();
        }
    }

    function DiscountKeyPress(e) {

        if (event.keyCode === 13) {
            let id = $(e).attr(""id"");
            let count = id.split(""_"");

            let drop = $(`#Currency_${count[1]}`).data(""kendoDropDownList"");
            drop.focus();
            drop.open();
        }
    }

    function BaseAmountKeyPress(e) {

        if (event.keyCode === 13) {
            let id = $(e).attr(""id"");
            let count = id.split(""_"");

            $(`#DestAmount_${count[1]}`).data(""kendoNumericTextBox"").focus();
        }
   ");
            WriteLiteral(@" }

    function DestAmountKeyPress(e) {

        if (event.keyCode === 13) {
            let id = $(e).attr(""id"");
            let count = id.split(""_"");
            let next = Number(count[1]) + 1;

            let dis = $(`#DetailDiscount_${next}`).data(""kendoNumericTextBox"");
            if (dis) {
                dis.focus();

            } else {

                $(""#btn-AddPayInvoiceModal-accept"").focus();
            }
        }
    }

    function CurrencyChange(e) {

        let id = $(e).attr(""id"");
        let count = id.split(""_"");

        var currency = $(`#${id}`).data(""kendoDropDownList"");
        var currency_txt = currency.text();
        var baseCurrency_txt = $(`#BaseCurrency_${count[1]}`).text();

        var BaseAmount = $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"");
        if (BaseAmount.value() == '')
            BaseAmount.value(1);

        var DestAmount = $(`#DestAmount_${count[1]}`).data(""kendoNumericTextBox"");
        if (DestAmount.");
            WriteLiteral(@"value() == '')
            DestAmount.value(1);

        if (baseCurrency_txt == currency_txt) {

            $(`#convert_container_${count[1]}`).addClass(""hidden"");
            $(`#lblChangeAmount_${count[1]}`).addClass(""hidden"");
            $(`#lblPayChangeAmount_${count[1]}`).addClass(""hidden"");
            $(`#lblDiscountChangeAmount_${count[1]}`).addClass(""hidden"");

            CalculateDiscount(count[1]);
        } else {

            $(`#convert_container_${count[1]}`).removeClass(""hidden"");
            $(`#lblPayChangeAmount_${count[1]}`).removeClass(""hidden"");
            $(`#lblDiscountChangeAmount_${count[1]}`).removeClass(""hidden"");
            $(`#lblChangeAmount_${count[1]}`).removeClass(""hidden"");
            $(`#lblChangeAmount_${count[1]}`).text($(`#Amount_${count[1]}`).val());
            $(`#lblDestAmount_${count[1]}`).text(currency_txt);

            $("".loader"").removeClass(""hidden"");
            $.ajax({
                type: ""Get"",
                url: ""/MoneyCo");
            WriteLiteral(@"nvert/GetMoneyConvertBaseCurrencyName"",
                data: {
                    baseCurrencyName: baseCurrency_txt,
                    destCurrencyName: currency_txt
                },
                success: function (response) {

                    if (response == null || response === 0) {

                        $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"").value(1);
                        $(`#DestAmount_${count[1]}`).data(""kendoNumericTextBox"").value(1);

                    } else {
                        let base_currency = response.BaseCurrencyName;
                        let dest_currency = response.DestCurrencyName;

                        if (base_currency == baseCurrency_txt) {

                            $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"").value(response.BaseAmount);
                            $(`#DestAmount_${count[1]}`).data(""kendoNumericTextBox"").value(response.DestAmount);

                        } else {

                  ");
            WriteLiteral(@"          $(`#DestAmount_${count[1]}`).data(""kendoNumericTextBox"").value(response.BaseAmount);
                            $(`#BaseAmount_${count[1]}`).data(""kendoNumericTextBox"").value(response.DestAmount);

                        }

                    }

                    SetChangeAmount(count[1]);
                    CalculateDiscount(count[1]);

                    $("".loader"").fadeIn(""slow"");
                    $("".loader"").addClass(""hidden"");
                }
            });


        }

    }

    function DetailDiscountFocusOut(e) {

        let id = $(e).attr(""id"");
        let count = id.split(""_"");

        CalculateDetailDiscount(count[1]);
    }

    function CalculateDetailDiscount(line) {

        var currency = $(`#Currency_${line}`).data(""kendoDropDownList"");
        var currency_txt = currency.text();
        //var baseCurrency_txt = $(`#BaseCurrency_${line}`).text();

        let amount_txt = $(`#Amount_${line}`).val();
        let txt_res = Number(G");
            WriteLiteral(@"etFirstNumber(amount_txt));
        let amount = Math.abs(txt_res);

        let dis_val = $(`#DetailDiscount_${line}`).data(""kendoNumericTextBox"").value();

        let dis = (dis_val * amount) / 100;
        $(`#Discount_${line}`).data(""kendoNumericTextBox"").value(dis);


        let txt_dis = amount - dis;
        if (txt_res < 0)
            txt_dis = -txt_dis;

        $(`#Pay_${line}`).val(parseFloat(txt_dis).toLocaleString('en'));


        let baseAmount_txt = $(`#AddPayInvoiceModal #BaseAmount_${line}`).val();
        let baseAmount = Number(GetFirstNumber(baseAmount_txt));

        let destAmount_tx = $(`#AddPayInvoiceModal #DestAmount_${line}`).val();
        let destAmount = Number(GetFirstNumber(destAmount_tx));

        let res = amount * destAmount / baseAmount;

        let lbl_dis = (dis_val * res) / 100;
        $(`#lblDiscountChangeAmount_${line}`).text(`${currency_txt} ${parseFloat(lbl_dis).toLocaleString('en')}`);

        let total = res - lbl_dis;
        if ");
            WriteLiteral(@"(txt_res < 0)
            total = -total;
        $(`#lblPayChangeAmount_${line}`).text(`${currency_txt} ${parseFloat(total).toLocaleString('en')}`);

        CalculateTotalPayAfterDiscount();
    }

    function DiscountFocusOut(e) {

        let id = $(e).attr(""id"");
        let count = id.split(""_"");

        CalculateDiscount(count[1]);
    }

    function CalculateDiscount(line) {

        var currency = $(`#Currency_${line}`).data(""kendoDropDownList"");
        var currency_txt = currency.text();
        //var baseCurrency_txt = $(`#BaseCurrency_${line}`).text();

        let amount_txt = $(`#Amount_${line}`).val();
        let txt_res = Number(GetFirstNumber(amount_txt));
        let amount = Math.abs(txt_res);

        let dis_val = $(`#Discount_${line}`).data(""kendoNumericTextBox"").value();

        let dis = (100 * dis_val) / amount;
        $(`#DetailDiscount_${line}`).data(""kendoNumericTextBox"").value(dis);


        let txt_dis = amount - dis_val;
        if (txt_re");
            WriteLiteral(@"s < 0)
            txt_dis = -txt_dis;

        $(`#Pay_${line}`).val(parseFloat(txt_dis).toLocaleString('en'));


        let baseAmount_txt = $(`#AddPayInvoiceModal #BaseAmount_${line}`).val();
        let baseAmount = Number(GetFirstNumber(baseAmount_txt));

        let destAmount_tx = $(`#AddPayInvoiceModal #DestAmount_${line}`).val();
        let destAmount = Number(GetFirstNumber(destAmount_tx));

        let res = amount * destAmount / baseAmount;

        let lbl_dis = (dis * res) / 100;
        $(`#lblDiscountChangeAmount_${line}`).text(`${currency_txt} ${parseFloat(lbl_dis).toLocaleString('en')}`);

        let total = res - lbl_dis;
        if (txt_res < 0)
            total = -total;
        $(`#lblPayChangeAmount_${line}`).text(`${currency_txt} ${parseFloat(total).toLocaleString('en')}`);


        CalculateTotalPayAfterDiscount();
    }

    function ChangeAmountFocusOut(e) {

        let id = $(e).attr(""id"");
        let count = id.split(""_"");

        SetChangeAm");
            WriteLiteral(@"ount(count[1]);
    }

    function SetChangeAmount(cooount) {

        let amount_txt = $(`#Amount_${cooount}`).val();
        let amount = Number(GetFirstNumber(amount_txt));

        let base_txt = $(`#BaseAmount_${cooount}`).val();
        let base = Number(GetFirstNumber(base_txt));

        let dest_txt = $(`#DestAmount_${cooount}`).val();
        let dest = Number(GetFirstNumber(dest_txt));

        let sum = amount * dest / base;

        var currency = $(`#Currency_${cooount}`).data(""kendoDropDownList"");
        var currency_txt = currency.text();

        let result = `total ${currency_txt} : ${parseFloat(sum).toLocaleString('en')}`;
        $(`#lblChangeAmount_${cooount}`).text(result);

        CalculateDiscount(cooount);
    }

    function GetPayPurchaseInvoice(payId) {
        return $.ajax({
            type: ""Get"",
            url: ""/PurchaseInvoice/GetPayPurchaseInvoice"",
            data: { payId: payId },
        });
    }

    function GetPayReturnPurchase");
            WriteLiteral(@"Invoice(payId) {
        return $.ajax({
            type: ""Get"",
            url: ""/ReturnPurchaseInvoice/GetPayReturnPurchaseInvoice"",
            data: { payId: payId },
        });
    }


    function RefreshGrids() {
        var guid = $(""#Guid"").val();
        var supplierId = $(""#SupplierIdFilter"").val();

        $.ajax({
            type: ""Get"",
            url: ""/PurchaseInvoice/GetNotPayPurchaseInvoice"",
            data: { supplierId: supplierId },
            success: function (response) {

                $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(response);
            }
        });

        $.ajax({
            type: ""Get"",
            url: ""/ReturnPurchaseInvoice/GetNotPayReturnPurchaseInvoice"",
            data: { supplierId: supplierId },
            success: function (response) {

                $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(response);
            }
        });

        $.when(GetPayPurchaseInvoice(guid");
            WriteLiteral(@"), GetPayReturnPurchaseInvoice(guid)).done(function (purchase_pay, return_pay) {

            $(""#payInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(purchase_pay[0]);

            $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(return_pay[0]);

            CalculateTotal();
        });

    }


    $('#btn_select_pay').on(""click"", function () {
        $(this).attr(""disabled"", true);

        let totalInvoice_dataSource = $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let payInvoice_dataSource = $(""#payInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_totalInvoice"").find("":checkbox:checked"").each(function () {

            let description = $(this).parent().attr(""data-desctiption"");
            if (description == null || description == 'null')
                description = '';

            var elem = {
                ClinicSectionId: null,
                CreatedUserId: null,
                Description: descrip");
            WriteLiteral(@"tion,
                Guid: $(this).parent().attr(""data-id""),
                Id: 0,
                Index: 0,
                InvoiceDate: """",
                InvoiceDateTxt: $(this).parent().attr(""data-date""),
                InvoiceNum: $(this).parent().attr(""data-invoice""),
                MainInvoiceNum: $(this).parent().attr(""data-mainInvoice""),
                ModifiedUserId: null,
                PurchaseInvoiceDetails: null,
                SupplierId: null,
                SupplierName: null,
                TotalPrice: $(this).parent().attr(""data-price""),
                PayIds: $(this).parent().attr(""data-payids"")
            };

            payInvoice_dataSource.push(elem);

            totalInvoice_dataSource = RemoveFromListByGuid(totalInvoice_dataSource, $(this).parent().attr(""data-id""));

        });

        $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(totalInvoice_dataSource);
        $(""#payInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexL");
            WriteLiteral(@"ist(payInvoice_dataSource));


        CalculateTotal();

        $('#btn_select_pay').removeAttr(""disabled"");
    });

    $('#btn_notSelect_pay').on(""click"", function () {
        $(this).attr(""disabled"", true);

        let payInvoice_dataSource = $(""#payInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let totalInvoice_dataSource = $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_payInvoice"").find("":checkbox:checked"").each(function () {

            let description = $(this).parent().attr(""data-desctiption"");
            if (description == null || description == 'null')
                description = '';

            var elem = {
                ClinicSectionId: null,
                CreatedUserId: null,
                Description: description,
                Guid: $(this).parent().attr(""data-id""),
                Id: 0,
                Index: 0,
                InvoiceDate: """",
                InvoiceDateTxt: $(this).parent().");
            WriteLiteral(@"attr(""data-date""),
                InvoiceNum: $(this).parent().attr(""data-invoice""),
                MainInvoiceNum: $(this).parent().attr(""data-mainInvoice""),
                ModifiedUserId: null,
                PurchaseInvoiceDetails: null,
                SupplierId: null,
                SupplierName: null,
                TotalPrice: $(this).parent().attr(""data-price""),
                PayIds: $(this).parent().attr(""data-payids"")
            };

            totalInvoice_dataSource.push(elem);

            payInvoice_dataSource = RemoveFromListByGuid(payInvoice_dataSource, $(this).parent().attr(""data-id""));

        });

        $(""#payInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(payInvoice_dataSource);
        $(""#totalInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(totalInvoice_dataSource));


        CalculateTotal();

        $('#btn_notSelect_pay').removeAttr(""disabled"");
    });

    $('#btn_select_return').on(""click"", function () {

        $(th");
            WriteLiteral(@"is).attr(""disabled"", true);

        let totalReturn_dataSource = $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let payReturn_dataSource = $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_return_totalInvoice"").find("":checkbox:checked"").each(function () {

            let description = $(this).parent().attr(""data-desctiption"");
            if (description == null || description == 'null')
                description = '';

            var elem = {
                Index: 0,
                Guid: $(this).parent().attr(""data-id""),
                Id: 0,
                InvoiceNum: $(this).parent().attr(""data-invoice""),
                InvoiceDate: """",
                InvoiceDateTxt: $(this).parent().attr(""data-date""),
                SupplierId: null,
                SupplierName: null,
                Description: description,
                CreatedUserId: null,
                ModifiedUserId: null,
                C");
            WriteLiteral(@"linicSectionId: null,
                TotalPrice: $(this).parent().attr(""data-price""),
                PayIds: $(this).parent().attr(""data-payids"")
            };

            payReturn_dataSource.push(elem);

            totalReturn_dataSource = RemoveFromListByGuid(totalReturn_dataSource, $(this).parent().attr(""data-id""));

        });

        $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(totalReturn_dataSource);
        $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(payReturn_dataSource));


        CalculateTotal();

        $('#btn_select_return').removeAttr(""disabled"");
    });

    $('#btn_notSelect_return').on(""click"", function () {
        $(this).attr(""disabled"", true);

        let payReturn_dataSource = $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();
        let totalReturn_dataSource = $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").dataSource.data();

        $("".select_return_payInvoice"").fin");
            WriteLiteral(@"d("":checkbox:checked"").each(function () {

            let description = $(this).parent().attr(""data-desctiption"");
            if (description == null || description == 'null')
                description = '';

            var elem = {
                Index: 0,
                Guid: $(this).parent().attr(""data-id""),
                Id: 0,
                InvoiceNum: $(this).parent().attr(""data-invoice""),
                InvoiceDate: """",
                InvoiceDateTxt: $(this).parent().attr(""data-date""),
                SupplierId: null,
                SupplierName: null,
                Description: description,
                CreatedUserId: null,
                ModifiedUserId: null,
                ClinicSectionId: null,
                TotalPrice: $(this).parent().attr(""data-price""),
                PayIds: $(this).parent().attr(""data-payids"")
            };

            totalReturn_dataSource.push(elem);

            payReturn_dataSource = RemoveFromListByGuid(payReturn_dataSo");
            WriteLiteral(@"urce, $(this).parent().attr(""data-id""));

        });

        $(""#payReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(payReturn_dataSource);
        $(""#totalReturnInvoiceKendoGrid"").data(""kendoGrid"").setDataSource(ResetIndexList(totalReturn_dataSource));


        CalculateTotal();

        $('#btn_notSelect_return').removeAttr(""disabled"");
    });

    function GetCurrencyIdByName(currency) {
        let currency_id = '';
        currency_dataSource.filter(function (item) {

            if (item.Name == currency) {
                currency_id = item.Id;
            }

            return false;
        });
        return currency_id;
    }

    function CalculateTotalPayAfterDiscount() {
        $(""#AddPayInvoiceModal #DiscountIsGreaterThanTheAmount"").addClass(""hidden"");
        $('#total_amount_container').empty();

        let last = '';
        $('#AddPayInvoiceModal .PayLine').each(function () {

            let line = $(this).attr(""data-line"");
            if (");
            WriteLiteral(@"line) {
                var currency = $(`#Currency_${line}`).data(""kendoDropDownList"");
                var currency_txt = currency.text();
                var baseCurrency_txt = $(`#BaseCurrency_${line}`).text();

                let amount_txt = $(`#Amount_${line}`).val();
                let amount = Number(GetFirstNumber(amount_txt));
                let poss_amount = Math.abs(amount);

                let discount_txt = $(`#AddPayInvoiceModal #Discount_${line}`).val();
                let discount = Number(GetFirstNumber(discount_txt));

                let baseAmount_txt = $(`#AddPayInvoiceModal #BaseAmount_${line}`).val();
                let baseAmount = Number(GetFirstNumber(baseAmount_txt));

                let destAmount_tx = $(`#AddPayInvoiceModal #DestAmount_${line}`).val();
                let destAmount = Number(GetFirstNumber(destAmount_tx));

                if (baseCurrency_txt == currency_txt) {
                    baseAmount = destAmount = 1;
                }

    ");
            WriteLiteral(@"            if (discount > poss_amount)
                    $(""#AddPayInvoiceModal #DiscountIsGreaterThanTheAmount"").removeClass(""hidden"");

                if (amount < 0) {
                    amount = -poss_amount;
                    discount = -discount;
                }

                let total = (amount - discount) * destAmount / baseAmount;
                if (last.includes(currency_txt)) {
                    let res = last.split(""_"");
                    let new_last = '';
                    for (let i = 0; i < res.length; i++) {

                        if (res[i].includes(currency_txt)) {
                            let money = res[i].split("" "");

                            let last_sum = Number(GetFirstNumber(money[1]));


                            last_sum += total;
                            new_last += `${currency_txt} ${last_sum}_`;
                        } else {
                            if (res[i] != '')
                                new_last += `${res[");
            WriteLiteral(@"i]}_`;
                        }
                    }

                    last = new_last;

                } else {
                    last += `${currency_txt} ${total}_`;
                }

            }
        });

        let elements = '';
        let totals = last.split(""_"");
        for (let row = 0; row < totals.length; row++) {
            if (totals[row] != '') {
                let money = totals[row].split("" "");

                let result = Number(GetFirstNumber(money[1]));

                let result_txt = `");
#nullable restore
#line 1191 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Pay\mdPayInvoiceNewModal.cshtml"
                             Write(Localizer["TotalAfterDiscount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@" : ${money[0]} ${parseFloat(result).toLocaleString('en')}`;
                elements += `
                        <div class=""col-sm-12 ""  style=""padding:0px;"">

                            <div class=""col-sm-2"">
                            </div>

                            <div class=""col-sm-3"" style=""padding:0px;"">
                            </div>

                            <div class=""col-sm-4"">
                                <label class=""block clearfix"">
                                    <label >${result_txt}</label>
                                </label>
                            </div>

                            <div class=""col-sm-3 "" style=""padding:0px;"">

                            </div>

                        </div>`
            }
        }

        var div = document.getElementById(""total_amount_container"");
        div.insertAdjacentHTML('afterbegin', elements);
    }

</script>
");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public WPH.Resources.SharedViewLocalizer Localizer { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IHttpContextAccessor HttpContextAccessor { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<WPH.Models.Pay.PayViewModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
