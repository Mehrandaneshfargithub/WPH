#pragma checksum "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Visit\dgAnalysisFromServerGrid.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "7b39a7e01acdbee226fcf08c0827182dea394b82"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(WPH.Pages.Shared.PartialViews.AppWebForms.Visit.Views_Shared_PartialViews_AppWebForms_Visit_dgAnalysisFromServerGrid), @"mvc.1.0.view", @"/Views/Shared/PartialViews/AppWebForms/Visit/dgAnalysisFromServerGrid.cshtml")]
namespace WPH.Pages.Shared.PartialViews.AppWebForms.Visit
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using WPH;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"7b39a7e01acdbee226fcf08c0827182dea394b82", @"/Views/Shared/PartialViews/AppWebForms/Visit/dgAnalysisFromServerGrid.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5221a2d8e2059d2e61789d73e7efe285a53b8943", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Shared_PartialViews_AppWebForms_Visit_dgAnalysisFromServerGrid : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"
<style>

    .serverPatient {
        color: blue;
        font-size: 1.5rem;
        margin-left: 1rem;
    }
</style>

<div>
    <div class=""col-sm-12"">
        <div class=""col-sm-6"" style=""display:flex"">

            <label class=""block clearfix"" for=""form-field-8"">Prescription Number: </label>
            <label class=""block clearfix serverPatient"" for=""form-field-8"" id=""ServerPrescriptionNumber""></label>

        </div>

        <div class=""col-sm-6"" style=""display:flex"">

            <label class=""block clearfix"" for=""form-field-8"">Patient Name: </label>
            <label class=""block clearfix serverPatient"" for=""form-field-8"" id=""ServerPatientName""></label>

        </div>

    </div>

    <div class=""col-sm-12"">
        <div class=""col-sm-6"" style=""display:flex"">

            <label class=""block clearfix"" for=""form-field-8"">Patient Mobile: </label>
            <label class=""block clearfix serverPatient"" for=""form-field-8"" id=""ServerPatientMobile""></label>

        <");
            WriteLiteral(@"/div>

        <div class=""col-sm-6"" style=""display:flex"">

            <label class=""block clearfix"" for=""form-field-8"">Doctor Name: </label>
            <label class=""block clearfix serverPatient"" for=""form-field-8"" id=""ServerDoctorName""></label>

        </div>
    </div>

    <div class=""col-sm-12"">

        <span style=""padding: 5px 12px;"" class=""block red"" id=""GetDataError"">

        </span>

    </div>

    <div>
        ");
#nullable restore
#line 54 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\Visit\dgAnalysisFromServerGrid.cshtml"
    Write(Html.Kendo().Grid<WPH.Models.Analysis.GetAnalysisFromServerViewModel>()
        .Name("analysisServerGrid")
        .Selectable(selectable => selectable.Mode(GridSelectionMode.Multiple))
        .PersistSelection(true)
        .Columns(columns =>
        {
            columns.Bound(x => x.AnalysisName).Filterable(ftb => ftb.Cell(cell => cell.Operator("contains").SuggestionOperator(FilterType.Contains))).Title("AnalysisName").HtmlAttributes(new { @style = "text-align:center;" }).HeaderHtmlAttributes(new { @style = "text-align:center;" });

            columns.Bound(x => x.Description).Filterable(ftb => ftb.Cell(cell => cell.Operator("contains").SuggestionOperator(FilterType.Contains))).Title("Description").HtmlAttributes(new { @style = "text-align:center;" }).HeaderHtmlAttributes(new { @style = "text-align:center;" });

        })
            .DataSource(dataSource => dataSource
            .Ajax()
            .ServerOperation(false)
            //.Model(model =>
            //{
            //    model.Id(p => p.Guid);
            //})
            .PageSize(10)
            //.Read(read => read.Action("GetAllMedicineForDisease", "Visit").Data("GetDiseaseIdForMedicines"))
            )
            .Filterable(ftb => ftb.Mode(GridFilterMode.Row))
            .Pageable(pageable => pageable
            .Input(true)
            .Refresh(true)
            .PageSizes(true)
            .ButtonCount(5)
            .Numeric(true)) // Enable paging
            .Sortable().HtmlAttributes(new { @style = "direction: ltr;margin-top:2rem;overflow:auto" }) // Enable sorting

        );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
    </div>

</div>


<script>

    $(document).ready(function () {
        GetAnalysisFromServer();

    });

    function GetAnalysisFromServer() {

        var grid = $('#analysisServerGrid').data(""kendoGrid"");

        $(""#GetDataError"").text("""");
        $(""#ServerPrescriptionNumber"").text("""");
        $(""#ServerPatientName"").text("""");
        $(""#ServerDoctorName"").text("""");
        $(""#ServerPatientMobile"").text("""");

        grid.dataSource.data([]);
        grid.setDataSource([]);

        $("".loader"").removeClass(""hidden"");
        var data;
        var link;

        var visitId = $(""#prescriptionVisit"").attr(""data-prescriptionVisitId"") ;
        if (visitId) {

            link = '/Visit/GetAnalysisFromServer';
            data = { visitId: visitId}

        } else {

            link = '/Visit/GetAnalysisFromServerForReception';
            data = {
                analysisServerVisitNum: $(""#PrescriptionNumber"").val(),
                nameMobile: $(""#Name");
            WriteLiteral(@"Mobile"").val()
            }

        }

        $.ajax({
            url: link,
            type: ""Post"",
            data: data,
            success: function (response) {

                $("".loader"").fadeIn(""slow"");
                $("".loader"").addClass(""hidden"");

                if (response.Message == ""Success"") {
                    $(""#ServerPrescriptionNumber"").text(response.MasterId);
                    $(""#ServerPatientName"").text(response.PatientName);
                    $(""#ServerDoctorName"").text(response.DoctorName);
                    $(""#ServerPatientMobile"").text(response.Mobile);

                    grid.setDataSource(response.Analysis);
                } else {
                    $(""#GetDataError"").text(response.Message);
                }

            },
            error: function (response) {
                console.log(response);
                console.log(response.data);
                console.log(response.error);

                $("".loader"").fa");
            WriteLiteral("deIn(\"slow\");\r\n                $(\".loader\").addClass(\"hidden\");\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    $(\"#analysisServerGrid\").find(\".k-pager-refresh\").on(\"click\", function () {\r\n\r\n        GetAnalysisFromServer();\r\n    });\r\n</script>\r\n");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
