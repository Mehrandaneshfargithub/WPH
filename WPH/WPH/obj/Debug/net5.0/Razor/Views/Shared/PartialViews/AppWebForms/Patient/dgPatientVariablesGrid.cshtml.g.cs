#pragma checksum "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "fb5fab08e11023b17b62469b2d4ebc5bea1b97a2"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(WPH.Pages.Shared.PartialViews.AppWebForms.Patient.Views_Shared_PartialViews_AppWebForms_Patient_dgPatientVariablesGrid), @"mvc.1.0.view", @"/Views/Shared/PartialViews/AppWebForms/Patient/dgPatientVariablesGrid.cshtml")]
namespace WPH.Pages.Shared.PartialViews.AppWebForms.Patient
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "H:\Projects\WASVersion2\WPH\WPH\Views\_ViewImports.cshtml"
using WPH;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "H:\Projects\WASVersion2\WPH\WPH\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"fb5fab08e11023b17b62469b2d4ebc5bea1b97a2", @"/Views/Shared/PartialViews/AppWebForms/Patient/dgPatientVariablesGrid.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5221a2d8e2059d2e61789d73e7efe285a53b8943", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Shared_PartialViews_AppWebForms_Patient_dgPatientVariablesGrid : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<WPH.Models.CustomDataModels.PatientVariable.PatientVariableViewModel>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"

<style>

    .k-primary:hover {
        text-decoration: none;
    }
</style>


<div class=""row"" style=""padding:2rem 1.3rem"">

    <a class=""k-primary"" onClick=""AddNewPatientVariable()"" href=""#"" style=""padding:1rem;font-size:1.5rem"">
        ");
#nullable restore
#line 15 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
   Write(ViewBag.New);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
        <i class=""ace-icon glyphicon  glyphicon-plus "" style=""transform:translateY(2px)""></i>

    </a>
</div>



<div>

    <table id=""PatientVariablesGrid"">

        <colgroup>
            <col style=""width:50px;text-align:center"" />
            <col style=""width:150px;text-align:center"" />
");
#nullable restore
#line 30 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
              
                foreach (var cli in Model.ClinicSectionChoosenValues)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <col style=\"text-align:center\" />\r\n");
#nullable restore
#line 34 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                }
            

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            <col style=""width:50px;text-align:center"" />
            <col style=""width:50px;text-align:center"" />
        </colgroup>



        <thead>

            <tr>

                <th data-field=""index"" style=""text-align:center"">#</th>
                <th data-field=""date"" style=""text-align:center"">Date</th>
");
#nullable restore
#line 48 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                  
                    foreach (var cli in Model.ClinicSectionChoosenValues)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <th data-field=\"");
#nullable restore
#line 51 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                                   Write(cli.VariableNameForView);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" style=\"text-align:center\">");
#nullable restore
#line 51 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                                                                                       Write(cli.PatientVariableVariableName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</th>\r\n");
#nullable restore
#line 52 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                    }
                

#line default
#line hidden
#nullable disable
            WriteLiteral("                <th data-field=\"edit\" style=\"text-align:center\"></th>\r\n                <th data-field=\"delete\" style=\"text-align:center\"></th>\r\n            </tr>\r\n\r\n        </thead>\r\n\r\n        <tbody>\r\n\r\n");
#nullable restore
#line 62 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
              
                int i = 1;
                foreach (var List in Model.AllVariableValues)
                {
                    if (List.Count != 0)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr>\r\n                            <td>");
#nullable restore
#line 69 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                           Write(i);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n\r\n                            <td>");
#nullable restore
#line 71 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                           Write(List.FirstOrDefault().VariableInsertedDate.Value.ToShortDateString());

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n");
#nullable restore
#line 72 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                              
                                foreach (var value in List)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td data-id=\"");
#nullable restore
#line 75 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                                            Write(value.Guid);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 75 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                                                         Write(value.Value);

#line default
#line hidden
#nullable disable
            WriteLiteral("<span class=\"hidden\">");
#nullable restore
#line 75 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                                                                                          Write(value.Guid);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span></td>\r\n");
#nullable restore
#line 76 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                                }
                            

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            <td>
                                <a class=""grid-btn"" onClick=""EditPatientVariable(this)"">
                                    <span class=""green"">
                                        <i class=""ace-icon fa fa-pencil bigger-120""></i>
                                    </span>
                                </a>
                            </td>

                            <td>
                                <a class=""grid-btn"" onClick=""DeletePatientVariable(this)"">
                                    <span class=""red"">
                                        <i class=""ace-icon fa fa-trash-can bigger-120""></i>
                                    </span>
                                </a>
                            </td>

                        </tr>
");
#nullable restore
#line 96 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                    }

                    i++;
                }

            

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n        </tbody>\r\n\r\n\r\n\r\n\r\n    </table>\r\n\r\n</div>\r\n\r\n\r\n<div class=\"demo-section k-content col-xs-12\" style=\"margin-top:2rem\">\r\n    ");
#nullable restore
#line 114 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
Write(Html.Kendo().Upload()
        .Name("files")
        .Multiple(true)

        .Async(a => a
            .Save("Async_Save", "Patient", new { patientId = Model.PatientId })
            .Remove("Async_Remove", "Patient")

            .AutoUpload(true)
        )
        .ShowFileList(false)

        .Events(events => events
                .Error("onPatientImageError")
                .Complete("onPatientImageComplete")

            )
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n\r\n<div id=\"PatientImages\" class=\"col-xs-12\" style=\"margin:2rem 0\">\r\n\r\n\r\n</div>\r\n\r\n\r\n<div>\r\n\r\n\r\n    ");
#nullable restore
#line 144 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
Write(Html.Kendo().Window()
        .Name("window")
        //.Title("Image Preview")
        .Visible(false)
        .Content(item => new global::Microsoft.AspNetCore.Mvc.Razor.HelperResult(async(__razor_template_writer) => {
    PushWriter(__razor_template_writer);
    WriteLiteral("\r\n                    <img id=\"imagePreview\" src=\"#\" alt=\"Image Preview\" height=\"500\" />\r\n        ");
    PopWriter();
}
))
.Draggable()
.Resizable()
.Actions(actions => actions.Pin().Minimize().Maximize().Close())
    );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

</div>



<script>


    $(document).ready(function () {
        $(""#PatientVariablesGrid"").kendoGrid();
         $("".loader"").removeClass(""hidden"");
        GetAllPatientImages();
    });


    function AddNewPatientVariable() {
        $("".loader"").removeClass(""hidden"");
        $(""#PatientVariableNewModal"").modal('toggle');
        var patientid = $(""#btn-PatientVariables-accept"").attr('data-patientid');
        //$(""#PatientVariables-modal-header"").text(/*$(""#PatientVariables-modal-header"").text() + "" - "" + */$(element).attr('data-name'));

        $(""#btn-PatientVariableNew-accept"").attr('data-patientid', patientid);

        var link = ""/Patient/NewPatientVariableModal?patientId="";
        $('#PatientVariableNewModal-body').load(link + patientid, function () {
            $("".loader"").fadeIn(""slow"");
            $("".loader"").addClass(""hidden"");
        });
    }


    function EditPatientVariable(element) {

        $("".loader"").removeClass(""hidden"");

        $(""#P");
            WriteLiteral(@"atientVariableNewModal"").modal('toggle');
        var patientid = $(""#btn-PatientVariables-accept"").attr('data-patientid');
        var allVariables = $(element).parent().prevAll();

        var allVariablesId = [];

        let rr = $(allVariables[1]).find('span').text();

        for (let i = 0; i < allVariables.length; i++) {
            if ($(allVariables[i]).attr('data-field') === ""date"")
                break;
            allVariablesId.push($(allVariables[i]).find('span').text());
        }

        $(""#btn-PatientVariableNew-accept"").attr('data-patientid', patientid);
        var link = ""/Patient/EditPatientVariableModal?PatientId="";
        $('#PatientVariableNewModal-body').load(link + allVariablesId, function () {
            $("".loader"").fadeIn(""slow"");
            $("".loader"").addClass(""hidden"");
        });
    }

    function DeletePatientVariable(element) {



            bootbox.confirm('");
#nullable restore
#line 216 "H:\Projects\WASVersion2\WPH\WPH\Views\Shared\PartialViews\AppWebForms\Patient\dgPatientVariablesGrid.cshtml"
                        Write(ViewBag.DeleteBody);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"', function (result) {


                if (!result) {

                    return;

                }
                else {

                    $("".loader"").removeClass(""hidden"");

                    var allVariables = $(element).parent().prev().prevAll();

                    var allVariablesId = [];


                    for (let i = 0; i < allVariables.length; i++) {
                        if ($(allVariables[i]).attr('data-field') === ""date"")
                            break;
                        allVariablesId.push($(allVariables[i]).find('span').text());
                    }

                    var link = ""/Patient/DeletePatientVariableModal"";

                    $.ajax({

                        url: link,

                        type: ""Post"",

                        data: { PatientId: allVariablesId },

                        success: function (response) {

                            var patientid = $(""#btn-PatientVariables-accept"").attr('data-patient");
            WriteLiteral(@"Id');

                            var link = ""/Patient/PatientVariableModal?patientId="";
                            $('#PatientVariables-modal-body').load(link + patientid, function () {
                                $("".loader"").fadeIn(""slow"");
                                $("".loader"").addClass(""hidden"");
                            });

                        }

                    });

                }
            })

    }

    function DeletePatientImage(element) {

        bootbox.confirm('Do you Want Delete This Image?', function (result) {
            
            if (!result) {

                return;

            }
            else {
                var Id = $(element).attr(""data-Id"");

                $("".loader"").removeClass(""hidden"");
                $.ajax({

                    url: '/Patient/RemovePatientImage',

                    type: ""Post"",

                    data: { patientImageId: Id },

                    success: function () {

   ");
            WriteLiteral(@"                     $(""#PatientImages"").html('');
                        GetAllPatientImages();
                        $("".loader"").fadeIn(""slow"");
                        $("".loader"").addClass(""hidden"");

                    }


                });
            }

        })

    }

    function GetAllPatientImages() {

        $(""#PatientImages"").html('');
        let pat = $(""#btn-PatientVariables-accept"").attr('data-patientid');
        $.ajax({

            url: '/Patient/GetAllPatientImages',

            type: ""Post"",

            data: { patientId: pat },

            success: function (eventList) {
                
                for (let i = 0; i < eventList.length; i++) {
                    $(""<div class='col-xs-4 col-sm-2' style='text-align:center;margin-bottom:2rem'>""+
                        ""<div style='margin-bottom:1rem'> <img src="" + eventList[i].ImageAddress + "" width='150' height='150' ondblclick='openPic(this)' /></div>"" +
                        ""<h5>""");
            WriteLiteral(@" + eventList[i].FileName + ""</h5>""+
                        ""<a class='k-primary grid-btn' style='margin-top:5rem'  onclick='DeletePatientImage(this)' data-Id ="" + eventList[i].Guid + "" > Delete </a>""+
                        ""</div> "").appendTo($(""#PatientImages""));
                }
               
                $("".loader"").fadeIn(""slow"");
                $("".loader"").addClass(""hidden"");

            }


        });

    }



    function openPic(e) {
        
        //var destenation = $(e).next().next().text();
        var destenation1 = $(e).attr('src');
        

        
        $(""#imagePreview"").attr(""src"", destenation1);
        $(""#window"").data(""kendoWindow"").center().open();
    }


</script>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<WPH.Models.CustomDataModels.PatientVariable.PatientVariableViewModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
