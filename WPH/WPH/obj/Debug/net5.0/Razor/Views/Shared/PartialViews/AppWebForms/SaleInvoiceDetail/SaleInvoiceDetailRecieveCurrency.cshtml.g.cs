#pragma checksum "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "1426f604e7df385cff60d05f7509c9c554dcac57"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(WPH.Pages.Shared.PartialViews.AppWebForms.SaleInvoiceDetail.Views_Shared_PartialViews_AppWebForms_SaleInvoiceDetail_SaleInvoiceDetailRecieveCurrency), @"mvc.1.0.view", @"/Views/Shared/PartialViews/AppWebForms/SaleInvoiceDetail/SaleInvoiceDetailRecieveCurrency.cshtml")]
namespace WPH.Pages.Shared.PartialViews.AppWebForms.SaleInvoiceDetail
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using WPH;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "H:\Projects\WAS\WPH\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"1426f604e7df385cff60d05f7509c9c554dcac57", @"/Views/Shared/PartialViews/AppWebForms/SaleInvoiceDetail/SaleInvoiceDetailRecieveCurrency.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5221a2d8e2059d2e61789d73e7efe285a53b8943", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Shared_PartialViews_AppWebForms_SaleInvoiceDetail_SaleInvoiceDetailRecieveCurrency : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<WPH.Models.CustomDataModels.BaseInfo.BaseInfoGeneralViewModel>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n\r\n\r\n<div");
            BeginWriteAttribute("class", " class=\"", 133, "\"", 161, 3);
            WriteAttributeValue("", 141, "col-sm-", 141, 7, true);
#nullable restore
#line 6 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
WriteAttributeValue("", 148, Model.Index, 148, 12, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 160, "", 161, 1, true);
            EndWriteAttribute();
            WriteLiteral(" style=\"border:1px rgba(128, 128, 128,0.5) solid;border-radius:0.5rem;padding:0.5rem;margin:0.5rem\">\r\n\r\n    <h3");
            BeginWriteAttribute("id", " id=\"", 273, "\"", 292, 2);
            WriteAttributeValue("", 278, "guid-", 278, 5, true);
#nullable restore
#line 8 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
WriteAttributeValue("", 283, Model.Id, 283, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"hidden\">\r\n    </h3>\r\n\r\n    <div class=\"col-sm-12\" style=\"border-bottom:solid 1px gray\">\r\n\r\n        <h3 class=\"MyFont-Roboto\">\r\n            ");
#nullable restore
#line 14 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
       Write(Model.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n        </h3>\r\n\r\n\r\n    </div>\r\n\r\n    <div class=\"col-sm-12\" style=\"display:flex;align-items:center\">\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            <h4>");
#nullable restore
#line 25 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
           Write(Localizer["Total"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h4>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            <h4");
            BeginWriteAttribute("id", " id=\"", 704, "\"", 724, 2);
            WriteAttributeValue("", 709, "Total-", 709, 6, true);
#nullable restore
#line 31 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
WriteAttributeValue("", 715, Model.Id, 715, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">0</h4>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"col-sm-12\" style=\"display:flex;align-items:center\">\r\n\r\n        <div class=\"col-sm-3\">\r\n\r\n            <h4>%");
#nullable restore
#line 41 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
            Write(Localizer["Discount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h4>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-sm-2\">\r\n\r\n            ");
#nullable restore
#line 47 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
        Write(Html.Kendo().NumericTextBox<decimal>()
                        .Name("DiscountPercent-"+ Model.Id)
                        .Min(0)
                        .Max(100)
                        .Value(0)
                        .SelectOnFocus(true)
                        .HtmlAttributes(new { style = "width: 100%", @data_checkEmpty = "Amount-box", onkeypress = "DiscountPercentKeyPress(" + Model.Id +",event)" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n        </div>\r\n        <div class=\"col-sm-1\">\r\n\r\n            =\r\n\r\n        </div>\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            ");
#nullable restore
#line 65 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
        Write(Html.Kendo().NumericTextBox<decimal>()
                        .Name("Discount-" + Model.Id)
                        .Min(0)
                        .Value(0)
                        .SelectOnFocus(true)
                        .HtmlAttributes(new { style = "width: 100%", @data_checkEmpty = "Amount-box", onkeypress = "DiscountKeyPress(" + Model.Id + ",event)" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"col-sm-12\" style=\"display:flex;align-items:center\">\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            <h4>");
#nullable restore
#line 82 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
           Write(Localizer["Remaining"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h4>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            <h4");
            BeginWriteAttribute("id", " id=\"", 2221, "\"", 2242, 2);
            WriteAttributeValue("", 2226, "Remain-", 2226, 7, true);
#nullable restore
#line 88 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
WriteAttributeValue("", 2233, Model.Id, 2233, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">0</h4>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"col-sm-12\" style=\"display:flex;align-items:center\">\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            <h4>");
#nullable restore
#line 98 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
           Write(Localizer["ReceiveAmount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h4>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            <h4");
            BeginWriteAttribute("id", " id=\"", 2510, "\"", 2533, 2);
            WriteAttributeValue("", 2515, "Recieved-", 2515, 9, true);
#nullable restore
#line 104 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
WriteAttributeValue("", 2524, Model.Id, 2524, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">0</h4>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"col-sm-12\" style=\"display:flex;align-items:center\">\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            <h4>");
#nullable restore
#line 114 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
           Write(Localizer["Remaining"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 114 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
                                   Write(Localizer["After"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 114 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
                                                       Write(Localizer["ReceiveAmount"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h4>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            <h4");
            BeginWriteAttribute("id", " id=\"", 2845, "\"", 2878, 2);
            WriteAttributeValue("", 2850, "RemainAfterRecieve-", 2850, 19, true);
#nullable restore
#line 120 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
WriteAttributeValue("", 2869, Model.Id, 2869, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">0</h4>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"col-sm-12\" style=\"display:flex;align-items:center\">\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            <h4>");
#nullable restore
#line 130 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
           Write(Localizer["Recieve"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h4>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-sm-6\">\r\n\r\n            ");
#nullable restore
#line 136 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
        Write(Html.Kendo().NumericTextBox<decimal>()
                        .Name("Recieve-" + Model.Id)
                        .Min(0)
                        .Value(0)
                        .SelectOnFocus(true)
                        .HtmlAttributes(new { style = "width: 100%", @data_checkEmpty = "Amount-box", onkeypress = "RecieveKeyPress(" + Model.Id + ",event)" })
                        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"col-sm-12\" style=\"margin-top:1rem\">\r\n\r\n\r\n        <div class=\"col-sm-12\">\r\n\r\n            <a href=\"\\\\#\" class=\"k-button  toolbarButton pull-left\" title=\"Add\"");
            BeginWriteAttribute("onclick", " onclick=\"", 3740, "\"", 3782, 3);
            WriteAttributeValue("", 3750, "RecieveKeyClick(", 3750, 16, true);
#nullable restore
#line 153 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
WriteAttributeValue("", 3766, Model.Id, 3766, 9, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 3775, ",event)", 3775, 7, true);
            EndWriteAttribute();
            WriteLiteral(" style=\"background-color:forestgreen\"><span class=\"fa-regular fa-circle-plus\" style=\"font-size:2rem\"></span></a>\r\n            <a href=\"\\\\#\" class=\"k-button  toolbarButton pull-left\" title=\"Add\"");
            BeginWriteAttribute("onclick", " onclick=\"", 3976, "\"", 4018, 3);
            WriteAttributeValue("", 3986, "ReceivedAmountHistory(", 3986, 22, true);
#nullable restore
#line 154 "H:\Projects\WAS\WPH\Views\Shared\PartialViews\AppWebForms\SaleInvoiceDetail\SaleInvoiceDetailRecieveCurrency.cshtml"
WriteAttributeValue("", 4008, Model.Id, 4008, 9, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4017, ")", 4017, 1, true);
            EndWriteAttribute();
            WriteLiteral(@" style=""background-color:#34568b;margin-left:1rem""><span class=""fa-regular fa-clock-rotate-left"" style=""font-size:2rem""></span></a>

        </div>


    </div>




</div>





<script>

    function DiscountPercentKeyPress(id,event) {

        if (event.which === 13)
        {
            let percent = $(""#DiscountPercent-"" + id).val();

            if (percent < 0)
                return;

            let sharpDiscount = (parseFloat($(""#Total-"" + id).text()) * percent) / 100;

            let discountGuid = $(""#guid-"" + id).text();

            SendSaleInvoiceDiscount(id, sharpDiscount, $(""#Guid"").val(), discountGuid);

        }

    }

    function DiscountKeyPress(id, event) {

        if (event.which === 13) {

            let percent = $(""#Discount-"" + id).val();

            if (percent < 0)
                return;

            let discountGuid = $(""#guid-"" + id).text();

            SendSaleInvoiceDiscount(id, percent, $(""#Guid"").val(), discountGuid);
");
            WriteLiteral(@"        }

    }

    function SendSaleInvoiceDiscount(id, discount, saleId, discountGuid) {

        var token = $(':input:hidden[name*=""RequestVerificationToken""]');
        $("".loader"").removeClass(""hidden"");
        let data = {
            __RequestVerificationToken: token.attr('value'),
            Guid: discountGuid,
            CurrencyId: id,
            Amount: discount,
            AmountTxt: discount,
            SaleInvoiceId: saleId
        }

        $.ajax({
            data: data,
            type: ""post"",
            url: ""/SaleInvoiceDiscount/AddOrUpdate"",
            success: function (response) {
                if (response != 0) {

                    GetReceiveAndDiscount($(""#Guid"").val(), id);
                    $("".loader"").fadeIn(""slow"");
                    $("".loader"").addClass(""hidden"");

                }

            }
        });

    }

    let disableRecieve = true;
    function RecieveKeyPress(id, e) {

        if (e.which === 13)
   ");
            WriteLiteral(@"     {
            if (disableRecieve) {
                disableRecieve = false;
                let amount = $(""#Recieve-"" + id).val();

                let remainAfterReceive = $(""#RemainAfterRecieve-"" + id).text();

                if (amount <= 0 || amount > parseFloat(remainAfterReceive)) {
                    disableRecieve = true;
                    return;
                }
                    

                let saleId = $(""#Guid"").val();

                let customerId = $(""#CustomerId"").val();

                let ReceiveAmounts = []
                ReceiveAmounts.push({
                    Amount: amount,
                    BaseCurrencyId: id,
                    CurrencyId: id,
                    BaseAmount: 1,
                    DestAmount: 1
                });



                let data = {
                    ReceiveAmounts: ReceiveAmounts,
                    SaleInvoiceId: saleId,
                    CustomerId: customerId
                }


      ");
            WriteLiteral(@"          $.ajax({
                    data: data,
                    type: ""post"",
                    url: ""/Receive/AddOrUpdate"",
                    success: function (response) {

                        GetReceiveAndDiscount($(""#Guid"").val(), id);
                        disableRecieve = true;
                        $(""#Recieve-"" + id).data(""kendoNumericTextBox"").value(0);
                    }
                });
            }
            

        }

    }

    function RecieveKeyClick(id, e) {

        
            if (disableRecieve) {
                disableRecieve = false;
                let amount = $(""#Recieve-"" + id).val();

                let remainAfterReceive = $(""#RemainAfterRecieve-"" + id).text();

                if (amount <= 0 || amount > parseFloat(remainAfterReceive)) {
                    disableRecieve = true;
                    return;
                }

                let saleId = $(""#Guid"").val();

                let customerId = $(""#Custo");
            WriteLiteral(@"merId"").val();

                let ReceiveAmounts = []
                ReceiveAmounts.push({
                    Amount: amount,
                    BaseCurrencyId: id,
                    CurrencyId: id,
                    BaseAmount: 1,
                    DestAmount: 1
                });

                let data = {
                    ReceiveAmounts: ReceiveAmounts,
                    SaleInvoiceId: saleId,
                    CustomerId: customerId
                }
                $("".loader"").removeClass(""hidden"");
                $.ajax({
                    data: data,
                    type: ""post"",
                    url: ""/Receive/AddOrUpdate"",
                    success: function (response) {

                        GetReceiveAndDiscount($(""#Guid"").val(), id);
                        disableRecieve = true;
                        $(""#Recieve-"" + id).data(""kendoNumericTextBox"").value(0);
                        $("".loader"").fadeIn(""slow"");
                     ");
            WriteLiteral("   $(\".loader\").addClass(\"hidden\");\r\n                    }\r\n                });\r\n            }\r\n\r\n    }\r\n\r\n    \r\n\r\n</script>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public WPH.Resources.SharedViewLocalizer Localizer { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<WPH.Models.CustomDataModels.BaseInfo.BaseInfoGeneralViewModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
